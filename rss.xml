<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[RSS Feed | bugoverdose]]></title><description><![CDATA[공부하고 경험한 내용을 깔끔하게 설명하는 것을 목표로 하는 개발 블로그입니다. 컴퓨터과학, 웹 개발 등 다양한 주제를 포괄적으로 다룹니다.]]></description><link>https://bugoverdose.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 24 Mar 2022 05:17:12 GMT</lastBuildDate><item><title><![CDATA[[Java] 스트림 기초: I/O Stream과 Stream API]]></title><description><![CDATA[Stream API을 통해 생성되는 스트림은 말 그대로 '데이터의 흐름'이다. 이 흐름이라는 개념에 포함된 다양한 의미 중 가장 중요한 것은 스트림이 흘러가는 과정에서 데이터가 순차적으로 사용되고 사라진다는 점이다.]]></description><link>https://bugoverdose.github.io/development/stream-and-java/</link><guid isPermaLink="false">https://bugoverdose.github.io/development/stream-and-java/</guid><pubDate>Mon, 21 Mar 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;음성 파일이나 동영상 파일을 온라인으로 (합법) 다운로드하고 로컬 머신에서 재생하는 경우를 생각해보자.
한 번 다운로드가 완료된 파일은 몇 번이고 재생할 수 있다는 이점이 있다.&lt;/p&gt;&lt;p&gt;하지만 처음 접한 곡을 맛보기로 몇 초 정도만 들어보고 싶은 경우는 어떠할까?
우리는 아직 해당 음성 파일이 우리의 작고 소중한 컴퓨터의 메모리를 차지하는 것을 원하지 않는다.
그럼에도 불구하고 우리는 음악을 듣기 위해 (1) 파일을 다운로드해야 하며,
(2) 파일 전체가 100%로 완전히 다운로드될 때까지 기다려야 한다는 부담이 있다.&lt;/p&gt;&lt;p&gt;이 경우 음성 데이터의 10% 정도만 로컬에 받아 즉석에서 플레이해보고 싶다는 생각이 드는 것이 정상일 것이다.
즉, 우리는 때때로 음악을 온라인 &lt;strong&gt;스트리밍&lt;/strong&gt;을 통해 실시간으로 들어보고 싶다는 것이다.
해당 게시글은 이때 말하는 &lt;strong&gt;스트림&lt;/strong&gt;과 관련한 기능을 자바에서 어떻게 제공하는지에 대해 이야기해보고자 한다.&lt;/p&gt;&lt;h2&gt;스트림&lt;/h2&gt;&lt;p&gt;컴퓨터과학에서 스트림(stream)은 기본적으로
&lt;strong&gt;시간의 흐름에 따라 순차적으로 사용할 수 있게 되는 일련의 데이터 요소&lt;/strong&gt;를 가리킨다.
이 말의 의미가 무엇인가?
스트림을 구성하는 모든 데이터에 대해 작업A, 작업B, 작업C를 수행해야 하는 경우를 생각해보자.
컴퓨터는 기본적으로 스트림을 구성하는 &lt;em&gt;모든 데이터&lt;/em&gt;에 대해 작업A를 수행하고,
그 다음에 &lt;em&gt;모든 데이터&lt;/em&gt;에 대해 작업B를 수행하지 &lt;strong&gt;않는다&lt;/strong&gt;.
스트림에서는 우선 &lt;em&gt;첫 번째 데이터&lt;/em&gt;에 대해 작업A, 작업B, 작업C를 전부 다 수행하고,
&lt;em&gt;두 번째 데이터&lt;/em&gt;에 대해 작업A, 작업B, 작업C를 수행하게 된다.&lt;/p&gt;&lt;p&gt;실제 예시를 위해 동영상 스트리밍 상황을 한 번 생각해보자.
웹브라우저는 몇 분짜리 영상을 실행하기 위해 영상 파일의 맨 처음부터 1초, 2초에 해당되는 데이터를
순차적으로 브라우저에 다운로드받고 순서대로 실행하게 된다.
물론 데이터가 사용가능해지는 시점에 즉시 로컬에서 실행하는 경우,
1초짜리 데이터가 0.5배속으로 2초에 걸쳐 실행되거나, 2배속으로 0.5초에 걸쳐 실행되는 등의 문제가 발생할 것이다.
이러한 문제를 예방하고자 수신되는 데이터를 일시적으로 캐슁해주는 &lt;strong&gt;버퍼링&lt;/strong&gt; 작업이 수행된다.&lt;/p&gt;&lt;p&gt;이때 우리가 갑자기 동영상의 뒷부분을 실행하려고 하면 어떻게 되겠는가?
아마 해당 부분이 실행되기까지는 시간이 좀 걸릴 것이다.
이는 영상이 실행되기 위한 작업이 종료된 앞부분과는 달리,
&lt;strong&gt;뒷부분은 아직 준비되지 않았기 때문&lt;/strong&gt;일 것이다. 그리고 이것이 바로 스트림의 본질이라고 볼 수 있다.&lt;/p&gt;&lt;p&gt;그리고 근본 있는 언어인 자바에는 이 스트림과 관련된 API를 두 종류나 지니고 있다.
이 둘은 사용되는 맥락과 방법이 서로 다르기 때문에 서로 혼용하지 않도록 주의해야 한다.
특히 &lt;strong&gt;각 API에서 만들어내는 스트림은 자바 애플리케이션 내에서 서로 구분되는 별개의 존재&lt;/strong&gt;라는
점을 명확히 알고 있어야 한다.&lt;/p&gt;&lt;h2&gt;I/O Stream&lt;/h2&gt;&lt;p&gt;위의 스트리밍 관련 예시를 읽었다면 입출력 관련 기능이 스트림과 관련되었다는 점은 전혀 이상하지 않을 것이다.
&lt;code&gt;java.io&lt;/code&gt; 패키지에서 제공하는 추상클래스와 그 구체클래스들을 통해
자바 애플리케이션은 콘솔에 입력된 값이나 파일의 데이터를 읽어들이고,
콘솔에 값을 출력하거나 파일에 데이터를 남길 수 있다.&lt;/p&gt;&lt;p&gt;이러한 입출력 관련 작업은 I/O 스트림 관련 클래스로부터 &lt;strong&gt;스트림 인스턴스를 생성&lt;/strong&gt;하고,
스트림 인스턴스의 메서드를 호출하는 방식으로 진행된다.
바로 이러한 작업방식 때문에 스트림을 &lt;em&gt;&amp;quot;데이터가 이동하는 통로&amp;quot;&lt;/em&gt; 혹은
&lt;em&gt;운영체제에 의해 생성되는 데이터의 중간 매개자&lt;/em&gt;와 같이 설명하는 경우가 종종 있다.
입출력 작업에 한해 이러한 설명은 딱히 틀렸다고 보기 어렵다.
실제로 자바 애플리케이션 입장에서는 스트림 인스턴스를 통해 외부로부터 데이터를 받고,
외부로 데이터를 보내는 것이기 때문이다.
그러나 이는 해당 API에서 사용되는 &lt;strong&gt;스트림 인스턴스&lt;/strong&gt;에 대한 설명이지
스트림 자체에 대한 설명으로 보면 안 될 것이다.&lt;/p&gt;&lt;p&gt;주석에 있는 바이트 기반 스트림&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;과
문자 기반 스트림&lt;div num=&quot;2&quot;&gt;&lt;/div&gt;에 대한 설명은
가볍게 읽고 넘어가도 무관하다.&lt;/p&gt;&lt;h2&gt;Stream API&lt;/h2&gt;&lt;p&gt;Stream API는 컬렉션, 배열 등의 &lt;strong&gt;데이터 소스를 스트림으로 만들어 작업&lt;/strong&gt;하기 위한 기능을
제공하기 위해 Java 8 때 등장하였다.
주의할 점은 Stream API를 통해 만들어지는 스트림은
I/O Stream으로 인해 만들어지는 스트림 인스턴스와는 별개라는 점이다.&lt;/p&gt;&lt;p&gt;Stream API는 맨 위에서 정의내린 바로 그 스트림에 그대로 부합한다.
&lt;em&gt;자바 애플리케이션 내에서&lt;/em&gt; 데이터 소스를 스트림으로 변환함으로써
스트림 연산이 지니는 다양한 이점을 활용할 수 있게 된다는 점이 Stream API의 핵심이다.&lt;div num=&quot;3&quot;&gt;&lt;/div&gt;
Stream API를 통해 우리는 가독성 높은 코드로 아주 간편하게
데이터를 필터링하고, 변환하는 등의 작업을 수행할 수 있게 되었다.&lt;/p&gt;&lt;p&gt;Stream API에 대해 이야기할 요소는 아주 많지만
해당 게시글에서는 이 Stream API가 만들어내는 &amp;quot;스트림&amp;quot;에 대해 아주 가볍게만 알아보자.&lt;/p&gt;&lt;h2&gt;Stream API의 스트림&lt;/h2&gt;&lt;p&gt;&lt;em&gt;모던 자바 인 액션&lt;/em&gt;에서는 스트림을 &amp;quot;데이터 처리 연산을 지원하도록
소스에서 출력된 연속된 요소&amp;quot;라고 정의한다.
&lt;strong&gt;데이터 처리 연산을 지원하기 위해&lt;/strong&gt;
기존에 존재하는 데이터 소스를 굳이 &lt;strong&gt;스트림으로 변환&lt;/strong&gt;하여 사용한다는 점을
제외하면 이미 반복적으로 언급된 스트림의 정의와 사실상 동일하다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;코드를 통해 이를 이해해보자.
아래와 같이 &lt;code&gt;AppleWrapper&lt;/code&gt; 인스턴스들의 리스트가 하나 있다고 가정하자.
&lt;code&gt;Apple&lt;/code&gt; 인스턴스는 id와 color 값을 지니며,
&lt;code&gt;AppleWrapper&lt;/code&gt; 인스턴스는 그러한 &lt;code&gt;Apple&lt;/code&gt; 인스턴스를 감싸고 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; appleWrappers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
         &lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Apple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;RED&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Apple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;RED&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Apple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;GREEN&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Apple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;GREEN&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Apple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;YELLOW&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Apple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;YELLOW&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Apple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;YELLOW&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그리고 아래 예시는 Stream API를 통해 &lt;code&gt;appleWrappers&lt;/code&gt; 리스트를 스트림으로 변환하고,
3개의 &lt;code&gt;AppleWrapper&lt;/code&gt; 인스턴스로부터 &lt;code&gt;Apple&lt;/code&gt; 인스턴스를 추출하고,
최종적으로 &lt;code&gt;Dto&lt;/code&gt;로 변환하여 리스트에 담는 과정을 보여준다.
사과의 &lt;code&gt;id&lt;/code&gt;와 &lt;code&gt;color&lt;/code&gt; 값을 출력하는 과정 덕분에 우리는 첫 번째 데이터부터
순차적으로 모든 작업이 수행되며, 필요 없는 데이터는 무시된다는 점을 알 수 있다.
이러한 과정은 위에서 언급한 스트림의 특성과 동일하다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Dto&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; threeAppleData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; appleWrappers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ripOpen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;peek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;peek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getColor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Dto&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Collectors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;threeAppleData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// RED&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// RED&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 3&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// GREEN&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [Dto{id=1, color=RED}, Dto{id=2, color=RED}, Dto{id=3, color=GREEN}]&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그런데 이러한 작업은 사실 리스트를 스트림으로 변환하지 않더라도 충분히 수행할 수 있는 작업이다.
아래와 같은 코드를 실행하게 되면 동일하게 각 데이터에 대해 모든 작업이 순차적으로 수행되며,
동일하게 3개의 데이터에 대해서만 작업을 한 상태로 동일한 리스트를 반환하게 된다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Dto&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; threeDto &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AppleWrapper&lt;/span&gt; appleWrapper &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; appleWrappers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;threeDto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token class-name&quot;&gt;Apple&lt;/span&gt; apple &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; appleWrapper&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ripOpen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getColor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   threeDto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Dto&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apple&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;threeDto&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그러나 이러한 작업을 거치게 되면 &lt;code&gt;apple&lt;/code&gt; 인스턴스가 매번 생성되며
메모리를 순간적으로라도 차지하게 된다는 문제가 있다.
물론 이 경우 GC의 처리대상이 되겠지만
&lt;code&gt;apple&lt;/code&gt; 인스턴스는 분명 &lt;code&gt;Dto&lt;/code&gt; 인스턴스를 생성하는 &lt;strong&gt;연산 과정에서만 필요&lt;/strong&gt;한데,
자바 애플리케이션 자체에 인스턴스를 생성하는 것은 분명 리소스 낭비라고 볼 수 있다.
만일 &lt;code&gt;apple&lt;/code&gt;이 아니라 훨씬 더 리소스를 잡아먹는 데이터가 이렇게 중간 단계에
매번 생성된다면 애플리케이션의 부담은 커질 수 밖에 없다.&lt;/p&gt;&lt;p&gt;그에 반해 Stream API을 통해 만들어지는 스트림은 말 그대로 &amp;#x27;데이터의 흐름&amp;#x27;이다.
이 흐름이라는 개념은 다양한 의미를 함축하고 있다.
기본적으로 불순물이 섞이지 않은 일련의 흐름을 구성하기 위해
&lt;strong&gt;동일한 형식을 지닌 복수의 데이터&lt;/strong&gt;가 필요하다는 점도 자연스럽게 함의하고 있다.
그러나 그보다 중요한 것은 스트림이 &lt;em&gt;흘러가는&lt;/em&gt; 과정에서
데이터가 &lt;strong&gt;순차적으로 하나씩 사용되고, 사라지게 된다&lt;/strong&gt;는 점이다.
위의 예제에서는 억지로 &lt;code&gt;collect&lt;/code&gt; 메서드를 통해 스트림의 데이터를 리스트에 담았지만,
이러한 작업이 없었다면 &lt;code&gt;Apple&lt;/code&gt;과 &lt;code&gt;Dto&lt;/code&gt; 인스턴스에 대한 정보는 터미널에 출력되기만 했을 뿐,
자바 애플리케이션에는 전혀 남지 않았을 것이다.&lt;/p&gt;&lt;p&gt;즉, Stream API는 이처럼 &lt;strong&gt;효율적인 데이터 처리&lt;/strong&gt;에 특화된 문법이며,
스트림을 활용하여 이러한 메모리 및 성능상의 이점을 얻을 수 있다고 볼 수 있다.
자바의 세계에서 일어난 가장 혁명적인 사건 중 하나인
Stream API에 대해 더 자세히 알고 싶다면 아래 참고자료에 기재된
&lt;em&gt;모던 자바 인 액션&lt;/em&gt;을 참고하기를 권한다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;참고문서&lt;/div&gt;&lt;ul&gt;&lt;li&gt;모던 자바 인 액션 : &lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9791162242025&quot;&gt;책 링크&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;&lt;strong&gt;바이트 기반 스트림&lt;/strong&gt;: InputStream/OutputStream 계열&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Java 1.0 때부터 존재&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;1바이트 단위&lt;/strong&gt;로 데이터를 전송&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;추상클래스로 &lt;code&gt;InputStream&lt;/code&gt;과 &lt;code&gt;OutputStream&lt;/code&gt;이 제공되어 각각 입력과 출력 스트림을 담당&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;각 추상클래스를 구현하는 구체클래스는 파일, 오디오, 메모리 등 특정 종류의 데이터 소스에 대한 스트림 작업을 지원&lt;/p&gt;&lt;ul&gt;&lt;li&gt;파일: &lt;code&gt;FileInputStream&lt;/code&gt;, &lt;code&gt;FileOutputStream&lt;/code&gt;&lt;/li&gt;&lt;li&gt;메모리: &lt;code&gt;ByteArrayInputStream&lt;/code&gt;, &lt;code&gt;ByteArrayOutputStream&lt;/code&gt;&lt;/li&gt;&lt;li&gt;오디오: &lt;code&gt;AudioInputStream&lt;/code&gt;, &lt;code&gt;AudioOutputStream&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;보조 스트림을 활용하여 최적화 등의 작업 수행 가능&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div num=&quot;2&quot;&gt;&lt;p&gt;&lt;strong&gt;문자 기반 스트림&lt;/strong&gt;: Reader/Writer 계열&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Java 1.1 때 등장&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;2바이트 단위&lt;/strong&gt;로 데이터를 전송하는 바이트 기반 스트림 (char형은 2바이트 단위)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;추상클래스로 &lt;code&gt;Reader&lt;/code&gt;과 &lt;code&gt;Writer&lt;/code&gt;이 제공되어 각각 입력과 출력 스트림을 담당&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;각 추상클래스를 구현하는 구체클래스는 파일, 메모리, &lt;strong&gt;문자열&lt;/strong&gt; 등 특정 종류의 데이터 소스에 대한 스트림 작업을 지원&lt;/p&gt;&lt;ul&gt;&lt;li&gt;파일: &lt;code&gt;FileReader&lt;/code&gt;, &lt;code&gt;FileWriter&lt;/code&gt;&lt;/li&gt;&lt;li&gt;메모리: &lt;code&gt;CharArrayReader&lt;/code&gt;, &lt;code&gt;CharArrayWriter&lt;/code&gt;&lt;/li&gt;&lt;li&gt;문자열: &lt;code&gt;StringReader&lt;/code&gt;, &lt;code&gt;StringWriter&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;문자 기반 스트림을 위한 보조 스트림이 별도로 제공됨&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div num=&quot;3&quot;&gt;&lt;p&gt;사실 &lt;code&gt;Stream.generate()&lt;/code&gt;, &lt;code&gt;IntStream.range()&lt;/code&gt;와 같이 스트림 내부에서
데이터를 생성해내는 문법도 분명 존재한다.
위의 설명을 읽고 언제나 별도로 정의된 데이터 소스를 스트림으로 변환하는 방식으로만
Stream API를 사용한다고 오해하면 안 된다.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Stream API는 단순히 컬렉션에 대한 데이터 처리 방법이 아니다.&lt;/strong&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[[Java] 람다: 람다 캡처링]]></title><description><![CDATA[람다 캡처링이란 파라미터로 넘겨받은 데이터가 아닌 람다식 외부에서 선언된 변수를 참조하는 변수를 람다식 내부에 저장하고 사용하는 동작을 의미한다. 이번 글에서는 이를 둘러싼 제약사항 및 주의사항을 다루어보고자 한다.]]></description><link>https://bugoverdose.github.io/development/lambda-capturing-and-free-variable/</link><guid isPermaLink="false">https://bugoverdose.github.io/development/lambda-capturing-and-free-variable/</guid><pubDate>Mon, 14 Mar 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;람다 캡처링&lt;/h2&gt;&lt;p&gt;람다식은 기본적으로 &lt;code&gt;(파라미터) -&amp;gt; 바디&lt;/code&gt;와 같은 구조를 지니며,
바디에서는 파라미터로 넘겨진 변수를 활용하여 작업을 수행한다.&lt;/p&gt;&lt;p&gt;람다 캡처링(capturing lambda)이란 간단히 말해 이처럼 파라미터로 넘겨받은 데이터가 아닌
&lt;strong&gt;람다식 외부에서 정의된 변수를 참조하는 변수를 람다식 내부에 저장하고 사용하는 동작&lt;/strong&gt;을 의미한다.&lt;/p&gt;&lt;p&gt;아래는 &lt;code&gt;localVariable&lt;/code&gt;라는 이름의 지역변수를 람다에서 캡처하고,
해당 람다식을 &lt;code&gt;r&lt;/code&gt;이라는 변수에 할당하는 간단한 예제이다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambdaCapturing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; localVariable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;token class-name&quot;&gt;Runnable&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;localVariable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위의 예제에서 유의할 점은 람다식 내부에서 사용되는 &lt;strong&gt;자유변수&lt;/strong&gt; &lt;code&gt;localVariable&lt;/code&gt;과
지역변수로 선언한 &lt;code&gt;localVariable&lt;/code&gt;는 서로 별개라는 점이다.
이를 이해하기 위해 람다 캡처링의 제약 조건에 대해 알아보자.&lt;/p&gt;&lt;h2&gt;제약 조건: final 지역변수만 캡처 가능&lt;/h2&gt;&lt;p&gt;람다식 내부에서 클래스의 static 필드나 인스턴스 필드를 캡처하는 데에는 아무런 제약이 존재하지 않는다.
그러나 유독 지역변수를 람다식의 바디에서 캡처하려는 경우 다음과 같은 제약 사항이 존재한다.&lt;/p&gt;&lt;p&gt;&lt;code&gt;local variables referenced from a lambda expression must be final or effectively final&lt;/code&gt;&lt;/p&gt;&lt;p&gt;의역하자면 &lt;strong&gt;람다 바디에서는 값이 단 한 번만 할당되는 지역변수만을 캡처할 수 있다&lt;/strong&gt;는 뜻이며,
실제로 만일 람다에서 캡처하려는 지역변수의 값을 재할당하려는 경우 위와 같은 문구가 터미널에 출력되며 컴파일 에러가 발생한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;람다에서 사용된 지역변수를 해당 메서드 내에서 재할당 시도하는 경우 컴파일 에러 발생&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambdaCapturing_localVarMustBeFinal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; localVariable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;token class-name&quot;&gt;Runnable&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;localVariable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   localVariable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1002&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴파일 에러 발생!&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;람다 내부에서 지역변수의 값을 직접 재할당하려는 경우에도 동일하게 컴파일 에러 발생&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambdaCapturing_localVarMustBeFinal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; localVariable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;token class-name&quot;&gt;Runnable&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; localVariable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1001&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴파일 에러 발생!&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;제약 조건의 원인: 자유변수&lt;/h2&gt;&lt;p&gt;지역변수에만 이러한 제약이 걸리는 이유는 JVM 메모리 구조와 관련이 있다.
JVM 메모리상으로 힙이나 메서드 영역에 저장되는 인스턴스나 클래스 변수 등과는 달리,
지역변수는 스택에 저장되기 때문이다.&lt;/p&gt;&lt;p&gt;예를 들어 &amp;#x27;지역변수의 값을 캡처하는 람다&amp;#x27;를 &lt;strong&gt;반환하는 메서드&lt;/strong&gt;가 있다고 한 번 생각해보자.
해당 메서드의 실행이 종료되었을 때 해당 메서드에서 선언되고 사용된 모든 지역변수의 할당은 해제된다.&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;p&gt;그럼에도 불구하고 람다는 더 이상 메모리에 존재하지 않는 지역변수의 값을 아무런 문제 없이 참조하여 사용할 수 있다.
이는 &lt;strong&gt;람다 내부에서 사용되는 지역변수는 원본 지역변수를 복제한 데이터&lt;/strong&gt;이기 때문이다.
그렇기 때문에 원본이 되는 지역변수의 할당이 해제되어도 람다 내부에서 사용되는 데이터는 그대로 유지되는 것이며,
&lt;strong&gt;복제품의 값이 변경되지 않아야 한다는 이유로 단 한 번만 값을 할당해야 한다는 제약이 생겨난 것&lt;/strong&gt;이다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 지역변수를 캡처하여 사용하는 람다를 외부로 반환하는 메서드&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Supplier&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getLambda&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; localVariable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 지역변수 localVariable&lt;/span&gt;

   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; localVariable &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 자유변수 localVariable&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useLambda&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token class-name&quot;&gt;Supplier&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; lambda &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getLambda&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;token comment&quot;&gt;// 자유변수 localVariable에 담긴 1000에 5를 더한 값을 반환 받고 변수 actual에 저장&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; actual &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lambda&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;actual&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1005&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;자유변수(free variable)&lt;/code&gt;란 이처럼 &lt;strong&gt;람다식 외부에서 정의된 지역변수를 람다식 내부에서 참조하는 변수&lt;/strong&gt;를 의미한다.
람다식이 포함되었던 메서드의 종료 여부에 종속되지 않고, 자유롭게 존재할 수 있기 때문에 자유변수라는 이름이 붙은 것으로 보인다.&lt;/p&gt;&lt;p&gt;다시 정리하자면 람다식에서 사용하려는 지역변수의 데이터를 자유변수에 저장하고,
람다식에서 자유변수를 참조하는 행위를 람다 캡쳐링(capturing lambda)이라고 한다.&lt;/p&gt;&lt;h2&gt;주의 사항&lt;/h2&gt;&lt;p&gt;한편, 클래스에 static으로 선언된 필드나 인스턴스 필드의 경우
람다 내부에서 접근하는 데에 아무런 제약이 존재하지 않는다.
람다에서 캡처되는 필드의 경우 값이 자유자재로 변해도 되며,
람다는 자신이 실행될 때 해당 시점의 필드 값을 사용하게 된다.
이는 이들이 JVM 메모리상으로 힙 영역 혹은 메서드(데이터) 영역에 저장되어 있으며,
람다식 내부에서는 클래스 혹은 인스턴스를 통해 해당 데이터에 접근하기 때문이다.
이는 필드의 값이 객체든, 원시값이든 동일하게 적용된다.&lt;/p&gt;&lt;p&gt;아래는 람다에서 참조되는 인스턴스 필드의 값이 &lt;code&gt;final&lt;/code&gt;이 아니어도 되며,
인스턴스 필드의 값을 람다에서 변경시켜도 무관하다는 점을 보여주는 몇 가지 예제다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LambdaCapturingTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; instanceField &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; instanceField2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 람다 내부에서 사용되는 인스턴스 필드의 값을 재할당하여도 컴파일 에러가 발생하지 않는다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambdaCapturing_fieldDoesNotHaveToBeFinal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Supplier&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instanceField&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 100&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instanceField &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴파일 에러가 발생하지 않는다.&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 200&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 람다 내부에서 인스턴스 필드의 값을 직접 재할당할 수 있다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambdaCapturing_canChangeFieldValueFromInsideOfLambda&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 컴파일 에러가 발생하지 않는다.&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Consumer&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; changeFieldValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instanceField2 &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// 1~100의 값을 순차적으로 instanceField2에 더하며 재할당&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;IntStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rangeClosed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;changeFieldValue&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instanceField2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 5050&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그러나 이처럼 제약 조건이 없다는 점은 좋은 것만은 아니다.
오히려 람다식 내부에서의 무분별한 참조로 인해 다양한 side effect를 유발할 위험이 있다.&lt;/p&gt;&lt;p&gt;이해하기 쉬운 예로 &lt;code&gt;instanceField&lt;/code&gt; 필드의 값을 특정 값으로 재할당하는 람다를 &lt;em&gt;병렬 스트림&lt;/em&gt; 내부에서 호출한다고 생각해보자.
병렬 스트림은 대량의 데이터를 여러 그룹으로 쪼개어 병렬적으로 처리하기 때문에
리스트의 개별 데이터가 실질적으로 몇 번째로 처리될 지 알 방법이 없다.&lt;/p&gt;&lt;p&gt;즉, 아래와 같이 1부터 100으로 구성된 &lt;code&gt;IntStream&lt;/code&gt;의 값을 &lt;code&gt;instanceField&lt;/code&gt;에 재할당하는 작업을 수행하도록 했을 때,
우리는 100번째로 수행된 람다가 어떤 것인지를 알 수가 없으며,
이 때문에 최종적인 &lt;code&gt;instanceField&lt;/code&gt;의 값을 예상할 수가 없다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LambdaCapturingTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; instanceField &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambdaCapturing_parallelStreamCanCauseSideEffects&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Consumer&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; changeFieldValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instanceField &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;IntStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rangeClosed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parallel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;changeFieldValue&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instanceField&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ??: 알 수 없다.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;checkParallelStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Consumer&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; changeFieldValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;IntStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rangeClosed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parallel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;changeFieldValue&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 63&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 82&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 32&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ... (94줄 생략)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 24&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 25&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 75&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이러한 경우가 아니더라도 애플리케이션 전체에서 공유되는 가변 자원을
스트림 내부에서 사용하게 되면 예상치 못한 버그들이 발생할 것이다.
그러므로 람다 캡처링을 사용하더라도 가급적이면 불변 데이터만을 사용하기 위해 노력하는 것이 이상적일 것이다.&lt;/p&gt;&lt;h2&gt;맺으며&lt;/h2&gt;&lt;p&gt;정리하자면 람다식은 파라미터만이 아니라 람다식 외부의 선언된 변수를 활용할 수 있으며,
이러한 동작을 람다 캡처링이라고 부른다.
이때 컴파일러는 캡처하려는 지역 변수에 대해 불변성을 강제하는데, 이는 딱히 문제라고 보기 어렵다.
불변 데이터가 지니는 다양한 이점도 있겠지만, 외부 변수의 값을 변화시키는
일반적인 절차형/명령형 프로그래밍 패턴을 문법 차원에서 예방한다는 이점도 크다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;다만, 스택 영역에 저장되지 않는 각종 인스턴스 필드와 static 변수의 경우
이러한 제약이 존재하지 않기 때문에 side effect가 발생하지 않도록 주의해야 할 것이다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;참고문서&lt;/div&gt;&lt;ul&gt;&lt;li&gt;모던 자바 인 액션 : &lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9791162242025&quot;&gt;책 링크&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;물론 함수의 실행이 종료되더라도 다른 함수에 의해 참조되고 있다는 이유로
지역변수의 할당이 해제되지 않는 프로그래밍 언어들도 존재한다.
해당 언어들에서 이러한 이유로 변수가 GC에 의해 수거되지 않는 현상 및 언어의 성질을 일컬어
클로저(closure)라고 부르기도 한다.
이는 클로저의 다양한 정의 중 하나이지만
자바에서 클로저라고 부르는 개념과는 거리가 다소 있기 때문에 혼동하지 않도록 주의해야 한다.&lt;/p&gt;&lt;p&gt;참고로 이러한 언어의 대표격 중 하나가 바로 자바스크립트라고 한다. 자세한 내용은
&lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9791158391720&quot;&gt;코어 자바스크립트&lt;/a&gt;라는
서적을 참고하기를 바란다.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[[Git] 저장소, 브랜치, 커밋 파고들기]]></title><description><![CDATA[로컬저장소와 원격저장소는 어떠한 관계에 있는가? 서로 다른 브랜치가 동기화되기 위한 조건은 무엇인가? 동기화 없이 원격저장소의 브랜치를 조회할 수는 없는가? 브랜치를 rebase로 통합하게 되면 동일한 커밋이 그대로 브랜치에 추가되는 것이 맞는가?]]></description><link>https://bugoverdose.github.io/development/git-commit-branch-repository/</link><guid isPermaLink="false">https://bugoverdose.github.io/development/git-commit-branch-repository/</guid><pubDate>Sat, 19 Feb 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;지난 몇 년 간 git 명령어들을 꾸준히 사용해왔는데,
한 번도 각잡고 하루종일 git에 대해서만 생각해본 적이 없었다는 점을 깨달았다.
실로 수치스러운 일이 아닐 수 없다.&lt;/p&gt;&lt;p&gt;그러한 의미에서 우선 모든 작업의 기초가 되는 &lt;strong&gt;저장소&lt;/strong&gt;, &lt;strong&gt;브랜치&lt;/strong&gt;, &lt;strong&gt;커밋&lt;/strong&gt; 에 대해
그동안 배웠고, 경험으로 깨달았고, 개인적인 실험을 통해 입증한 정보를 정리해보고자 한다.&lt;/p&gt;&lt;h2&gt;저장소&lt;/h2&gt;&lt;p&gt;일단 저장소와 브랜치에 대해 이해하기 위해 최소한의 실험 환경을 만들어보자.
우선 깃헙에서 아래와 같이 두 개의 저장소를 만들어보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/033802814352026301490d44848b2671/133ae/create-empty-repo-on-github.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:85.13513513513513%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACAUlEQVQ4y51UTY/TMBTMn+bGmQMnOHLkr3BAaKVFAoG47apt0sRJnE9/O+mg99JGVbvtIiyN7Drx+M2bSZNClNCjwmkcDgeUVYVsn0OIEkPX8/48z/zsHmgkahyxz/Z43uyQ5QLGOpS1xDbL+bc2Di5EuDBhtBphCrg1iDRp244roUpFWaKqJepaoqpq3i/P5kIIyKaBlA3KtkbWF8j7EmlXoNWLkoRe2u5SiLKCbFr4EFjeRJgI0xXiFSLvc4XWBRjnWZKxHsYF2P8AnXM+IgkhwhiLtuv4lrW61zBdg84m46i4+eSq1hpKa2hjoLXhtVIaxtp1zc+1WV29HEmnDFQnkGY5H6AeOu8XUCuc4znGyCRUxSlCLxJaZ2FVg1EtN1vrGNQGnq3lfe/DGo17SPKC5BYcGVrv0oxjQX0KISDEyHiNaCWkr4Ji8/S8wWa745z1wwjq7TCO6PqB1/MNiVeSyQiqbr/PURSCD5NUddYCYwyUcWj1DOPnu9LZZZKaZhkTUFDt0YjVGB9g/IQQD2ultwnVQiiqCrJt2FWq6uQwXaJdxOAOmOYT2R3J0QTIQkKKBm3ZwtPXYu3R7fPZYrATlLv/r5P8kU94yH7icf8L39IfyPsKMRxln+fRe5ZtPeVwkX4JJvzw/TPefv2Idw+f8ObLezyK34ss/Jurl5L/AuZTKAB0OKEoAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;깃헙에 빈 저장소 생성&quot; title=&quot;깃헙에 빈 저장소 생성&quot; src=&quot;/static/033802814352026301490d44848b2671/fcda8/create-empty-repo-on-github.png&quot; srcSet=&quot;/static/033802814352026301490d44848b2671/12f09/create-empty-repo-on-github.png 148w,/static/033802814352026301490d44848b2671/e4a3f/create-empty-repo-on-github.png 295w,/static/033802814352026301490d44848b2671/fcda8/create-empty-repo-on-github.png 590w,/static/033802814352026301490d44848b2671/efc66/create-empty-repo-on-github.png 885w,/static/033802814352026301490d44848b2671/c83ae/create-empty-repo-on-github.png 1180w,/static/033802814352026301490d44848b2671/133ae/create-empty-repo-on-github.png 1424w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/5ccc51c9ad4a5dc8eff92c02ddcad720/8b640/create-repo-with-commit-on-github.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:87.83783783783784%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACMklEQVQ4y41UTZOUMBTkv+/dm179AVrlxYt68bgevHhcS3eGbxggAfIFJLSVN4Azu8xqqrpeCKTp914nwakoMY4jtDGY5xld1+PxcEScpMiyHMMwwM0znHNws8Ot4ff6EWRZit+HCI/HCA1v0TCOME4JxzhFkhXohALve3DRwlqLiTBhXGCdBeYzaVCWJaqqAicyhrZtCf6ZMQbOOZqGoa5rWmeMo+EMaVsg704UhZFnlZgRRHGCojyhqhmk0nBuhrVuH87dfDdZd1aohxFmtFBmhNQDlB4orvNL7K1dvvPEQS8EpeqLvxZ3D08bcAvBqWqQpBkYbyGlIgghKXa9gFJ6m/v1ru8xTfaqs5cj6OoQSRLjdKpJpdYaWhuoNSoNs1jqGvtKg3GQROIJjBmuQD8whuCWDe4FEOHhGJGJwzDCMYwQRvGVOkWdd/+s3aYwTnN463iiqqoh1VJHKQm9kBjH6SrFl0aQlxUdsSwvyLQ+vZXQp03lUApMWnBlN0IiJzP/xXL0cjweQlI3TROlSykbQ0RSGwjjoMf1HD+306XqIM8L5EWJNMshhNgasarTZoAczoSU9o1LYathkmeI0hRhkqDhHN7ohMV3fi6FABcGdT9hmM5HzLr9egaYgHkAhAakBrquoxvHG92b2UfedmCco207ut7aXiJhEyl/2v3gw88v+PjrK949fMa37Ad94PaMSxuxra+1fObDu/s3ePX9Le7uX+P9w6eF0P2H5/Zt8wft/3YaIyXyRgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;깃헙에 커밋이 있는 저장소 생성&quot; title=&quot;깃헙에 커밋이 있는 저장소 생성&quot; src=&quot;/static/5ccc51c9ad4a5dc8eff92c02ddcad720/fcda8/create-repo-with-commit-on-github.png&quot; srcSet=&quot;/static/5ccc51c9ad4a5dc8eff92c02ddcad720/12f09/create-repo-with-commit-on-github.png 148w,/static/5ccc51c9ad4a5dc8eff92c02ddcad720/e4a3f/create-repo-with-commit-on-github.png 295w,/static/5ccc51c9ad4a5dc8eff92c02ddcad720/fcda8/create-repo-with-commit-on-github.png 590w,/static/5ccc51c9ad4a5dc8eff92c02ddcad720/efc66/create-repo-with-commit-on-github.png 885w,/static/5ccc51c9ad4a5dc8eff92c02ddcad720/c83ae/create-repo-with-commit-on-github.png 1180w,/static/5ccc51c9ad4a5dc8eff92c02ddcad720/8b640/create-repo-with-commit-on-github.png 1454w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;하나는 완전히 비어있는 저장소로,
다른 하나는 master 브랜치에 커밋이 하나 존재하는 상태의 저장소로 생성하였다.&lt;/p&gt;&lt;p&gt;해당 저장소들은 브랜치 단위로 커밋 내역을 관리하고, tag 정보를 관리하는 등
일반적인 깃 저장소가 수행하는 기본적인 정보와 기능 외에도
깃헙에서 제공하는 수많은 기능들을 수행할 수 있다.
&lt;code&gt;github action&lt;/code&gt; 등 깃헙에서 제공하는 수많은 기능들을 수행하며,
환경변수, 저장소의 공개/비공개 여부 등 수많은 정보가 각 깃헙 저장소 단위로 관리된다.&lt;/p&gt;&lt;p&gt;한편 로컬에도 저장소도 하나 만들어보자.
저장소는 개별 프로젝트에 대해 하나씩만 설정될 수 있으므로 우선
&lt;code&gt;local-repo&lt;/code&gt;라는 프로젝트 폴더를 만들고, 그 내부에서 &lt;code&gt;git init&lt;/code&gt;을 통해 저장소를 생성해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-shell line-numbers&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;command-line-prompt&quot;&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; local-repo
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; local-repo
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; init&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;CLI로 &lt;code&gt;git init&lt;/code&gt; 명령어을 실행하면 &lt;code&gt;.git&lt;/code&gt;라는 폴더가 현재 경로에 (즉,현재 프로젝트 내부에) 생성되는데,
&lt;strong&gt;이 .git 폴더가 바로 깃 저장소의 본체라고 볼 수 있다.&lt;/strong&gt;
이제 해당 프로젝트 내부에서 일어나는 모든 git 관련 명령어들은
이 &lt;code&gt;.git&lt;/code&gt;에 담긴 정보들을 활용하여 일어나게 된다.&lt;/p&gt;&lt;h3&gt;하나의 프로젝트에 복수의 저장소는 공존 불가&lt;/h3&gt;&lt;p&gt;당연한 이야기겠지만 이미 하나의 저장소가 등록된 프로젝트 내부에
또 다른 저장소가 등록될 수는 없다.
물론 &lt;code&gt;git init&lt;/code&gt; 명령어를 다시 한 번 실행하는 것은 가능하다.
그러나 &lt;code&gt;.git (2)&lt;/code&gt; 같은 폴더가 별도로 생성되지 않으며,
브랜치와 커밋 내역 등 기존의 &lt;code&gt;.git&lt;/code&gt;에 담겨있던 정보가 제거되지도 않는다.&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;p&gt;다만, 프로젝트(A) 내부에서 &lt;code&gt;.gitignore&lt;/code&gt; 파일에 특정한 폴더를 추가하고,
해당 폴더(B) 내부에서 &lt;code&gt;git init&lt;/code&gt;을 실행하는 것은 가능하다.
이는 해당 폴더(B)가 프로젝트(A)의 &lt;code&gt;.git&lt;/code&gt; 사각지대에 위치하기 때문에 가능한 일이다.
이제 &lt;code&gt;cd&lt;/code&gt; 명령어로 해당 폴더(B) 내부 경로로 들어가 git 명령어를 실행하게 되면
프로젝트(B)의 &lt;code&gt;.git&lt;/code&gt; 정보를 활용하여 작업이 수행된다.&lt;/p&gt;&lt;p&gt;실제로 해당 블로그도 개발 초기에는 &lt;code&gt;gatsby build&lt;/code&gt; 명령어를 실행하면
생성되는 빌드 결과물이 모이는 &lt;code&gt;public&lt;/code&gt; 내부에 별도로 깃 저장소를 만들고
&lt;code&gt;bugoverdose.github.io&lt;/code&gt;라는 이름의 원격저장소로 연동해놓았었다.
현재는 &lt;code&gt;github action&lt;/code&gt;을 통해 CI/CD를 구현하면서 쓸모 없어졌지만,
생각보다 쓸모가 있는 잔기술이라고 생각한다.&lt;/p&gt;&lt;h3&gt;각 저장소는 서로 독립적으로 존재&lt;/h3&gt;&lt;p&gt;이제 로컬저장소에 원격저장소(remote repository)의 위치를 등록해보자.
CLI로 &lt;code&gt;git remote add &amp;lt;원격저장소_별칭&amp;gt; &amp;lt;깃헙_저장소_주소&amp;gt;&lt;/code&gt; 명령어를 실행함으로써
우리는 &lt;code&gt;&amp;lt;원격저장소_별칭&amp;gt;&lt;/code&gt;을 통해 &lt;code&gt;&amp;lt;깃헙_저장소_주소&amp;gt;&lt;/code&gt;에 위치하는
원격저장소에 접근할 수 있게 되었다.
일반적으로 &lt;code&gt;origin&lt;/code&gt;이라는 이름으로 저장소를 부르는 것이 관행이지만,
자유롭게 다른 이름도 지정할 수 있다.
한편 &lt;code&gt;&amp;lt;깃헙_저장소_주소&amp;gt;&lt;/code&gt;의 구조를 보면 끝에 &lt;code&gt;.git&lt;/code&gt;이 존재한다는 점에서
저장소의 본체는 이 &lt;code&gt;.git&lt;/code&gt; 폴더라는 점을 다시 한 번 느낄 수 있다.
(물론 이 .git 부분을 생략해도 동일하게 원격저장소에 접근할 수 있지만 말이다)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-shell line-numbers&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;command-line-prompt&quot;&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; origin https://github.com/bugoverdose/git-test-repo.git
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; another https://github.com/bugoverdose/git-test-another-repo.git
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote -v
another	https://github.com/bugoverdose/git-test-another-repo.git &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
another	https://github.com/bugoverdose/git-test-another-repo.git &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
origin	https://github.com/bugoverdose/git-test-repo.git &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
origin	https://github.com/bugoverdose/git-test-repo.git &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다만, 이렇게 원격저장소의 위치를 등록하는 것만으로는 저장소들 사이에 아무런 정보도 오가지 않는다.
실제로 아래와 같이 존재하지 않는 주소를 원격저장소로 등록하는 것도 가능하다.
이는 해당 위치의 원격저장소의 존재 여부조차도 체크되지 않고 있음을 보여준다.
(아래와 같은 명령어를 실행했다면 &lt;code&gt;git remote remove &amp;lt;이름&amp;gt;&lt;/code&gt;을 통해
이 잘못된 원격저장소 정보를 지워놓자)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-shell line-numbers&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;command-line-prompt&quot;&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; non-existing-repo https://non-existing-repo
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote -v
another	https://github.com/bugoverdose/git-test-another-repo.git &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
another	https://github.com/bugoverdose/git-test-another-repo.git &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
non-existing-repo	https://non-existing-repo &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
non-existing-repo	https://non-existing-repo &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
origin	https://github.com/bugoverdose/git-test-repo.git &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
origin	https://github.com/bugoverdose/git-test-repo.git &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote remove non-existing-repo&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;만약 로컬저장소와 원격저장소 사이에 정보를 전달하고 싶다면
브랜치, 태그 등 전달하고 싶은 정보를 개별적으로 선택하여 push, pull, fetch 등의 명령어를 실행해야 한다.
이때 중요한 점은 아무리 모든 브랜치의 정보를 완벽하게
동기화하였더라도 &lt;strong&gt;로컬저장소와 원격저장소는 서로 엄연히 별개의 독립된 존재라는 것이다.&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;잘 이해하기 힘들다면 자바를 기준으로 생각해보자.
&lt;code&gt;new Class()&lt;/code&gt; 명령어를 통해
완전히 속성이 동일한 인스턴스를 두 개 생성하였더라도,
그 둘은 heap 영역에 서로 별개로 존재하는 인스턴스이며, 서로 별개의 메모리주소 값을 지닌다.
프로그램이 실행되는 과정에서 두 인스턴스의 속성들이 서로 같은 값을 지닐 때도 있고
달라질 때도 있겠지만 이들이 하나의 인스턴스가 될 일은 절대로 없다.&lt;/p&gt;&lt;p&gt;로컬저장소가 존재하는 폴더명과 두 원격저장소의 이름을 전혀 다르게 지은 것도
이처럼 모든 저장소들이 서로 독립적이라는 점을 좀 더 쉽게 이해할 수 있도록 하기 위함이었다.&lt;/p&gt;&lt;h3&gt;저장소들 사이의 상하관계&lt;/h3&gt;&lt;p&gt;어느 집단이든 기강이 해이해지지 않기 위해서는 위/아래에 대한 기준이 명확해야 하는 법,
이는 저장소들의 세계에서도 마찬가지이다.&lt;/p&gt;&lt;p&gt;두 저장소 사이에서 push/pull 등의 방식으로 정보를 교환하는 경우
기본적으로 어느 쪽이 &amp;#x27;upstream&amp;#x27;인지를 명시해야 한다.
upstream이란 두 저장소 중 어떤 것이 원본, 즉 웃어른인지에 대한 이야기이다.
예를 들어 깃헙에서 특정 저장소를 &amp;#x27;fork&amp;#x27;한 경우
fork당한 저장소(A)는 fork해간 저장소(B)에게 있어 upstream으로 설정된다.
그리고 fork해간 저장소(B)를 대상으로 로컬에서 &lt;code&gt;git clone&lt;/code&gt; 명령어를 실행하는 경우,
로컬 머신에 클론된 로컬저장소(C)는 자동으로 원본저장소(B)를 upstream으로 설정한다.&lt;/p&gt;&lt;p&gt;그리고 이 위계질서는 각 저장소 사이에 약간의 차이가 있거나 의견이 충돌하는 경우,
누가 옳으며 어느 쪽이 져줘야 하는지에 대한 기준을 정할 때 활용된다.
이에 대해서는 아래에서 브랜치에 대해 설명하면서 다시 알아보자.&lt;/p&gt;&lt;h2&gt;브랜치&lt;/h2&gt;&lt;p&gt;모든 저장소는 다양한 브랜치(branch)로 구성되며,
각 브랜치는 기본적으로 [1] 브랜치명과 [2] 커밋 내역으로 구성된다.&lt;/p&gt;&lt;p&gt;브랜치명의 경우 &lt;code&gt;master&lt;/code&gt;, &lt;code&gt;develop&lt;/code&gt;, &lt;code&gt;deploy&lt;/code&gt;, &lt;code&gt;feat/기능_내용&lt;/code&gt;,
&lt;code&gt;hotfix/핫픽스_내용&lt;/code&gt;, &lt;code&gt;test/테스트_내용&lt;/code&gt; 등의 이름이 주로 사용된다.
당연한 이야기겠지만 각 브랜치는 고유한 이름을 지녀야 하므로
하나의 저장소 내에 동일한 이름을 공유하는 복수의 브랜치는 존재할 수는 없다.&lt;/p&gt;&lt;p&gt;기본적으로 &lt;strong&gt;각 브랜치는 자신이 속한 특정 저장소에 종속되어 존재&lt;/strong&gt;하지만,
&lt;strong&gt;세상에 존재하는 모든 브랜치는 서로 별개이며 독립되어 존재&lt;/strong&gt;한다.
즉, 대응되는 두 브랜치의 커밋 내역을 서로 동기화시키더라도
이 둘은 위에서 설명한 저장소들 사이의 관계와 마찬가지로
마치 속성들의 값만이 일치하는 별개의 인스턴스와 같은 관계로 볼 수 있다.&lt;/p&gt;&lt;p&gt;그리고 이처럼 모든 브랜치는 서로 별개이기 때문에
upstream 저장소에 존재하는 브랜치들의 종류 및 개수와
downstream 저장소에 존재하는 브랜치들의 종류가 굳이 서로 일치할 필요도 없다.
어느 저장소에서든 새로운 브랜치를 생성할 수 있으며,
이를 다른 저장소로 push하거나 pull해오든,
아니면 굳이 동기화시키지 않을 수 있다는 것이다.&lt;/p&gt;&lt;p&gt;다만, 우리가 일반적으로 깃과 깃헙을 사용하는 가장 큰 이유는
로컬저장소와 원격저장소의 브랜치들을 서로 동기화시키고 싶기 때문이다.
그러한 맥락에서 해당 글에서는 브랜치 동기화 기능에 초점을 맞추어 설명을 해보고자 한다.&lt;/p&gt;&lt;h3&gt;커밋 이력을 공유하는 두 브랜치는 동기화 가능&lt;/h3&gt;&lt;p&gt;사실 엄밀히 말하자면 &lt;strong&gt;서로 커밋 이력을 일부분이라도 공유하는 브랜치끼리는 자유롭게 서로 동기화를 시도할 수 있다.&lt;/strong&gt;
이는 로컬저장소의 브랜치들 사이에서 CLI를 통해 수행될 수도,
하나의 원격저장소 내의 브랜치들 사이 혹은 서로 다른 원격저장소들 사이의 특정 브랜치들 사이의 PR을 통해서 수행될 수도,
github action을 통해 외부 서버(runner)와 원격저장소 사이에서 수행될 수도,
로컬저장소와 원격저장소의 브랜치들 사이에서 수행될 수도 있는 브랜치의 핵심 특성이다.&lt;/p&gt;&lt;p&gt;예를 들어 &lt;strong&gt;로컬저장소에서 특정 브랜치(A)에 위치한 상태에서&lt;/strong&gt;
특정 원격저장소의 특정 브랜치(B)에 대해 pull을 실행한다면 기본적으로 두 브랜치(A-B) 사이의 동기화가 시도된다.
이는 굳이 두 저장소의 브랜치명이 일치하지 않더라도 수행될 수 있는 기능이다.
&lt;strong&gt;다만, 혹시 현재 위치한 브랜치와는 무관하게 자동으로 동일한 이름의 브랜치들 사이에서 동기화가 일어날 것이라 생각하고 작업한다면 끔찍한 시간을 겪게 될 것이라 생각한다.&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;한편 로컬저장소에서 특정 브랜치(A)를 원격저장소의 특정 브랜치(B)에 대해 push하는 경우에도 두 브랜치(A-B) 사이에 동기화가 시도된다.
물론 일반적으로 push 명령어를 사용하는 경우, 원격저장소에 존재하는 동명의 브랜치로 push하는 것이 기본 동작이다.
그러나 만일 두 브랜치의 이름이 서로 다른 경우
&lt;code&gt;git push origin 로컬_브랜치명:원격_브랜치명&lt;/code&gt;과 같이 원격저장소의 대상 브랜치를 명시하여 동기화시킬 수도 있다.&lt;/p&gt;&lt;h3&gt;저장소와 브랜치 초기 상태의 다양성&lt;/h3&gt;&lt;p&gt;위에서 생성한 저장소 중
깃헙의 &lt;code&gt;git-test-repo&lt;/code&gt;는 현재 아무런 브랜치도 없는 아주 클-린한 상태이다.
로컬저장소(&lt;code&gt;local-repo&lt;/code&gt; 프로젝트)의 경우 &lt;code&gt;git init&lt;/code&gt;의 실행과 함께
디폴트 브랜치로 &lt;code&gt;master&lt;/code&gt;라는 브랜치가 생성되었지만 아무런 커밋도 없는 상태이다.&lt;div num=&quot;2&quot;&gt;&lt;/div&gt;
그에 반해 깃헙의 &lt;code&gt;git-test-another-repo&lt;/code&gt;는
현재 &lt;code&gt;master&lt;/code&gt; 브랜치가 생성되었으며
해당 브랜치 내부에 READ.md 파일을 생성하는 커밋이 하나 생성되었다.&lt;div num=&quot;3&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;p&gt;이는 하나의 저장소에 브랜치가 아예 없을 수도 있으며,
깃 설정과 원격저장소 생성 방식에 따라 다양한 방식으로 브랜치 정보가 설정될 수 있음을 보여준다.&lt;/p&gt;&lt;p&gt;한편 특정 브랜치로부터 &lt;code&gt;git checkout &amp;lt;새로운_브랜치명&amp;gt;&lt;/code&gt; 명령어를 실행하는 경우,
이전에 존재했던 브랜치의 모든 커밋 이력을 복제한 상태로 브랜치가 생성된다.&lt;/p&gt;&lt;p&gt;그러면 이제 본격적으로 로컬저장소에 커밋을 하나 만들고 원격저장소 중 하나에 브랜치를 push해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-shell line-numbers&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;command-line-prompt&quot;&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; checkout master
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;This is master branch&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; README.md
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -m &lt;span class=&quot;token string&quot;&gt;&amp;quot;커밋1&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push -u origin master&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;순서대로 설명하자면 우선 &lt;code&gt;master&lt;/code&gt; 브랜치에서 README.md를 생성하여 간단한 내용을 추가하고 &amp;#x27;커밋1&amp;#x27;이라는 메시지의 커밋을 남겼다.
(&lt;code&gt;git checkout master&lt;/code&gt;는 필요 없지만 현재 브랜치 위치를 명시하기 위해 추가하였다.)
그리고 이렇게 1개의 커밋이 있는 &lt;code&gt;master&lt;/code&gt; 브랜치를
아직 아무런 브랜치가 없는 원격저장소 &lt;code&gt;origin&lt;/code&gt;(&lt;code&gt;git-test-repo&lt;/code&gt;)로 push를 하였다.&lt;div num=&quot;4&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;h3&gt;일반적인 브랜치 동기화 흐름&lt;/h3&gt;&lt;p&gt;그러면 이제 본격적으로 로컬에서 브랜치에 커밋을 더 만들고 push를 통해 원격저장소(&lt;code&gt;origin&lt;/code&gt;)의 브랜치에 동기화시켜보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-shell line-numbers&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;command-line-prompt&quot;&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;content for second commit&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; README.md
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -m &lt;span class=&quot;token string&quot;&gt;&amp;quot;커밋2&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;master 874d0b3&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; 커밋2
&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt; changed, &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; insertion&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;+&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;content for third commit&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; README.md
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -m &lt;span class=&quot;token string&quot;&gt;&amp;quot;커밋3&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;master 36903ef&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; 커밋3
&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt; changed, &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; insertion&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;+&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push origin master&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;git push origin master&lt;/code&gt; 명령어가 실행되었을 때 실행되는 로직은 다음과 같다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;현재 로컬 머신에 있는 계정 정보를 활용하여 &lt;code&gt;origin&lt;/code&gt;로의 접근을 시도한다. (PAT 등 인증을 통한 권한 필요)&lt;/li&gt;&lt;li&gt;현재 로컬저장소의 &lt;code&gt;master&lt;/code&gt; 브랜치의 커밋 정보와 &lt;code&gt;origin/master&lt;/code&gt;의 커밋 정보를 비교한다. (별도의 원격브랜치를 설정하지 않았으므로 동명의 브랜치가 대상이 됨)&lt;/li&gt;&lt;li&gt;커밋 이력에 있어 &lt;code&gt;origin/master&lt;/code&gt;의 마지막 커밋이 로컬저장소의 &lt;code&gt;master&lt;/code&gt; 브랜치에 존재하고 있으며, 해당 커밋까지의 커밋 내역이 서로 일치함을 확인한다.&lt;/li&gt;&lt;li&gt;마지막 공통 커밋을 이후로 로컬저장소의 &lt;code&gt;master&lt;/code&gt; 브랜치에는 그 이후로 2개의 커밋이 추가되었다는 점을 파악한다.&lt;/li&gt;&lt;li&gt;&lt;code&gt;origin/master&lt;/code&gt;의 커믹 이력을 로컬저장소의 &lt;code&gt;master&lt;/code&gt;에 맞추어 업데이트한다.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;그렇다면 이번에는 반대로 &lt;code&gt;origin/master&lt;/code&gt;의 커밋 이력이 로컬저장소의 &lt;code&gt;master&lt;/code&gt;보다 앞서는 상황에서
이를 pull하여 로컬저장소를 업데이트해보자.
&lt;code&gt;git reset&lt;/code&gt; 명령어를 사용하면 최근 커밋들을 순서대로 지울 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-shell line-numbers&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;command-line-prompt&quot;&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; checkout master

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; reset --hard HEAD^^
HEAD is now at &lt;span class=&quot;token number&quot;&gt;8590808&lt;/span&gt; 커밋1

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; pull origin master
From https://github.com/bugoverdose/git-test-repo
 * branch            master     -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; FETCH_HEAD
Updating &lt;span class=&quot;token number&quot;&gt;8590808&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;ff85c48
Fast-forward
 README.md &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; ++
 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt; changed, &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; insertions&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;+&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;master&lt;/code&gt; 브랜치에서 &lt;code&gt;git pull origin master&lt;/code&gt; 명령어가 실행되었을 때 실행되는 로직은 다음과 같다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;현재 로컬 머신에 있는 계정 정보를 활용하여 &lt;code&gt;origin&lt;/code&gt;로의 접근을 시도한다. (PAT 등 인증을 통한 권한 필요)&lt;/li&gt;&lt;li&gt;현재 로컬저장소에서 현재 위치한 브랜치(&lt;code&gt;master&lt;/code&gt;)의 커밋 정보와 &lt;code&gt;origin/master&lt;/code&gt;의 커밋 정보를 비교한다.&lt;/li&gt;&lt;li&gt;커밋 이력에 있어 첫번째 커밋까지는 일치하지만, &lt;code&gt;origin/master&lt;/code&gt; 브랜치에 그 이후로 2개의 커밋이 추가되었다는 점을 파악한다.&lt;/li&gt;&lt;li&gt;서로 충돌하는 커밋 이력이 없으므로 로컬저장소의 &lt;code&gt;master&lt;/code&gt;의 커믹 이력을 &lt;code&gt;origin/master&lt;/code&gt;에 맞추어 업데이트한다.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;사실 여기까지는 누구나 무의식적으로, 그리고 기계적으로 해온 작업일 것이다.
그렇다면 조건을 다르게 하여 시도해보자.&lt;/p&gt;&lt;h3&gt;커밋 이력이 전혀 다른 브랜치와의 동기화 시도&lt;/h3&gt;&lt;p&gt;앞서 깃헙에 만들어놓았던 또 다른 원격저장소(&lt;code&gt;another&lt;/code&gt;)가 기억나는가?
이 저장소의 경우 &lt;code&gt;master&lt;/code&gt;라는 이름의 브랜치가 존재하지만, 로컬저장소와 &lt;code&gt;origin&lt;/code&gt;의 &lt;code&gt;master&lt;/code&gt;와는
전혀 다른 커밋 이력으로 구성되어있다.
그렇다면 해당 브랜치(&lt;code&gt;another/master&lt;/code&gt;)와 로컬저장소의 &lt;code&gt;master&lt;/code&gt; 브랜치를 동기화시키고자 하면 어떠한 일이 일어날까?&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-shell line-numbers&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;command-line-prompt&quot;&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push another master
To https://github.com/bugoverdose/git-test-another-repo.git
 &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;rejected&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;        master -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; master &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;non-fast-forward&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
error: failed to push some refs to &lt;span class=&quot;token string&quot;&gt;&amp;#x27;https://github.com/bugoverdose/git-test-another-repo.git&amp;#x27;&lt;/span&gt;
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Integrate the remote changes &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e.g.
hint: &lt;span class=&quot;token string&quot;&gt;&amp;#x27;git pull ...&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; before pushing again.
hint: See the &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Note about fast-forwards&amp;#x27;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;git push --help&amp;#x27;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; details.

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; pull another master
From https://github.com/bugoverdose/git-test-another-repo
 * branch            master     -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; FETCH_HEAD
fatal: refusing to merge unrelated histories&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;보면 알겠지만 push와 pull 작업 모두 실패하였다. 그런데 엄밀히 말하자면 두 작업이 실패한 이유에는 차이가 다소 존재한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;push의 실패 과정&lt;/p&gt;&lt;ol&gt;&lt;li&gt;현재 로컬 머신에 있는 계정 정보를 활용하여 &lt;code&gt;another&lt;/code&gt;로의 접근을 시도한다. (PAT 등 인증을 통한 권한 필요)&lt;/li&gt;&lt;li&gt;현재 로컬저장소의 &lt;code&gt;master&lt;/code&gt; 브랜치의 커밋 정보와 &lt;code&gt;another/master&lt;/code&gt;의 커밋 정보를 비교한다. (디폴트로 동명의 브랜치로 push)&lt;/li&gt;&lt;li&gt;커밋 이력에 있어 &lt;strong&gt;&lt;code&gt;another/master&lt;/code&gt;의 마지막 커밋이 로컬저장소의 &lt;code&gt;master&lt;/code&gt; 브랜치에 없음을 파악하고 깃헙에서 push 작업의 실행을 거절한다.&lt;/strong&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;위의 에러메시지에서도 나오지만 기본적으로 downstream의 커밋 이력을 upstream으로 push하고 싶다면
우선적으로 upstream의 커밋이력을 downstream의 커밋이력에 동기화시켜놓아야 한다.
바로 이것이 앞서 언급한 저장소 간의 상하질서에 대한 이야기이다.
두 브랜치의 커밋 이력에 차이가 조금이라도 존재하면 기본적으로 아래쪽 입장의 저장소가 upstream에 맞춰주어야만 한다.
때문에 일반적으로 upstream 브랜치를 로컬로 pull해오고
충돌이 일어나면 이를 로컬에서 해결한 다음에 push를 해줘야 한다.&lt;/p&gt;&lt;p&gt;물론 &lt;code&gt;git push&lt;/code&gt; 명령어를 수행할 때 &lt;code&gt;--force&lt;/code&gt; 옵션을 추가하는 경우,
&lt;code&gt;another/master&lt;/code&gt;의 커밋 이력이 일방적으로 로컬저장소의 &lt;code&gt;master&lt;/code&gt; 브랜치의 커밋이력으로 덮어써지게 된다.
간단히 말해 이는 일종의 하극상이라고 볼 수 있다.
만일 원격저장소와 로컬저장소 사이에 그다지 유의미한 차이가 없거나,
오히려 원격저장소의 커밋이력에 문제가 있다면 &lt;code&gt;--force&lt;/code&gt; 옵션을 사용하여
이처럼 건전한 쿠테타를 일으키는 것도 때로는 필요한 방법일지도 모른다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;pull의 실패 과정&lt;/p&gt;&lt;ol&gt;&lt;li&gt;현재 로컬 머신에 있는 계정 정보를 활용하여 &lt;code&gt;another&lt;/code&gt;로의 접근을 시도한다. (PAT 등 인증을 통한 권한 필요)&lt;/li&gt;&lt;li&gt;현재 로컬저장소에서 현재 위치한 브랜치(&lt;code&gt;master&lt;/code&gt;)의 커밋 정보와 &lt;code&gt;another/master&lt;/code&gt;의 커밋 정보를 비교한다.&lt;/li&gt;&lt;li&gt;커밋 이력을 자동으로 업데이트할 수 없음을 파악하고 로컬저장소 내에서 merge/rebase 등의 작업 중 하나를 자동으로 시도한다.&lt;/li&gt;&lt;li&gt;커밋 이력에 있어 &lt;strong&gt;애초에 서로 공유하는 커밋이 전혀 존재하지 않으므로 merge/rebase 작업이 로컬저장소 내에서 실패한다.&lt;/strong&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;두 브랜치의 커밋 이력에 차이가 있는 경우
기본적으로 upstream에 맞추어 downstream을 자동으로 업데이트하는 것이 일반적이다.
이때 충돌이 존재하는 등의 이유로 자동 업데이트가 실패하는 경우,
upstream 브랜치를 기준으로 downstream에서 merge/rebase 등의 작업을 수행하게 된다.&lt;div num=&quot;5&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;p&gt;위의 경우 merge 전략이 자동으로 수행되었다.
그런데 문제는 아래 merge 전략에 대한 그림을 보면 알겠지만 merge 전략이 수행되기 위한 전제조건이
&lt;strong&gt;브랜치들 사이에 공유하는 커밋이 존재해야 한다&lt;/strong&gt;는 점이다.
즉, 위의 pull 작업이 실패한 이유는 merge가 수행되기 위한 전제조건을 충족하지 못하였기 때문이다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/58952f08bed555933d0a1bfe49f830cf/167b5/merge-concept.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:32.43243243243243%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQUlEQVQY022QS0sCYRSG/QetS9TEW0mBdCEIF1aEpeR4mVLMFmkSaiVCS3NmHEdNAqXMRZtqUZta9v+e8FPBpMXhPQdenvOeY7JJKotRTdSkt0oqFknFFtUwh+/wnD7gTLaxRZQ/XmdCxy3rOOJ1lk4aOBN1TLOwIcQV0/DKOvaIwka2x07jB1eqjU1ShM8SUbDHNHyZNmtn96ykmkKXkwYm63jT9kUXj6wzF6pRyevc5lTkUo9BScOZ7jB/UMUcVnEldLxJg9V0S0CtEVUsmahIOAQO1RHXCRSfCV494c918Rwb7F322C30CZa7+ItNPLIhzpu+aroE0JfpCNNWtsu58U2g8EhG/2L/ekBK+SRUeaP08kG+38IRNfCmDNxy43+giCuN4or/HCnjeaTmUJXN8ivrN+8sHNbGyaZ+PgP9BTXD85HGn1mbAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;merge&quot; title=&quot;merge&quot; src=&quot;/static/58952f08bed555933d0a1bfe49f830cf/fcda8/merge-concept.png&quot; srcSet=&quot;/static/58952f08bed555933d0a1bfe49f830cf/12f09/merge-concept.png 148w,/static/58952f08bed555933d0a1bfe49f830cf/e4a3f/merge-concept.png 295w,/static/58952f08bed555933d0a1bfe49f830cf/fcda8/merge-concept.png 590w,/static/58952f08bed555933d0a1bfe49f830cf/167b5/merge-concept.png 776w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;그리고 다시 설명하지만
push든 pull이든 브랜치 간의 의견 차이가 있을 때 무조건 downstream의 브랜치를 수정시키는 동작은
전부 push/pull을 수행하는 원격브랜치가 upstream으로 설정되어있기 때문이다.&lt;/p&gt;&lt;h3&gt;fetch를 통한 조회 및 브랜치 생성&lt;/h3&gt;&lt;p&gt;그런데 사실 &lt;code&gt;origin/master&lt;/code&gt; 브랜치 혹은 &lt;code&gt;another/master&lt;/code&gt; 브랜치를
로컬저장소의 &lt;code&gt;master&lt;/code&gt;에 동기화시키는 것만이 아니라,
단순히 원격저장소의 브랜치를 조회하거나,
이 정보를 토대로 다른 이름의 브랜치를 로컬에 생성하고 싶은 경우가 있을 수 있다.&lt;/p&gt;&lt;p&gt;그러한 의미에서 이번에는 두 원격저장소의 &lt;code&gt;master&lt;/code&gt; 브랜치를 각각 pull해오는 것이 아니라
fetch하여 조회하고, 로컬브랜치에서만 사용할 이름을 새로 만들어주자.
&lt;code&gt;git pull&lt;/code&gt;은 대상 브랜치를 &lt;em&gt;fetch&lt;/em&gt;해오면서 동시에 현재 브랜치에 &lt;em&gt;통합&lt;/em&gt;시키는 명령어지만,
&lt;code&gt;git fetch&lt;/code&gt;는 말 그대로 원격저장소의 해당 브랜치 정보를 가져오기만 하는 명령어다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-shell line-numbers&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;command-line-prompt&quot;&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span data-user=&quot;jeong&quot; data-host=&quot;localhost&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; fetch origin master
From https://github.com/bugoverdose/git-test-repo
 * branch            master     -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; FETCH_HEAD
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; checkout origin/master
Note: switching to &lt;span class=&quot;token string&quot;&gt;&amp;#x27;origin/master&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; switch -c origin-master
Switched to a new branch &lt;span class=&quot;token string&quot;&gt;&amp;#x27;origin-master&amp;#x27;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; fetch another master
From https://github.com/bugoverdose/git-test-another-repo
 * branch            master     -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; FETCH_HEAD
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; checkout another/master
Note: switching to &lt;span class=&quot;token string&quot;&gt;&amp;#x27;another/master&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; switch -c another-master
Switched to a new branch &lt;span class=&quot;token string&quot;&gt;&amp;#x27;another-master&amp;#x27;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;git fetch &amp;lt;저장소&amp;gt; &amp;lt;원격_브랜치명&amp;gt;&lt;/code&gt; 명령어를 실행하고
git branch -l를 실행하는 경우, 딱히 새로운 브랜치가 추가되지 않았음을 확인할 수 있다.
그러나 &lt;code&gt;git checkout &amp;lt;저장소&amp;gt;/&amp;lt;원격_브랜치명&amp;gt;&lt;/code&gt; 명령어를 실행하는 경우,
fetch해온 브랜치로 이동하게 된다.
사실 이 브랜치를 로컬저장소의 다른 브랜치에 대해 merge 및 rebase시키는 등
이 상태에서도 나름 유용하게 활용될 수 있다.&lt;/p&gt;&lt;p&gt;다만, 해당 브랜치에 위치한 상태에서
&lt;code&gt;git switch -c &amp;lt;로컬_브랜치명&amp;gt;&lt;/code&gt; 명령어를 실행하는 경우
&amp;lt;로컬_브랜치명&amp;gt;라는 이름의 브랜치가 새롭게 생성된다.
이 브랜치는 기본적으로 원격저장소의 본래 브랜치와는 철저히 독립된 존재이다.
물론 원격저장소에
&lt;code&gt;git push &amp;lt;저장소&amp;gt; &amp;lt;로컬_브랜치명&amp;gt;:&amp;lt;원격_브랜치명&amp;gt;&lt;/code&gt;를 실행하거나,
&amp;lt;로컬_브랜치명&amp;gt;에 위치한 상태로 &lt;code&gt;git pull &amp;lt;저장소&amp;gt; &amp;lt;원격_브랜치명&amp;gt;&lt;/code&gt;를 실행하면 동기화가 실행될 것이다.
그러나 이는 해당 브랜치의 커밋 이력이 fetch해온 원격저장소의 &lt;code&gt;&amp;lt;저장소&amp;gt;/&amp;lt;원격_브랜치명&amp;gt;&lt;/code&gt; 브랜치와 동일하기 때문이지,
특별하게 설정된 기능이 있어서는 아니다.&lt;/p&gt;&lt;h2&gt;커밋&lt;/h2&gt;&lt;p&gt;기본적으로 하나의 브랜치에는 수많은 커밋이 스택 구조로 쌓여있다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;하나의 커밋(commit)은 정말 다양한 정보로 구성된다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;현재 브랜치에 등록된 모든 파일들의 최종적인 상태&lt;/li&gt;&lt;li&gt;커밋의 ID(SHA)&lt;/li&gt;&lt;li&gt;커밋 메시지&lt;/li&gt;&lt;li&gt;커밋이 생성된 시점&lt;/li&gt;&lt;li&gt;커밋의 생성자에 대한 정보(이메일과 이름)&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;사실 커밋에 대해 이야기하자면 끝이 없다.
그러나 우측의 네비게이터 바가 폭발하려고 하니,
이 중에서도 github이 아닌 git 자체에 초점을 맞추고 몇 가지에 대해서만 추가로 알아보자.&lt;/p&gt;&lt;h3&gt;각 커밋에는 모든 파일들의 현재 상태가 담김&lt;/h3&gt;&lt;p&gt;분명 &lt;code&gt;git add&lt;/code&gt;, &lt;code&gt;git commit&lt;/code&gt; 명령어를 실행할 때 우리 눈에는 변경사항만이 표시된다.
이전 커밋으로부터의 변경사항 중 일부 파일들 혹은 모든 파일을 선택하여
&lt;code&gt;staging area&lt;/code&gt;에 올리고 커밋을 하는 과정은 GUI를 쓰든 CLI를 쓰든 일관되게 보이는 작업 과정이다.
이 때문에 각 커밋에 모든 파일들의 현재 상태가 담긴다는 점은 의외라고 느껴진다.&lt;/p&gt;&lt;p&gt;그러나 각 커밋에 변경사항만을 담을 경우
모든 파일들의 최종 상태를 도출하기 위한 연산 비용이 엄청나다고 한다.
그에 반해 코드라는 것의 본질은 특정한 문법에 맞추어 작성한 문자열일 뿐이니
다양한 알고리즘을 통해 극한으로 압축하면 모든 파일들을 관리하는 것도 불가능하지 않아 보인다.
또한 브랜치 통합 등의 작업을 수행함에 있어 버그의 가능성을 최소화한다는 측면에서도
옳은 선택이라고 느껴진다.&lt;/p&gt;&lt;h3&gt;같은 ID의 커밋은 다양한 브랜치에 존재 가능&lt;/h3&gt;&lt;p&gt;하나의 커밋이 생성될 때마다 각 커밋에 대해 자동으로 고유한 ID가 부여된다.
이는 SHA1 해쉬라고 하는데 커밋ID의 형태, 길이, 생성방식 등의 정보는 사실 그다지 중요하지 않다.&lt;/p&gt;&lt;p&gt;가장 중요한 점은 동일한 ID의 커밋이 다양한 브랜치에 존재할 수 있다는 점이다.
예를 들어 &lt;code&gt;test&lt;/code&gt; 브랜치에 있는 상태에서 &lt;code&gt;git checkout -b check-id&lt;/code&gt; 명령어를 실행해
&lt;code&gt;check-id&lt;/code&gt; 브랜치를 만들어낸 경우, 우리는 두 브랜치의 커밋 내역이 동일하다고 말한다.
이와 관련하여 아래 예시를 확인해보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/f7c46eca260ea149d81578fcf94c1375/e2d3b/same-commit-id.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:37.16216216216216%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABC0lEQVQoz52R2WrDMBBF/f9fV+iWNqUNsVPvsWVpJHmRTrEdCuljBw7Mg7g6M5PowxPF4wP+8wgxEtkrrv0/SMZpRovFWIdYi9YGbQz/rSSEgDZCUdZc8pKqbnHj9Iv/y7Tg10+zM1IUNGmB/s4x2uDHmSTESN8r3o8fPB+OnM4Xmqva6RTixnumBdu2dGWJEk+hRvq8ZLheEX8LFGM4fZ14eX3jnGZY6zac86wTrG9CiHsPLFrRVxWDePJ+ZKhqTNcxzsstUAxNXW/7s87hvMf7ceNu6SFsRwtaIV232fY+bsZuGJiWsAdaEeqqolcKEdkN3W45z/P91ddAMagsZWha0qylv+SIGjbDH3CiHs/PhozDAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;test&quot; title=&quot;test&quot; src=&quot;/static/f7c46eca260ea149d81578fcf94c1375/fcda8/same-commit-id.png&quot; srcSet=&quot;/static/f7c46eca260ea149d81578fcf94c1375/12f09/same-commit-id.png 148w,/static/f7c46eca260ea149d81578fcf94c1375/e4a3f/same-commit-id.png 295w,/static/f7c46eca260ea149d81578fcf94c1375/fcda8/same-commit-id.png 590w,/static/f7c46eca260ea149d81578fcf94c1375/efc66/same-commit-id.png 885w,/static/f7c46eca260ea149d81578fcf94c1375/c83ae/same-commit-id.png 1180w,/static/f7c46eca260ea149d81578fcf94c1375/e2d3b/same-commit-id.png 1466w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/b3a3c22784c3a9f648589cb64297f775/e405b/same-commit-id2.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:35.13513513513513%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABDUlEQVQoz32Q226DMBBE+f8/i9SX5rmNRMBJAIMDxviGOZVJVbVKlZVGq5XXszNTHI4Lb8eWw7uibhK5toxt41Xl9/9QWBeZtGHSC9YF9Gzw3r/89OpYkbaEnjS1EFRVjex7YlyJ60pK6YkopV0/UgVEYxFdoGoC98kTYqTIx4zW1LWgPFcMg8JahzEL3ocf+38B1y7QK4McPUJ6bp0jBP8gnLWmLM98fJ7opNwtZ9IY45P1rC63rDDHMy2efvK0fSYMFHllGAZuTffIMi9993mx+BBxv/CYV+rGIZWhUZ6qdVxbh3UuZwjjfURcbohrS9sr5DDu6O8TxvonLM7v+ZWXmdPF8VFbumHZBXwB7L4fGPaC7LUAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;check-id&quot; title=&quot;check-id&quot; src=&quot;/static/b3a3c22784c3a9f648589cb64297f775/fcda8/same-commit-id2.png&quot; srcSet=&quot;/static/b3a3c22784c3a9f648589cb64297f775/12f09/same-commit-id2.png 148w,/static/b3a3c22784c3a9f648589cb64297f775/e4a3f/same-commit-id2.png 295w,/static/b3a3c22784c3a9f648589cb64297f775/fcda8/same-commit-id2.png 590w,/static/b3a3c22784c3a9f648589cb64297f775/efc66/same-commit-id2.png 885w,/static/b3a3c22784c3a9f648589cb64297f775/c83ae/same-commit-id2.png 1180w,/static/b3a3c22784c3a9f648589cb64297f775/e405b/same-commit-id2.png 1566w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위의 두 브랜치를 보면 구성하는 커밋들의 커밋 ID가 서로 완전히 동일함을 알 수 있다.&lt;/p&gt;&lt;p&gt;또한 중요한 점은 &lt;code&gt;git commit --amend&lt;/code&gt;를 통해 커밋을 수정하는 경우,
기존 커밋을 제거하고 완전히 새로운 커밋이 생성된다는 점이다.
물론 하나의 커밋을 구성하는 정보들 중 재활용되는 정보도 많겠지만,
커밋 ID 자체가 새로 발급된다는 점은 확실해보인다.&lt;/p&gt;&lt;p&gt;아래는 바로 위의 &lt;code&gt;check-id&lt;/code&gt; 브랜치에서 마지막 커밋을 amend하고 force push한 결과이다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/c3eb6c9802f64ce8087f4db9d60294c1/5df5d/amend-creates-new-commit.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:42.567567567567565%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABKElEQVQoz5WS2U4DMQxF5///kNJKCNqhC0wymezbgaRUFFArYekq8oPtu2TYjnsOp3dyLlyq1kq9vP/EIOWMUgtaGxatcc5/L62V/9ZgnUcb02GMJZdrplC+Fpcr1JyJYiJKgROSKCUxhK5ymN5OrFYrHlaPHI5H2oHGVC2aEMJf6a2PAbV5RG1f2G22yKdnzDzjY2JoQ957rHUYazHWkVIixEjO+aZXNCU5QWnIXU33UMiZ90kwCcmsFCnnn+HcQLMml0rMlVTOfSmFQUnBer3pko/HUw+ledlY31so1YLShlfhkLrlYPEhMohpwhhzvtjMjqkj3ZHb0KwxziN0RLuID4GYUmM4MY4j4+seIWX/QmpZuvxylfjvaoyM9ewmj9QR5z3hM5QP7du/5MoXY94AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;amend-check-id&quot; title=&quot;amend-check-id&quot; src=&quot;/static/c3eb6c9802f64ce8087f4db9d60294c1/fcda8/amend-creates-new-commit.png&quot; srcSet=&quot;/static/c3eb6c9802f64ce8087f4db9d60294c1/12f09/amend-creates-new-commit.png 148w,/static/c3eb6c9802f64ce8087f4db9d60294c1/e4a3f/amend-creates-new-commit.png 295w,/static/c3eb6c9802f64ce8087f4db9d60294c1/fcda8/amend-creates-new-commit.png 590w,/static/c3eb6c9802f64ce8087f4db9d60294c1/efc66/amend-creates-new-commit.png 885w,/static/c3eb6c9802f64ce8087f4db9d60294c1/c83ae/amend-creates-new-commit.png 1180w,/static/c3eb6c9802f64ce8087f4db9d60294c1/5df5d/amend-creates-new-commit.png 1572w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h3&gt;브랜치 통합시 불일치 정보는 새로운 커밋에 담김&lt;/h3&gt;&lt;p&gt;커밋 ID라는 개념을 알았으니 마지막으로 한 가지만을 보여주고 이 긴 글을 끝내고자 한다.&lt;/p&gt;&lt;p&gt;두 브랜치를 rebase를 통해 통합하는 경우,
다른 브랜치로부터 온 커밋들이 그대로 통합된 브랜치에 추가된다고 생각하는 것이 일반적일 것이다.
그러나 두 브랜치를 통합한 결과물을 보면 종종 &lt;strong&gt;커밋들이 실제로 생성된 시간순으로 나열되지 않는다&lt;/strong&gt;는 느낌을 받을 것이다.
매번 어렴풋이 느끼던 점을 이번 기회에 확인해보았다.&lt;/p&gt;&lt;p&gt;그러한 이유에서 한 번 두 브랜치, &lt;code&gt;merge-test&lt;/code&gt;와 &lt;code&gt;test&lt;/code&gt;를 오가며
순차적으로 커밋을 하나씩 남기고 &lt;code&gt;test&lt;/code&gt; 브랜치를 &lt;code&gt;merge-test&lt;/code&gt; 브랜치로 rebase하여 통합해보았다.
그 결과, 흥미롭게도 rebase를 실행한 시점에 &lt;code&gt;test&lt;/code&gt; 브랜치의 커밋들이 그대로 재생성된다는 점이 확인되었다.
분명 커밋의 작성자, 커밋 메시지, 파일들의 내용도 동일하다.
그러나 아래를 확인해보면 커밋의 생성 시점이 최신으로 갱신되었으며, 새로운 커밋 ID가 발급되었다는 점을 알 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/85cdde89293ebe588054da6692ec98df/098c1/commits-before-rebase.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:34.45945945945946%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABJ0lEQVQoz2WQC2/iMBCE8///XXVVpVNLCjmggcRc7Pixa0i+yqEPSkca2SPLszNb2dHTHnuSKLeY5/mbX5o7/ZtVzme8D8SYENHlrjnzE/OdvNM3qKZpZrCO13VDvW7Yt0d8SISFcUku+YzoJzNynkimJ24bfHvA7Xak4T9RM1UZZq2lXm94Xr2yO/QMXYd7fsL+fSSWj3ohJiWKXs98wR2OnOqarnnjsPqH6w1jlKth8J7NpuFlVdN1HXYUtvtAsw34cFkqTx87Ko2K3nUzf1bKUzPxUE+0JpOzUpXn0VmMMaQkiAqjF/ZHZduWRFeD28UXiGSs8xindIMQk6CflVPwmN5gzAk3joQQSCmgGpnnaUlVEk4fCYtpzhkfAkPInEZFVJf9vgO2YB7BBSyxXgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1&quot; title=&quot;1&quot; src=&quot;/static/85cdde89293ebe588054da6692ec98df/fcda8/commits-before-rebase.png&quot; srcSet=&quot;/static/85cdde89293ebe588054da6692ec98df/12f09/commits-before-rebase.png 148w,/static/85cdde89293ebe588054da6692ec98df/e4a3f/commits-before-rebase.png 295w,/static/85cdde89293ebe588054da6692ec98df/fcda8/commits-before-rebase.png 590w,/static/85cdde89293ebe588054da6692ec98df/efc66/commits-before-rebase.png 885w,/static/85cdde89293ebe588054da6692ec98df/c83ae/commits-before-rebase.png 1180w,/static/85cdde89293ebe588054da6692ec98df/098c1/commits-before-rebase.png 1578w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/6b0b638e19282fd5d2a3732985952d15/e2d3b/commits-after-rebase.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:54.72972972972974%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABuElEQVQoz52SbW+bMBSF8///3TRNU5oQ2oTyElqwscEv2DyTTZtq26fN0pEtcXl8fc85yEnTdj1126Hnhc+1bdt/6bAYg5BT1rwYrHM45xMxF6T9X9bBe4/S8w4VMitBH50CMUbitn0pBIIxBGtZjc17CJEYNw6pQE2Ssix5Op1p2g4zzyx1xXx7JugpQ/OTYtzPSqJ+fkOVBd2xQJ+P6HHAroFDiBtaKeq6pnqtGUaBtxbbNizVjaDVAxjz8zeMiVSvinu/ULWGpjPo2bGGD+CiNU3TcK1e6fseMRmOV8/3wvE+bb+ZlIDabJyuhlvn+fHiOVcrYrKs67oD34eR46ngeLrwdC45XV64vwn6YUKqhcV6ZuMeWozjbZgYpKF+twyTzT6kbxkohOBSPnN5vlLVLXV7Z8zOK3Ry3q9Y9yXjPFJppnmhEwapLZNOFzsOyZlkSlEUPJ0KikvJy/XGpHTOZUrBn7lMs0xANVua0aIWT4qf8+vushQCMY4451jXkIebspjiE0L4K7y5CT2jF8tdJGAag8X79dMUxb3r6O49QsrcXfoh7aloh+w5ix/nB1BadO5wB/4CscpTNLlh7GAAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2&quot; title=&quot;2&quot; src=&quot;/static/6b0b638e19282fd5d2a3732985952d15/fcda8/commits-after-rebase.png&quot; srcSet=&quot;/static/6b0b638e19282fd5d2a3732985952d15/12f09/commits-after-rebase.png 148w,/static/6b0b638e19282fd5d2a3732985952d15/e4a3f/commits-after-rebase.png 295w,/static/6b0b638e19282fd5d2a3732985952d15/fcda8/commits-after-rebase.png 590w,/static/6b0b638e19282fd5d2a3732985952d15/efc66/commits-after-rebase.png 885w,/static/6b0b638e19282fd5d2a3732985952d15/c83ae/commits-after-rebase.png 1180w,/static/6b0b638e19282fd5d2a3732985952d15/e2d3b/commits-after-rebase.png 1466w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h2&gt;맺으며&lt;/h2&gt;&lt;p&gt;사실 아직도 쓰고 싶은 내용은 끝이 없다.
다만, 상대적으로 중요도가 떨어지거나 중요하더라도 아예 새로운 게시글로 정리하는 것이 맞다고 느껴져 참는 것일 뿐이다.&lt;/p&gt;&lt;p&gt;그 중에서도 merge, rebase, squash 등의 git 기능들이나
github action을 통한 CI/CD, github.io 도메인의 웹호스팅 등 깃헙의 유용한 기능들은 꼭 한번 다루어보고 싶다.&lt;/p&gt;&lt;p&gt;한편 모든 커밋들은 기본적으로 이메일을 기준으로 관리되고,
깃헙도 이메일을 기준으로 계정이 관리된다는 점과 관련하여
만일 깃헙 계정에 등록된 이메일을 변경할 경우 어떠한 일이 일어나는지와 같은
실용성이 전혀 없는 이야기도 사실 좀 자세히 쓰고 싶었다.
이왕 여기에 쓴 김에 간략히 정리하자면 다음과 같다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;특정 커밋을 누가 작성했는지 보여주기 위해 우선 깃헙은 커밋 작성자의 이메일로 인증된 깃헙 계정이 존재하는지 찾는다.&lt;/li&gt;&lt;li&gt;만일 해당 이메일이 인증된 깃헙 계정이 존재하지 않는 경우, 이메일 대신 깃헙 사용자명이 그대로 표시된다.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;그런데 중요한 점은 원래 깃헙 계정 A에 등록되었던 이메일을 다른 깃헙 계정 B에 등록하는 것이 가능하다는 점이다.
이 경우 &lt;strong&gt;원래는 깃헙 계정 A가 작성한 것으로 보이던 모든 커밋들이 깃헙 계정 B가 작성한 것으로 변경된다.&lt;/strong&gt;&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;참고문서&lt;/div&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;만약 &lt;code&gt;git init&lt;/code&gt;을 실행했던 초기 상태로 되돌리고 싶다면
&lt;code&gt;rm -rf .git&lt;/code&gt;과 같은 방식으로 기존의 &lt;code&gt;.git&lt;/code&gt; 폴더 자체를 깔끔하게 제거한 이후에
&lt;code&gt;git init&lt;/code&gt;을 실행해야 한다. 이렇게 하면 모든 git 설정, 브랜치 정보, 커밋 내역이 깔끔하게 제거된다.&lt;/p&gt;&lt;/div&gt;&lt;div num=&quot;2&quot;&gt;&lt;p&gt;로컬에서 &lt;code&gt;git config --global init.defaultBranch &amp;lt;이름&amp;gt;&lt;/code&gt; 명령어를 실행하여
&lt;code&gt;git init&lt;/code&gt; 명령어를 실행했을 때 생성할 디폴트 브랜치의 이름을 지정할 수 있다.
이를 지정하지 않은 경우 아마 &lt;code&gt;master&lt;/code&gt; 브랜치가 생성될 것이다.&lt;/p&gt;&lt;/div&gt;&lt;div num=&quot;3&quot;&gt;&lt;p&gt;깃헙 저장소에서 생성되는 디폴트 브랜치의 이름은
[Settings &amp;gt; Repositories &amp;gt; Repository default branch]에서 설정할 수 있다.
아마 별도로 설정하지 않은 경우 &lt;code&gt;master&lt;/code&gt; 혹은 &lt;code&gt;main&lt;/code&gt;이라고 되어있을 것이다.
&lt;code&gt;main&lt;/code&gt;이 디폴트로 설정된 이유는 &lt;code&gt;master&lt;/code&gt;라는 네이밍이 노예와 주인 사이의 관계를 연상시킨다는
불편러들의 환심을 사기 위한 깃헙의 정책이라고 한다.&lt;/p&gt;&lt;/div&gt;&lt;div num=&quot;4&quot;&gt;&lt;p&gt;이때 &lt;code&gt;-u&lt;/code&gt; 옵션은 &lt;code&gt;--set-upstream&lt;/code&gt; 옵션의 줄임 표현으로,
현재 push하는 &lt;code&gt;origin&lt;/code&gt;을 로컬저장소 입장에서 upstream으로 사용하도록 설정하는 작업이다.
사실 이 &lt;code&gt;-u&lt;/code&gt; 옵션이 없다고 딱히 예외가 발생하지 않을 수 있으며,
push하는 원격저장소가 자동으로 upstream으로 설정되는 것으로 보인다.&lt;/p&gt;&lt;/div&gt;&lt;div num=&quot;5&quot;&gt;&lt;p&gt;pull을 시도했을 때 브랜치에 다소 차이가 존재하는 경우
merge, rebase, fast-forward 등 어떠한 전략으로 로컬에서 동기화시킬 것인지를
사전에 선택할 수 있다.
예를 들어 &lt;code&gt;git config pull.rebase true&lt;/code&gt; 명령어를 사전에 실행해놓은 경우
rebase를 디폴트 전략으로 사용하도록 설정된다.
혹은 이러한 설정과는 별개로 &lt;code&gt;git pull&lt;/code&gt; 명령어를 실행할 당시
&lt;code&gt;--rebase&lt;/code&gt; 등의 옵션을 추가하는 경우 해당 pull을 시도할 때
rebase 전략을 사용하게 된다.
이러한 설정을 전혀 수행하지 않은 경우 기본적으로 사용하는 디폴트 전략은 merge다.
현재 이러한 동기화 전략들과 PR과 관련하여 다른 게시글에서 정리해볼 계획이다.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[클래스와 프로토타입에 담긴 철학]]></title><description><![CDATA[우테코 강의 중 클래스라는 개념이 플라톤의 이데아 개념에 기반을 두고 있다는 내용이 나왔다. 다만, 코치님이 이 부분에 대해 너무 가볍게 다룬 것 같아 정말 마음이 아팠다. 그런 의미에서 그 분이 쏘아올린 작은 공을 살짝 리시브해보고자 한다.]]></description><link>https://bugoverdose.github.io/computer-science/class-vs-prototype-philosophy/</link><guid isPermaLink="false">https://bugoverdose.github.io/computer-science/class-vs-prototype-philosophy/</guid><pubDate>Thu, 17 Feb 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;우테코 강의 중 클래스라는 개념이 플라톤의 이데아 개념에 기반을 두고 있다는 내용이 나왔다.
다만, 코치님이 이 부분에 대해 너무 가볍게 다룬 것 같아 정말 마음이 아팠다.
그런 의미에서 그 분이 쏘아올린 작은 공을 살짝 리시브해보고자 한다.&lt;/p&gt;&lt;p&gt;미리 결론만 간략하게 정리하자면 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;자바와 같은 &lt;strong&gt;클래스 기반의 OOP&lt;/strong&gt;는 플라톤의 세계관과 아리스토텔레스의 분류법에 기반을 두고 있다.
실제로 &lt;em&gt;클래스(class)&lt;/em&gt;라는 용어는 &lt;em&gt;분류(classification)&lt;/em&gt;와 직접적으로 관련된 용어다.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;자바스크립트와 같은 &lt;strong&gt;프로토타입(prototype)&lt;/strong&gt; 기반의 OOP는
비트겐슈타인의 가족유사성 이론과 &lt;em&gt;로쉬의 프로토타입 이론&lt;/em&gt;에 기반을 두고 있다.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;플라톤의 이데아와 클래스&lt;/h2&gt;&lt;p&gt;플라톤은 우리가 살고 있는 구체적인 현실 세계에 대응되는
추상적인 본질의 세계, &lt;em&gt;이데아(idea)&lt;/em&gt;가 존재한다고 보았다.
이 관점의 핵심은 현실 세계에서는 이 본질의 세계에 직접적으로 접근할 수가 없지만,
현실 세계에 실존하는 모든 구체적인 물질들의 본질은 이 본질의 세계에 존재한다는 것이다.&lt;/p&gt;&lt;p&gt;간단히 말해 현실에 존재하는 모든 새들을 생각해보자.
참새, 비둘기, 두루미, 펭귄, 타조, 키위 등 현실에 구체적으로 존재하는 모든 새들은
&lt;em&gt;새&lt;/em&gt;라는 본질을 공유하고 있으며, 그 본질은 이데아에 존재하는 것이다.&lt;/p&gt;&lt;h3&gt;이데아를 통해 이해한 우주의 생성 원리&lt;/h3&gt;&lt;p&gt;그렇다면 한 번 이데아 개념에 빅뱅 이론을 접목하여 우리가 사는 세상에 대해 해석해보자.&lt;/p&gt;&lt;p&gt;기본적으로 본질의 세계는 우리가 사는 세계와는 전혀 다른 차원에 존재하며,
우리 차원의 우주가 탄생하기 전부터 존재했을 것이라고 가정하자.
그리고 우리가 사는 차원에 빅뱅이 일어나 우주가 탄생하면서
다른 차원으로부터 행성의 본질을 토대로 구체적인 행성들이 생겨나고,
식물의 본질을 토대로 구체적인 식물들이 생겨나고,
동물의 본질을 토대로 구체적인 동물들이 생겨났을 것이라고 생각할 수 있다.&lt;/p&gt;&lt;p&gt;그리고 우리가 사는 세상에서 새로운 동식물이 생겨나고, 변화하고, 죽어가더라도
각 동물, 식물의 본질만큼은 본질의 세계에 그대로 존재하고 있을 것이라 생각할 수 있다.
또한 언젠가 이 본질의 세계 자체가 소멸하게 된다면,
그것은 아마 우리가 사는 현실 세상이 소멸한 이후일 것이다.
왜냐면 본질의 세계 없이는 우리가 사는 현실 세상은 성립될 수 없기 때문이다.&lt;/p&gt;&lt;h3&gt;JVM 메모리 구조에 대한 철학적 이해&lt;/h3&gt;&lt;p&gt;Java 등 대부분의 &lt;strong&gt;클래스 기반 객체지향 언어&lt;/strong&gt;들은 바로 이러한 관점에 기반을 두고 있다.
아래 코드를 함께 봐보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt; sparrow &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;참새&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt; pigeon &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;비둘기&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;프로그램에서 &lt;code&gt;Bird&lt;/code&gt;라는 클래스를 선언하는 경우,
해당 클래스에 대한 정보는 프로그램이 실행되고 메모리에 올라가 프로세스가 되는 시점에
JVM의 &amp;#x27;data 영역&amp;#x27;에 담기게 된다.
이 data 영역은 프로그램 전반에 걸쳐 공통적으로 사용되는 정보들이 관리되는 메모리 영역인데,
기본적으로 &lt;code&gt;1,2,3&lt;/code&gt;이나 &lt;code&gt;a,b,c&lt;/code&gt;와 같은 리터럴 정보들이 담겨 있는 곳이다.&lt;/p&gt;&lt;p&gt;그리고 &lt;code&gt;new Bird(&amp;quot;참새&amp;quot;)&lt;/code&gt;라는 명령어는
이 data 영역에 존재하는 Bird 클래스에 대한 정보를 활용하여
&amp;quot;참새&amp;quot;라는 구체적인 name 속성 값을 토대로 인스턴스를 하나 생성하라는 의미이다.
이러한 인스턴스는 &amp;#x27;heap 영역&amp;#x27;에서 생성되고 관리되며,
&lt;code&gt;sparrow&lt;/code&gt;와 &lt;code&gt;pigeon&lt;/code&gt;과 같은 변수들에는 바로 이 heap 영역에 존재하는 인스턴스의 메모리 주소, 즉 참조값이 담기게 된다.&lt;/p&gt;&lt;p&gt;그리고 이 클래스 정보가 관리되는 &lt;strong&gt;data 영역&lt;/strong&gt;과
인스턴스 정보가 관리되는 &lt;em&gt;heap 영역&lt;/em&gt;이 각각
플라톤이 설명한 &lt;strong&gt;본질의 세계 이데아&lt;/strong&gt;와 &lt;em&gt;구체적인 현실 세계&lt;/em&gt;라고 볼 수 있다.
Bird 클래스라는 &lt;strong&gt;본질&lt;/strong&gt;을 토대로 &amp;quot;참새&amp;quot;, &amp;quot;비둘기&amp;quot;와 같은 정보를 지닌
&lt;em&gt;구체적으로 실존하는 물질&lt;/em&gt;로서 Bird 인스턴스들이 생성된다는 것이다.&lt;/p&gt;&lt;h3&gt;아리스토텔레스의 분류법과 클래스&lt;/h3&gt;&lt;p&gt;이제 플라톤의 철학적 관점이 자바에 반영되었다는 점은 어느 정도 알겠다.
그런데 대체 클래스(class)라는 키워드는 어디에서 온 것일까?&lt;/p&gt;&lt;p&gt;이는 플라톤의 제자 아리스토텔레스의 &lt;strong&gt;분류(classification) 작업&lt;/strong&gt;과 관련이 있다.
그는 세상에 존재하는 모든 사물들을 각 사물끼리 서로 공유하는 속성들을 기준으로 분류하였다.&lt;/p&gt;&lt;p&gt;간단히 예를 들자면 살아 움직이는 동물 중에서도
&amp;quot;물 속에서 헤엄을 치고 공기 없이도 호흡이 가능한 동물들&amp;quot;은 기본적으로 &amp;#x27;어류&amp;#x27;에 해당된다고 볼 수 있다.
한편 &amp;quot;부리가 있고 날개가 있는 동물들&amp;quot;은 기본적으로 &amp;#x27;조류&amp;#x27;에 해당된다고 볼 수 있다.
이처럼 &lt;strong&gt;모든 개체가 공유하는 속성과 능력을 기반으로 개체들을 하나의 집단으로 분류한 것&lt;/strong&gt;이 바로 자바의 &lt;strong&gt;클래스&lt;/strong&gt;라고 볼 수 있다.&lt;/p&gt;&lt;p&gt;물론 조류 중에서도 각 개체들이 공유하는 속성들을 기반으로 &amp;#x27;비둘기&amp;#x27;, &amp;#x27;참새&amp;#x27;, &amp;#x27;앵무새&amp;#x27; 등 보다 더욱 세부적으로 구분할 수 있을 것이다.
이 경우 아마 모든 비둘기들이 공유하는 속성들과 모든 참새들이 공유하는 속성들 사이에는 다소 차이가 있을 것이다.
그러나 이처럼 다양한 개체차를 지닌 개별 사례(instance)들 중에서도 이들이 전원 공유하는 속성(부리가 있고 날개가 있는 동물)을
통해 조류라는 하나의 추상적인 범주(class)를 만들어내는 것이 가능하다는 것이 아리스토텔레스의 분류법의 핵심이다.&lt;/p&gt;&lt;p&gt;이 점을 이해하고 위의 자바 코드를 다시 본다면,
&lt;code&gt;Bird&lt;/code&gt;가 왜 &lt;strong&gt;클래스, 즉 &amp;#x27;범주&amp;#x27;&lt;/strong&gt;라고 불리고
&lt;code&gt;new Bird(~)&lt;/code&gt;로 생성된 개별 객체들이 왜 &lt;strong&gt;인스턴스(instance), 즉 &amp;#x27;사례&amp;#x27;&lt;/strong&gt;라고 불리는지에 대해 이해할 수 있을 것이다.
어떠한 개체차를 지니든 모든 조류는 근본적으로 &lt;code&gt;Bird&lt;/code&gt; 클래스의 인스턴스라고 볼 수 있기 때문이다.&lt;/p&gt;&lt;p&gt;여기서 나아가 수많은 새들 중에서도
&amp;quot;인간의 말을 따라하는 새&amp;quot;라는 공유 속성을 지닌 개체들을 &amp;quot;앵무새&amp;quot;로 분류하고,
&amp;quot;잠수를 할 수 있는 새&amp;quot;는 속성을 공유하는 개체들은 &amp;quot;펭귄&amp;quot;으로 분류할 수 있을 것이다.&lt;/p&gt;&lt;p&gt;이러한 세부 범주는 전부 &amp;#x27;조류&amp;#x27;라는 더 큰 클래스를 기반으로 생성된다고 볼 수 있다.
이러한 관계를 우리는 자바의 &lt;strong&gt;상속(inheritance)&lt;/strong&gt; 개념으로 이해할 수 있을 것이다.
아래는 &amp;#x27;조류&amp;#x27;를 &amp;quot;부리가 있고, 날개가 있으며, 날 수 있는 능력을 지닌 동물&amp;quot;로 보았을 때,
&amp;#x27;앵무새&amp;#x27;를 &amp;quot;조류의 모든 특성과 함께 말할 수 있는 능력도 지닌 동물&amp;quot;로 보는 경우를 자바의 상속 문법으로 간략히 표현한 결과이다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-java line-numbers&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; hasBeak &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; hasWings &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;I&amp;#x27;m a bird! I can fly!&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Bird{&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;hasBeak=&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; hasBeak &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;, hasWings=&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; hasWings &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&amp;#x27;}&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Parrot&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;speak&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;I&amp;#x27;m a parrot! I can speak!&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Parrot{&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;hasBeak=&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; hasBeak &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;, hasWings=&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; hasWings &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&amp;#x27;}&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Application&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt; bird &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bird&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bird&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Bird{hasBeak=true, hasWings=true}&lt;/span&gt;
        bird&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// I&amp;#x27;m a bird! I can fly!&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;Parrot&lt;/span&gt; parrot &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Parrot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parrot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Parrot{hasBeak=true, hasWings=true}&lt;/span&gt;
        parrot&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// I&amp;#x27;m a bird! I can fly!&lt;/span&gt;
        parrot&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;speak&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// I&amp;#x27;m a parrot! I can speak!&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;보면 알겠지만 앵무새 인스턴스는 &lt;code&gt;Bird&lt;/code&gt; 클래스를 상속받았기 때문에
다른 모든 조류와 동일하게 &lt;code&gt;hasBeak&lt;/code&gt;과 &lt;code&gt;hasWings&lt;/code&gt; 속성의 값이 &lt;code&gt;true&lt;/code&gt;이며, &lt;code&gt;fly&lt;/code&gt; 메서드를 실행할 수 있다.
여기서 나아가 다른 조류는 못하는 &lt;code&gt;speak&lt;/code&gt; 메서드도 실행할 수 있다는 특수성을 지닌다.&lt;/p&gt;&lt;p&gt;물론 실제 생물학자들이 이러한 기준으로 조류를 분류하지 않는다.
만일 이러한 기준을 적용할 경우, 타조나 키위새와 같이 날지 못하는 조류는 존재할 수가 없기 때문이다.&lt;/p&gt;&lt;p&gt;그런데 솔직히 일반적인 대중의 입장에서 비둘기, 참새와 같은 동물들이나
타조, 키위새와 같은 동물들이 조류라는 점에서 서로 대등하다고 보는 것은 다소 이상하게 느껴질 수 있다.
일반 대중이 지닌 새에 대한 이미지는 분명 &lt;em&gt;날개를 지니고 날아다닐 수 있는 동물&lt;/em&gt;이다.
그렇다면 대체 우리의 머릿속에 존재하는 이 새라는 일반적인 이미지는 무엇일까?&lt;/p&gt;&lt;p&gt;바로 이러한 의문에 대한 답변을 최초로 제시한 것이 바로 비트겐슈타인이다.&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;h2&gt;비트겐슈타인과 프로토타입&lt;/h2&gt;&lt;p&gt;비트겐슈타인은 간단히 말해 철학, 언어학, 심리학에 지대한 영향을 미친 인물로 수백년에 한 명씩 나오는 천재라고 볼 수 있다.&lt;/p&gt;&lt;p&gt;기본적으로 그는 &lt;strong&gt;범주 내의 모든 개체들 사이에 공유되는 속성&lt;/strong&gt;을 기반으로 분류를 시도하는 행위 자체에 근본적인 한계가 있다고 보았다.
예를 들어 조류를 단순히 &amp;quot;날아다니는 동물&amp;quot;로 볼 경우 펭귄과 타조와 같은 예외들이 당연히 생겨날 수 밖에 없다.
그렇다고 이들을 조류가 아닌 포유류 혹은 양서류로 보기에는 어려움이 있기 때문에
생물학자들은 이들을 조류에 포함시키기 위해 조류에 대한 분류법을 인위적으로 수정하여야 했을 것이다.
그런데 예를 들어 펭귄과 타조를 포함시키기 위해 조류를 &amp;quot;날개가 있는 동물&amp;quot;로 규정한 경우
다시 키위새라는 예외가 생겨난다.&lt;/p&gt;&lt;p&gt;전통적인 분류법에서는 이처럼 공유 속성을 수정함으로써 점점 조류의 본질에 대한 정의에 가까워진다고 생각했을 것이다.
그러나 이러한 과정을 보며 비트겐슈타인은 애초에 조류라는 본질 자체가 존재하지 않기 때문에
이처럼 인위적인 수정 작업이 끝없이 생겨난다고 보았을 것이다.&lt;/p&gt;&lt;p&gt;그러한 관점에서 비트겐슈타인은 &amp;quot;세계에 미리 내재되어서 대상과 언어를 완전히 규정하는 어떤 언어란 존재하지 않는다&amp;quot;고 말하였다.
어렵게 느껴질 수 있지만, 간단히 말해 위에서 설명한 이데아를 통한 우주의 생성 원리를 부정한 것이라고 볼 수 있다.
만일 세상을 하나의 자바 애플리케이션이라고 보았을 때
비트겐슈타인은 애플리케이션이 실행되는 시점에 JVM의 data 영역에 클래스 정보가 미리 내재되고,
이를 기반으로 세상에 존재하는 수많은 사물들이 만들어지는 구조를 부정한 것이라고 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/bc604c2a1b202f91ffe3c5e2ccf3b458/dd104/family-resemblance.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:66.21621621621621%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACd0lEQVQ4y42TaU8TURiF+6f9ARK/EeWLGjWCfMCaoCLKIpEUBsTK0tJ1SqftdJmW6TLTlbaztX3MTG0REqNv8t5kbt577plzzvUBKM0bCqpCOp+icF1EqSpIRQmpNG3323Ec7le7XkSvSHf2fO7ijMa0bnpklSwpWUSuyOQreVL5FJF0hHKtzHg89g50dI2TL+u09QaisEUisEFbaxAPHmFbFr7JZDJHzyk54pkYQkjgOHxMTa+htRoYljGfqRdlAq+f0igriAcbRHffkk/EOFxbpt/tTAFnoOlimlAq5P2uy7LVbVHVVGzbht8zHb3B6sMHaNcVqtlz1MwpcizCh8cL2KZ5y9AZOZRrisfKsi16/R6dXhvTMhlPxnOG7rReVxmPbjXttnSyicuphjPAgTGgplfR2hqqplJv1imqReRyzmPuaiuVMghHu/iXnxBOnhM53idyuOedD+3vkAweTU2Zgf6p599Kla74sbbisYwF9jj9/J7RaITwbhXxRLjVcDQeec667TKbsXOddmNTqVdodHVyV3HWlx55rge3P7L5bNG7aHvlOT+/bk4Z/qua3SZVverJ4F5yIOwQSV6QKUokpTi2Y9GsFjAGfXy2Y2OYhie+q6MbkaE59IwZGkNM27wDbg76BPxvkKNhlEKGSDhIVRYJ+hdpqQV8jVaDC/GCaDpCIpsgKkW9dgMdToW4vLr08mmYQw+w3+uy82KJghgn+m2b8NYnKukoB68W6Gp1fFpLI56JI+ZEsqUs+bLs5TAmxciUMiSzSdKF9Pzp2ZbJ5sslapUSCWEfwb9Kt3nN2eZjHMv4Pw3nGbyXgkIqTvLs+523/Avyxr4F1cLtPgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;가족유사성&quot; title=&quot;가족유사성&quot; src=&quot;/static/bc604c2a1b202f91ffe3c5e2ccf3b458/fcda8/family-resemblance.png&quot; srcSet=&quot;/static/bc604c2a1b202f91ffe3c5e2ccf3b458/12f09/family-resemblance.png 148w,/static/bc604c2a1b202f91ffe3c5e2ccf3b458/e4a3f/family-resemblance.png 295w,/static/bc604c2a1b202f91ffe3c5e2ccf3b458/fcda8/family-resemblance.png 590w,/static/bc604c2a1b202f91ffe3c5e2ccf3b458/efc66/family-resemblance.png 885w,/static/bc604c2a1b202f91ffe3c5e2ccf3b458/dd104/family-resemblance.png 1064w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;이러한 맥락에서 비트겐슈타인은 실제 현실에서도
사람들이 물질을 분류할 때 &lt;strong&gt;모든 개체들이 확실히 공유하는 최소한의 속성들만을 통해 분류하지 않는다&lt;/strong&gt;고 주장하였다.
그 대신 그는 사람들이 &lt;strong&gt;가족유사성(family resemblance)에 기반을 둔 분류&lt;/strong&gt;를 수행한다고 주장하였다.
위의 그림은 이 가족유사성을 설명할 때 가장 일반적으로 사용되는 예시이다.
9명의 남성들 전원이 공유하는 속성은 오로지 풍성한 턱수염을 지닌 남성이라는 점일 뿐이다.
만일 전통적인 분류법을 사용한다면 &amp;quot;턱수염을 지닌 남성&amp;quot;을 위의 범주의 공유 속성이라고 결론 내렸을 것이다.
그러나 9명의 남성들을 보면 몇몇 예외가 있더라도, &lt;em&gt;전반적으로&lt;/em&gt; 공유하는 속성이 몇 가지 있다고 느낀다.
이들은 &lt;em&gt;전반적으로&lt;/em&gt; 검은 머리(7/9), 큰 코(7/9), 안경(5/9), 콧수염(5/9) 등의 속성을 지니고 있다.&lt;/p&gt;&lt;p&gt;이러한 상황에서 만일 턱수염은 없지만 검은 머리, 큰 코,
안경, 콧수염을 지니고 있는 10번째 남성이 나타났다고 생각하자.
전통적인 분류법에 따르면 &amp;quot;턱수염을 지닌 남성&amp;quot;이라는 공유 속성을 더 이상 적용할 수 없으므로 이 기준으로는 이들을 동일 범주로 간주할 수 없게 되었다.
그러나 이 10명은 여전히 턱수염(9/10), 검은 머리(8/10), 큰 코(8/10), 안경(6/10), 콧수염(6/10) 등의 &lt;em&gt;전반적&lt;/em&gt;으로 공유한다.&lt;/p&gt;&lt;p&gt;가족유사성 이론이란 이처럼 개체들 사이에 존재하는 &lt;strong&gt;전형적인(typical) 속성들을 통해 이들을 동일한 범주로 간주할 수 있다&lt;/strong&gt;는 이론이다.
그리고 하나의 범주 내에는 이러한 전형적인 속성을 유난히 많이 지닌 개체도 존재할 수 있고,
유난히 덜 지닌 개체가 존재한다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;그리고 이러한 관점을 계승하고 발전시킨 것이 바로 로쉬의 프로토타입 이론이다.&lt;/p&gt;&lt;h3&gt;프로토타입 이론&lt;/h3&gt;&lt;p&gt;로쉬는 사람들이 동일 범주 내의 사물들을 분류할 때 가족유사성이 높은 전형적인 것과
가족유사성이 낮은 비전형적인 것들로 등급을 매겨 분류한다고 설명하였다.
그리고 특정 범주의 모든 사물들 중 가장 전형적인 사물이
바로 해당 범주의 &lt;strong&gt;원형(prototype)&lt;/strong&gt;이 되는 것이다.&lt;/p&gt;&lt;p&gt;그동안 예시로 든 조류를 기준으로 생각해보자.
전통적인 분류법에서는 동물들을 분류할 때 공유 속성에 기반을 두어 조류가 맞는지, 아닌지의 여부로 조류를 분류하였다.
이는 참새, 두루미, 타조, 키위새, 앵무새 등 조류로 분류된 모든 개체들이 조류라는 측면에서 서로 대등한 지위를 지닌다는 것을 의미한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/6a14318fadbb71d425d61a7e0f827603/9685e/prototype-theory.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:85.8108108108108%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACIElEQVQ4y3VUyaoCMRD05z3rWfQgeBFERT2pICjuIoK7KO6K+74v9aiGyMzoC4RMetLV1dWdmN7vN9Tk2O/32O12eL1e8r1er2XP781mg+12i8vlAjWUn1pN6gcBOOr1OgKBAMbjsYCpw9frFbfb7ROI4MpHC2rSsuM6mUzgcDgEeD6fIxKJIB6Po1ar4XQ6CcPn84nH44HVaiWrjqEWkAx4oFAooN/vi61YLMLn88HtdoudrMiO4ASmHApQGBq1YGqcdMxms2g0GhKENjorhgRUWupSNhqUbh6PB3a7HbPZTPQcjUaiHc8QlIFCoRCGw6GuBjpARiQTOlQqFQwGAzSbTQnSbreRTCbR6/WwXC4RDAZRKpV0LL8YkgF1PB6POJ/PAtbtdpHP52WdTqfodDrIZDLCkIF59qtt1OZwOOB+v4tzOp0WJpzRaFRaiVqSbTgcFmBqSZ9/AVXFyuUyrFbrR89cLgev1ytMCWSz2aSNqNvPKmsrzBTIkgXx+/3CioVxuVxwOp3yjymTOeWhND8ZKoNixYKkUinRNZFIiARschaCfchBDY1t9wVIXXgDmA6dmRJTjsViUhQGIkuyJiCz4v5nH7IFOJkmD7daLSwWi49N9RpTJTBbiQ2u09D42jAd6khnRmfKrCSZ0pm3x2KxwGw2S4GMGX5dPdU+WmCy4+RjUa1WpYUIbAT7+dpotVSvC8HVW0g7gfkqaX0Uwz8xOAd2Ls4AWQAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;프로토타입 이론&quot; title=&quot;프로토타입 이론&quot; src=&quot;/static/6a14318fadbb71d425d61a7e0f827603/fcda8/prototype-theory.png&quot; srcSet=&quot;/static/6a14318fadbb71d425d61a7e0f827603/12f09/prototype-theory.png 148w,/static/6a14318fadbb71d425d61a7e0f827603/e4a3f/prototype-theory.png 295w,/static/6a14318fadbb71d425d61a7e0f827603/fcda8/prototype-theory.png 590w,/static/6a14318fadbb71d425d61a7e0f827603/efc66/prototype-theory.png 885w,/static/6a14318fadbb71d425d61a7e0f827603/c83ae/prototype-theory.png 1180w,/static/6a14318fadbb71d425d61a7e0f827603/9685e/prototype-theory.png 1336w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;그러나 프로토타입 이론은 &lt;em&gt;&amp;quot;새인가, 새가 아닌가&amp;quot;&lt;/em&gt;라는 &lt;strong&gt;이분법적 구조&lt;/strong&gt;에서 벗어나
다시 &lt;strong&gt;동일 범주 내에서&lt;/strong&gt; &lt;em&gt;&amp;quot;얼마나 조류스러운가&amp;quot;&lt;/em&gt;라는 &lt;strong&gt;정도&lt;/strong&gt;의 측면으로 대상을 분류하고자 한다.&lt;/p&gt;&lt;p&gt;프로토타입에 기반한 분류법에 따르면 인간들은 기본적으로
&lt;em&gt;대부분의&lt;/em&gt; 조류들이 &lt;em&gt;전반적으로 공유&lt;/em&gt;하는 속성들을 파악하고,
그러한 &lt;em&gt;전형적인 속성&lt;/em&gt;을 가장 많이 지니고 있는 &lt;strong&gt;전형적인 조류 개체&lt;/strong&gt;를 새의 &lt;strong&gt;원형, 즉 프로토타입&lt;/strong&gt;으로 설정한다.
이후 프로토타입으로 설정된 개체(robin, 지빠귀)를 중심으로
얼마나 조류의 전형적인 특성들을 덜 지녔는지에 따라 각 조류를 위계적으로 구분한다.
이러한 작업을 거침으로써 우리는
프로토타입으로부터 거리가 있는 타조와 펭귄이 다른 조류들에 비해 &amp;#x27;비전형적인 새&amp;#x27;라고 말할 수 있게 된다.&lt;/p&gt;&lt;p&gt;이는 플라톤/아리스토텔레스의 관점에 대응되는 철학적인 주장임과 동시에
사람들이 실제로 무의식적으로 사물을 분류하는 인지 메커니즘이다.&lt;/p&gt;&lt;h3&gt;프로토타입 기반의 객체지향&lt;/h3&gt;&lt;p&gt;이제 다시 프로그래밍 이야기로 돌아오자.&lt;/p&gt;&lt;p&gt;자바스크립트는 전통적인 &lt;strong&gt;클래스 기반의 객체지향&lt;/strong&gt;과는 다른
&lt;strong&gt;프로토타입 기반의 객체지향&lt;/strong&gt;이라는 새로운 개념을 내세우며 등장하였다.
이 둘은 어떠한 차이를 지닐까?&lt;/p&gt;&lt;p&gt;자바에서의 객체는 data 영역에 관리되고 있는 클래스 정보라는 틀에 맞추어 생성된다.
이 클래스 정보는 그 자체로는 heap 영역과 stack 영역이라는 &amp;#x27;현실 세계&amp;#x27;와는 동떨어진 차원에 존재하고 있다.&lt;/p&gt;&lt;p&gt;그러나 자바스크립트에서의 객체는 기본적으로 &lt;strong&gt;다른 객체를 기반으로 생성&lt;/strong&gt;된다고 볼 수 있다.
현실에 존재하는 또 다른 객체인 &lt;em&gt;프로토타입&lt;/em&gt;를 복제/참조하는 방식으로
데이터가 생성되기 때문에 클래스와는 구조 자체가 다르다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;또한 상속에 있어서도 자바는 &lt;strong&gt;추상적인 두 클래스 사이에서&lt;/strong&gt; 상속이 일어나지만
자바스크립트는 &lt;strong&gt;구체적인 객체들 사이에서&lt;/strong&gt; 복제를 통해 데이터가 생성된다.&lt;/p&gt;&lt;p&gt;이에 대해 아주 가볍게만 알아보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; stringObject &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;a,b&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

stringObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;,&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// [&amp;#x27;a&amp;#x27;, &amp;#x27;b&amp;#x27;]&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stringObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__proto__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// String { constructor: ƒ String(), ..., split: ƒ split(), ... }&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stringObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__proto__&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__proto__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// { constructor: ƒ Object(), ... }&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stringObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__proto__ &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stringObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__proto__&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__proto__ &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위와 같이 &lt;code&gt;new String(&amp;quot;a,b&amp;quot;)&lt;/code&gt;를 통해 String 인스턴스를 생성한 경우,
우리는 자연스럽게 split과 같은 다양한 메서드를 호출할 수 있게 된다.&lt;/p&gt;&lt;p&gt;이러한 메서드들은 &lt;code&gt;String.prototype&lt;/code&gt; 객체에 담겨있는데,
String 인스턴스에서는 &lt;code&gt;__proto__&lt;/code&gt; 속성을 통해 이 프로토타입 객체에
접근하고 그 기능들을 호출할 수 있게 된다.&lt;/p&gt;&lt;p&gt;그리고 모든 프로토타입 객체들은 최종적으로 Object.prototype을 가리키고 있다.
이처럼 실체를 지닌 객체들 간의 참조 관계가 바로 자바스크립트에서의 상속이다.&lt;/p&gt;&lt;h2&gt;맺으며&lt;/h2&gt;&lt;p&gt;개인적으로 철학 및 심리학 이론으로서
프로토타입 이론이 플라톤의 관점에 비해 더 합리적이고 과학적이라고 생각한다.
다만, 프로그래밍 언어로서 클래스와 프로토타입 개념을 굳이 비교한다면
성능, 안정성 등의 요소를 복합적으로 고려해야 한다고 생각된다.&lt;/p&gt;&lt;p&gt;솔직히 이러한 주제에 대해 나도 흥미를 느낄 뿐이지 정확히 아는 것은 아니다.
또한 해당 게시글에서 억지로 비유를 사용하다보니 해석 방식에 따라 충분히 불편할 수 있는 내용들도 있다고 생각한다.&lt;/p&gt;&lt;p&gt;다만, 어떤 분야에서든 그동안 당연하게 여겨온 개념들에 대해 자세히 파고드는 것은 중요하다고 생각한다.
이런 주제에 대해 보다 깊게 알아보고 싶다면 아래에 기재한 참고문헌이나 각종 서적을 참고하기를 바란다.
그리고 해당 게시글을 일종의 화두라고 생각하고 각자 본인만의 관점과 해석을 정립해나가는 것이 좋지 않을까 한다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;참고문서&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.56.4713&amp;amp;rep=rep1&amp;amp;type=pdf&quot;&gt;Classes vs Prototypes - Some Philosophical and Historical Observations&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://medium.com/@limsungmook/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-%EC%99%9C-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%84-%EC%84%A0%ED%83%9D%ED%96%88%EC%9D%84%EA%B9%8C-997f985adb42&quot;&gt;자바스크립트는 왜 프로토타입을 선택했을까(임성묵 개발자)&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;엄밀히 말해 아리스토텔레스의 구분법(classification)은 19세기에 와서 휴얼(Whewell)과 제번스(Jevons)에 의해
최초로 비판받게 되었다. 이에 대해 알고 싶으면 한 번 검색해보기를 바란다.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[[JS] 프록시 패턴과 프런트엔드 커스텀 캐쉬 구현]]></title><description><![CDATA[애플리케이션 외부 대상을 대리자를 통해 간접적으로 접근하는 방식으로 프록시 패턴이 사용될 수 있다. 대리자는 외부 서버로부터 받은 데이터와 그 유효기간을 캐쉬의 형태로 관리함으로써 서버에 대한 접근 빈도를 줄이고 과한 리소스 낭비를 절감할 수 있다.]]></description><link>https://bugoverdose.github.io/development/proxy-and-frontend-custom-cache/</link><guid isPermaLink="false">https://bugoverdose.github.io/development/proxy-and-frontend-custom-cache/</guid><pubDate>Sat, 05 Feb 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;프록시 패턴(proxy pattern)&lt;/strong&gt;이란
특정 데이터에 대한 접근을 중간에서 가로채는 대리자(proxy)를 두는 디자인 패턴을 의미한다.&lt;/p&gt;&lt;p&gt;애플리케이션에서 해당 데이터에 직접적으로 접근할 권한은 오직 이 대리자에게만 있으며,
애플리케이션 내 다른 요소들은 오직 이 대리자를 통해서만 해당 데이터에 대한 접근을 시도할 수 있다.&lt;/p&gt;&lt;h2&gt;Proxy 클래스의 이해&lt;/h2&gt;&lt;p&gt;자바스크립트와 자바에 모두 &lt;code&gt;Proxy&lt;/code&gt;라는 클래스가 내장되어있을 정도로
많은 프로그래밍 언어들에서 프록시 패턴을 위한 문법을 별도로 지원한다.&lt;/p&gt;&lt;p&gt;아래는 &lt;code&gt;Proxy&lt;/code&gt;를 통해 가볍게 구현한 자바스크립트 예제 코드이다.
&lt;code&gt;new Proxy&lt;/code&gt;의 첫 번째 인자에는 해당 프록시가 직접적으로 접근할 원본 객체가 담기며,
두 번째 인자에는 해당 프록시가 호출될 때 실행될 코드인 &lt;code&gt;handler&lt;/code&gt; 객체이다.&lt;/p&gt;&lt;p&gt;애플리케이션 내에서 &lt;code&gt;proxyPerson&lt;/code&gt; 객체를 사용하는 경우
아래와 같이 유효성 검증 등 다양한 작업을 수행할 수 있으며
&lt;code&gt;person&lt;/code&gt; 객체에 대한 &lt;strong&gt;직접적인 접근 여부&lt;/strong&gt;를 결정할 수 있다.
아래 코드에서 가장 중요한 방어로직은 &lt;code&gt;age&lt;/code&gt;와 &lt;code&gt;name&lt;/code&gt; 이외의 속성을
원본 객체에 추가하려는 경우 에러라고 간주한다는 점이다.
한편, 이와 같은 방어로직 외에도 들어온 set에서 데이터에 변형을 가하여 각 prop에 저장하거나,
원본 객체는 그대로 두고 get에서 데이터를 반환하는 시점에만 변형을 가하는 등의 작업도 수행할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Jeong&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; personProxy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Proxy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; prop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;prop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// return `${prop} is ${obj[prop]}` // 예시) formatting한 데이터를 반환하는 경우&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; prop&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// == `obj[prop]`&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token function-variable function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; prop&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prop &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; prop &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;only age and name property are allowed&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prop &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;age should be a number&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prop &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;name should be at least 2 letters long&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    Reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; prop&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// == `obj[prop] = value;`&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 실제로 위에서 설정한 프록시 객체를 사용해보자.
유의해야 할 점은 &lt;code&gt;handler&lt;/code&gt; 객체에 설정해놓은 &lt;code&gt;get&lt;/code&gt;과 &lt;code&gt;set&lt;/code&gt;은
일반적인 함수처럼 &lt;code&gt;get()&lt;/code&gt;, &lt;code&gt;set()&lt;/code&gt;와 같이 호출하는 것이 아니라는 점이다.
자바스크립트의 경우 이처럼 getter와 setter를 설정하는 경우,
아래와 같이 일반적인 속성을 다루듯이 값을 호출하고 할당할 수 있다.
이는 자바스크립트 클래스 문법 등 다양한 곳에서 옅볼 수 있는 기능이다.&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Jeong&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 10&lt;/span&gt;

personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;70&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 70&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음은 프록시 객체에 설정해놓은 유의성 검증 과정에서 예외 처리되어
실제 원본 객체에 접근하지 못하게 된 경우이다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nonExistentProperty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// null&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nonExistentProperty &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// only age and name property are allowed&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;J&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// name should be at least 2 letters long&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Jeong&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;100&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;quot;age should be a number&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personProxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 70&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;마지막으로 &lt;code&gt;handler&lt;/code&gt; 객체에 사용된 &lt;code&gt;Reflect&lt;/code&gt;에 대해 가볍게 알아보자.
&lt;code&gt;Reflect&lt;/code&gt;는 자바스크립트에 내장된 객체로 &lt;code&gt;Proxy&lt;/code&gt; 클래스와는 별개의 존재이다.
때문에 Proxy handler의 get과 set에서 굳이 &lt;code&gt;Reflect&lt;/code&gt;를 사용하지 않고
&lt;code&gt;obj[property]&lt;/code&gt;와 같이 값에 접근하고, &lt;code&gt;obj[property] = value&lt;/code&gt;와 같이 값을 재할당하여도 문제는 없다.
다만, &lt;code&gt;Reflect&lt;/code&gt;의 get과 set 메서드의 매개변수가
&lt;code&gt;Proxy&lt;/code&gt; handler의 get과 set에 들어오는 인자에 적절하게 대응되기 때문에
함께 쓰는 것이 가독성 측면에서 나쁘지 않다고 생각된다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Jeong&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;

Reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;new_key&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
Reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;new_key&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 100&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// {name: &amp;#x27;Jeong&amp;#x27;, age: 1, non-existing-key: 100}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;대안: 커스텀 클래스 활용&lt;/h3&gt;&lt;p&gt;사실 위의 같은 기능은 굳이 중간에 대리자를 두지 않더라도 구현될 수 있다.
특히 직접 클래스를 정의하고 인스턴스를 생성하는 방법이 가장 일반적일 것이다.&lt;/p&gt;&lt;p&gt;아래 예시 코드에서 클래스의 속성명들과 유효성 검증에 사용되는 메서드명들은 전부 &lt;code&gt;#&lt;/code&gt;로 시작한다.
즉, 이들은 전부 &lt;code&gt;private&lt;/code&gt; 속성 및 메서드이므로 인스턴스 내부에서만 호출될 수 있다.&lt;div num=&quot;2&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;p&gt;때문에 외부에서는 &lt;strong&gt;원본 객체 자체에는 직접 접근&lt;/strong&gt;할 수 있지만,
&lt;strong&gt;해당 객체 내부의 속성들&lt;/strong&gt;은 오직 &lt;code&gt;public&lt;/code&gt; 메서드들인
&lt;code&gt;getter&lt;/code&gt;와 &lt;code&gt;setter&lt;/code&gt;를 통해서만 간접적으로 접근할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  #name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// == [typescript] private name;&lt;/span&gt;
  #age&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// == [typescript] private age;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;#validateName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;#validateAge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; age&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getAge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#age&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;#validateName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;setAge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;#validateAge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; age&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;#validateName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;string&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;name should be a string at least 2 letters long&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;#validateAge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; age &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;age should be a number&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;아래는 실제로 인스턴스를 생성하고, &lt;code&gt;getter&lt;/code&gt;와 &lt;code&gt;setter&lt;/code&gt;를 실행한 결과이다.
&lt;code&gt;constructor&lt;/code&gt;와 &lt;code&gt;setter&lt;/code&gt;에서 유효성 검증 코드가 실행되기 때문에
속성의 값은 언제나 특정 요건들을 충족할 것임을 보장할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Jeong&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;J&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 출력: name should be at least 2 letters long&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 출력: Jeong&lt;/span&gt;

person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 출력: 100&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;예제 비교&lt;/h3&gt;&lt;p&gt;위와 같이 &lt;code&gt;Proxy&lt;/code&gt;를 사용한 경우와 별도로 클래스를 선언하는 경우를 비교해보자.&lt;/p&gt;&lt;p&gt;기본적으로 Proxy 객체를 사용하는 경우
프록시 생성 과정도 클래스 선언 과정에 비해 코드가 간결하며,
마치 원본 객체를 직접 다루듯이 일반적인 자바스크립트 문법의 스타일로 프록시 객체를 다룰 수 있기 때문에
코드 가독성이 더 높다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;다만, 기본적으로 하나의 Proxy 객체는 하나의 객체에 대해 등록된다.
그에 반해 하나의 클래스를 사용하면 복수의 인스턴스를 생성할 수 있기 때문에
동일한 구조의 데이터가 동시에 여러 개 존재해야 하는 경우,
클래스를 사용하는 것이 합리적이라고 볼 수 있다.&lt;/p&gt;&lt;h2&gt;프록시 패턴과 캐쉬&lt;/h2&gt;&lt;p&gt;위의 예제처럼 &lt;code&gt;Proxy&lt;/code&gt; 클래스를 사용하여
특정 데이터에 접근할 때마다 자동으로 일련의 코드가 실행되도록 하는 것은
유지보수 차원에서 분명 중요하다.
하지만 이는 리팩토링 차원의 이야기일 뿐, 그 자체로 새로운 기능을 수행한다고 보기는 어렵다.
실제로 위의 클래스 활용 예제를 통해
우리는 굳이 중간에 대리자 역할을 하는 프록시 객체를 두지 않더라도
이러한 작업을 수행할 수 있음을 알 수 있다.&lt;/p&gt;&lt;p&gt;그러나 이는 철저히 애플리케이션 내부에 존재하는 데이터만을 다루고 있기 때문이다.
애플리케이션 내부에 존재하는 데이터에 대해 프록시를 두어 간접적으로 접근하는 것은
직접적으로 접근하는 상황과 비교했을 때 성능상으로 딱히 유의미한 차이가 없다.&lt;/p&gt;&lt;p&gt;그러한 맥락에서 프록시 패턴은
&lt;strong&gt;접근하는 데 어느 정도 리소스가 드는 대상&lt;/strong&gt;에 대해 대리자를 두었을 때
리팩토링 이상의 의미가 비로소 생겨난다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;접근하는 데 리소스가 드는 상황의 가장 대표적인 예는
백엔드 애플리케이션에서 DBMS에 요청을 보내거나,
프런트엔드 애플리케이션에서 HTTP 요청을 보내는 등
&lt;strong&gt;외부 서버에 데이터를 요청하는 상황&lt;/strong&gt;일 것이다.&lt;/p&gt;&lt;p&gt;만일 외부 서버에 1초 간격으로 동일한 데이터를 반복적으로 요청한다고 가정해보자.
이때 SELECT문이나 GET 요청을 통해 응답받는 데이터가
&lt;strong&gt;빈번하게 변하지 않거나 실제 데이터베이스에 존재하는 데이터와 실시간으로 정확하게 일치할 필요가 없는 경우&lt;/strong&gt;,
우리는 1초마다 실제로 외부 서버에 요청을 보내는 대신
&lt;strong&gt;이전에 동일한 요청에 대해 응답받은 데이터를 그대로 재사용&lt;/strong&gt;해도 무관하다.
이를 통해 외부 대상에 대한 접근 빈도가 줄어들면
클라이언트 쪽은 성능 개선의 효과를 얻으며,
서버 쪽은 처리해야 하는 요청이 줄어들게 됨으로써 불필요한 자원 낭비를 줄일 수 있게 된다.&lt;/p&gt;&lt;p&gt;물론 아무리 실제 데이터와의 차이가 허용되더라도
얼마나 오랜 기간 동안 이전에 받은 데이터를 그대로 사용할지에 대해 정할 필요는 있을 것이다.
10분, 1시간, 1주일 등 데이터의 유효기간을 설정하고 그 유효기간을 넘어가게 되면
외부 서버로 요청을 보내 데이터를 업데이트하는 과정까지 있어야 비로소 &lt;strong&gt;캐쉬(cache)&lt;/strong&gt;가 구현되었다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;즉, 캐쉬는 애플리케이션 내부에서 관리되는 [1] 특정 요청에 대해 응답받은 데이터와 [2] 해당 데이터의 유효기간 정보를 의미한다.
이는 개별적인 백엔드, 프론트엔드 애플리케이션만이 아니라 인터넷 곳곳에 자연스럽게 존재하는 기능이며,
프록시 패턴을 통해 이러한 캐쉬 기능을 쉽게 구현할 수 있다.
이해하기 쉬운 예로 대규모 서비스의 경우 별도의 캐쉬 서버를 두는 경우가 종종 있는데,
이 캐쉬 서버를 통해서 백엔드 애플리케이션에 접근한다는 점에서 캐쉬 서버는 백엔드 애플리케이션에 대한 대리자라고 볼 수 있다.&lt;/p&gt;&lt;h2&gt;프런트엔드 커스텀 캐쉬 구현&lt;/h2&gt;&lt;p&gt;아래는 프런트엔드 애플리케이션 내부에서 캐쉬 저장소를 프록시 패턴을 통해 구현한 예제이다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;api.js&lt;/code&gt;: &lt;code&gt;fetch&lt;/code&gt; 함수를 통해 외부 서버로 GET 요청을 보내고 응답받은 데이터를 반환받는 함수들.&lt;ul&gt;&lt;li&gt;&lt;code&gt;fetchCoinWithNoCache&lt;/code&gt;: 캐쉬 존재 여부 확인하지 않고 무조건 요청을 보내고, 캐쉬도 저장하지 않음.&lt;/li&gt;&lt;li&gt;&lt;code&gt;fetchCoinWithDefaultCache&lt;/code&gt;: 브라우저에 HTTP 캐쉬가 존재하는 경우 활용, 없으면 요청을 보내고 캐쉬 저장함.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// cache: no-store : the browser does not look for cache &amp;amp; don&amp;#x27;t update the cache&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;fetchCoinWithNoCache&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;coinId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;https://api.coinpaprika.com/v1/tickers/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;coinId&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;no-store&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// default : the browser looks for a matching request in its HTTP cache&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;fetchCoinWithDefaultCache&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;coinId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;https://api.coinpaprika.com/v1/tickers/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;coinId&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt;
    response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;CoinCache.js&lt;/code&gt;: 데이터와 데이터의 만료시점으로 구성된 개별 캐쉬 데이터.&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CoinCache&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  #data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  #expirationTime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#expirationTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;#generateExpirationTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;updateData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#expirationTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;#generateExpirationTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;isExpired&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; curTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#expirationTime &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; curTime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 캐쉬 생성 및 업데이트 시점으로부터 1분 후를 만료 기간으로 설정&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;#generateExpirationTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; registeredTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; minuteInMiliseconds &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; registeredTime &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; minuteInMiliseconds&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; CoinCache&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;CacheRepository.js&lt;/code&gt;: 커스텀 캐쉬 저장소. 싱글톤 패턴으로 관리되며, 외부 서버와 직접적으로 통신하는 프록시 객체.&lt;ul&gt;&lt;li&gt;&lt;code&gt;#coins&lt;/code&gt;: 모든 캐쉬 정보가 담긴 객체. coinId를 key값으로 하여
CoinCache 인스턴스를 개별적으로 관리.&lt;/li&gt;&lt;li&gt;&lt;code&gt;findById&lt;/code&gt;: 인자로 받은 해당 coinId에 해당되는 캐쉬의 존재 여부와 유효기간을 확인하여,
필요에 따라 외부 서버로 요청을 보내 캐쉬를 생성 혹은 수정.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CoinCache &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./CoinCache&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; fetchCoinWithNoCache &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;../api&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CacheRepository&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  #coins&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#coins &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;coinId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;look for cache in application!&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; coin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#coins&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// (1) 캐쉬가 존재하고 만료기간이 지나지 않았다면 그대로 반환&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;coin &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;coin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isExpired&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; coin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchCoinWithNoCache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;fetch data &amp;amp; generate new cache!&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// (2) 캐쉬가 없는 경우 외부 서버로 요청을 보내고 캐쉬를 생성하여 저장하고 데이터 반환&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;coin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#coins&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CoinCache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; newData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// (3) 존재하는 캐쉬의 만료기간이 지난 경우 외부 서버로 요청을 보내어 캐쉬 업데이트하고 데이터 반환&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#coins&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; newData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; CacheRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;FetchButtons.js&lt;/code&gt;: 외부 서버로 데이터를 요청하는 버튼 3가지를 지닌 컴포넌트.&lt;ul&gt;&lt;li&gt;각 버튼은 각기 다른 캐쉬 기능을 사용하며, 특정 coinId에 해당되는 데이터에 접근하는 데 걸린 시간을 콘솔에 출력.&lt;/li&gt;&lt;li&gt;&lt;code&gt;onNoCacheClick&lt;/code&gt;: fetch 함수의 디폴트 캐쉬 기능을 사용하지 않고 무조건 요청을 보내는 경우&lt;/li&gt;&lt;li&gt;&lt;code&gt;onDefaultCacheClick&lt;/code&gt;: fetch 함수의 디폴트 캐쉬 기능을 사용하여 필요에 따라 요청을 보내는 경우&lt;/li&gt;&lt;li&gt;&lt;code&gt;onCustomCacheClick&lt;/code&gt; 커스텀 캐쉬 저장소를 사용하여 필요에 따라 요청을 보내는 경우&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; fetchCoinWithDefaultCache&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetchCoinWithNoCache &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;../api&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CacheRepository &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;../domains/CacheRepository&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;FetchButtons&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cacheRepository&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CacheRepository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// (1) fetch 함수의 디폴트 캐쉬 기능을 사용하지 않고 무조건 요청을 보내는 경우&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onNoCacheClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Get &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;coinName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; data : (no cache)&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; startTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchCoinWithNoCache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; endTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;It took &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;endTime &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startTime&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// (2) fetch 함수의 디폴트 캐쉬 기능을 사용하여 필요에 따라 요청을 보내는 경우&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onDefaultCacheClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Get &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;coinName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; data : (default cache)&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; startTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchCoinWithDefaultCache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; endTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;It took &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;endTime &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startTime&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// (3) 커스텀 캐쉬 저장소를 사용하여 필요에 따라 요청을 보내는 경우&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onCustomCacheClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Get &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;coinName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; data : (custom cache)&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; startTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; cacheRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; endTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;It took &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;endTime &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startTime&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;coinName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onNoCacheClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          No Cache
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onDefaultCacheClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          Default Cache
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onCustomCacheClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          Custom Cache
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; FetchButtons&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;기타 React 애플리케이션 기본 코드들 생략&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;최종 결과물&lt;/h3&gt;&lt;p&gt;다음은 위의 애플리케이션을 브라우저에 실행하고, 3가지 버튼을 각각 3번씩 클릭해본 결과이다.
버튼에 설정한 이벤트리스너 함수가 호출되면서 콘솔에 출력한 결과를 차근차근 확인해보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/5b1f319d52e6cddd1d352382dc93731b/b1ffc/compare-cache-example.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:66.89189189189189%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC3klEQVQ4y32TS08bVxiG50d0kUWp72N7PGPPjO+3REiov6rNohgiudl000r9AU2VRRdVK1nIt9r4IhzicUNISABRELdySwu4kgM81TkIpG76SZ/es5h59L7fd45yfHyM4zhcXV3xf3VzcyP1+2+/I+n38/n0DFnTxtajFDQNn9ePxxtAOT09ZW9v7x748e8PbPXabA97/L7m4Lwb8f6PNd6tveH45E++efqUqBok/WiGsGHhj5gktAg+jw+3AAqHOzs7fJxMJPDirw90KhWarV951n7Gj90feP5blec/9am23vLlF0+Iezzkkxnimo6hhkirKl4BdAdQDg8PWVlZ4eTkRLocj/+h1mjS6fVp1Js06w1a7QE//1Kn13/F49l5fPanpB6aWLkIejKAkQmhpjX8D0MoIu5wOJQuJ5MJ4/GYWq1Gt9ORWq3V6Pe7VKsLjIYvKZXncNlB0tlHxOIpVM0gbJho4RhqQUM5OjpifX1dgkRdXl7S6XRYWlpicXFRngeDAa1Wm9XXq5TK83gtP9lMAdOOE9Yi6NEouhYlWIygiKgi9l0JYLPZpNvtSm00GvR6ParVKiPHYfbJHA9sFWO6gD9j85ml44obuEXnAii7u7tsbW3dA+8jd7tSRQvgwsICw+FLZktlprxpzHgRPZbHMAvYqWm0WBGXJ4pycHDA5uYm19fXt1u+uKBer0ugUNF3Dh1nKIG+UIp8oUAimcGyE5iWjR5N4vJZt5H39/flQu4iC5iYm5jf3Qzb7TZvVl9Tmv8aj5okmy9i2ikihoVlJ9GMFC6veXsPNzY2ZGyxoPPzc+lKgIT+N/KydOhVE2RzOYyoiW7EpMNwxL4FimuzvLx8vxjhUPwsHAkVLeCVSoUXLwZ8VSrjCRbJ5GcwzDx6LIeZKBLS87i8FsrZ2Zm8Ntvb2/K9iqWIiOJ9CxU9Go3o9/vyu7n5Mp88CKBqSVxegym3zpQ7ItXtCfIvMbXVTFJFxSQAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;예제 데모&quot; title=&quot;예제 데모&quot; src=&quot;/static/5b1f319d52e6cddd1d352382dc93731b/fcda8/compare-cache-example.png&quot; srcSet=&quot;/static/5b1f319d52e6cddd1d352382dc93731b/12f09/compare-cache-example.png 148w,/static/5b1f319d52e6cddd1d352382dc93731b/e4a3f/compare-cache-example.png 295w,/static/5b1f319d52e6cddd1d352382dc93731b/fcda8/compare-cache-example.png 590w,/static/5b1f319d52e6cddd1d352382dc93731b/efc66/compare-cache-example.png 885w,/static/5b1f319d52e6cddd1d352382dc93731b/c83ae/compare-cache-example.png 1180w,/static/5b1f319d52e6cddd1d352382dc93731b/b1ffc/compare-cache-example.png 1492w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;우선 빨간 부분은 &lt;code&gt;fetch&lt;/code&gt; 함수의 cache 옵션을 통해
&lt;strong&gt;브라우저에 내장된 HTTP 캐쉬 기능을 끈 상태&lt;/strong&gt;로 같은 요청을 3번 보낸 결과이다.
기본적으로 3번 모두 외부 서버로 요청을 직접 보냈음에도
두 번째 요청부터 응답 시간이 &lt;code&gt;1/3&lt;/code&gt; 정도로 감소하였음을 알 수 있다.
이는 &lt;em&gt;우리가 고려하지 못한 어딘가에서 (아마 서버 쪽의) 캐쉬 기능이 실행된 것으로 추측된다&lt;/em&gt;.&lt;/p&gt;&lt;p&gt;녹색 부분은 &lt;code&gt;fetch&lt;/code&gt; 함수의 디폴트 cache 옵션을 그대로 사용함으로써
&lt;strong&gt;브라우저에 내장된 HTTP 캐쉬 기능을 그대로 사용하는 상태&lt;/strong&gt;로 같은 요청을 3번 보낸 결과이다.
마찬가지로 두 번째 요청부터는 응답 시간이 감소하였는데
&lt;code&gt;1/20&lt;/code&gt; 정도로 급격히 감소했다는 점에서
외부 서버로 요청을 보내지 않고 브라우저에 내장된 캐쉬를 그대로 사용하고 있음을 확인할 수 있다.
이 캐쉬를 사용하는 데 약간이라도 시간이 걸리는 이유는
애플리케이션 입장에서 자신을 실행시키는 브라우저 자체가
엄밀히 말해 &lt;em&gt;애플리케이션 외부에서 실행되고 있는 별개의 프로그램이기 때문이다&lt;/em&gt;.
즉, 동일한 로컬 머신 내에서 우리의 애플리케이션은 브라우저로 요청을 보내야 한다는 것이다.
실제로 우리의 컴퓨터 입장에서 웹 브라우저와 브라우저의 각 탭에서 실행되는 사이트들은 하나 하나가 별개의 프로세스다.&lt;div num=&quot;3&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;p&gt;마지막으로 파란 부분은 브라우저의 디폴트 캐쉬 기능을 끈 상태로
커스텀 캐쉬 저장소를 웹 애플리케이션 내에서 관리하며, 같은 요청을 3번 보낸 결과이다.
이 경우 두 번째 요청부터 응답 시간이 단순히 감소한 것이 아니라,
&lt;code&gt;0ms&lt;/code&gt;만큼 걸렸다는 점에서 &lt;strong&gt;아예 요청과 응답이라는 개념 자체가 없어진 것을 확인할 수 있다.&lt;/strong&gt;
이는 우리가 구현한 캐쉬 저장소가 우리의 애플리케이션 내부 요소이기 때문에 생겨난 현상이다.&lt;/p&gt;&lt;p&gt;정리하자면 3가지 버튼 모두 캐쉬를 활용하고 있다.
3가지 경우 모두 첫 번째 요청에서는 아무런 캐쉬를 사용하지 않고
실제 외부 서버로 요청을 보내기 때문에 그 응답 시간은 일관되게 &lt;code&gt;300ms&lt;/code&gt; 정도이다.
그 이후 두 번째와 세 번째 요청의 응답 기간이 서로 동일하다는 점에서 동일한 캐쉬를 사용하고 있음을 알 수 있다.
다만 &lt;strong&gt;3가지 요청의 차이는 캐쉬가 어디에 위치하고 있는지에 있다&lt;/strong&gt;.
위에서부터 각각 서버 측, 로컬 머신의 브라우저 내부, 애플리케이션 내부에 캐쉬가 저장된다.
즉, 위에서 아래로 내려올수록 캐쉬의 위치가 점점 애플리케이션에 가까워지기 때문에
캐쉬의 존재 여부를 확인하고 이를 활용할 때까지의 시간이 감소한 것을 알 수 있다.&lt;/p&gt;&lt;h3&gt;Proxy 활용 리팩토링&lt;/h3&gt;&lt;p&gt;그런데 위의 &lt;code&gt;CacheRepository&lt;/code&gt; 인스턴스는
개별 캐쉬들이 &lt;code&gt;coins&lt;/code&gt;라는 자바스크립트 객체 하나에 전부 저장되고,
특정 해당 객체에서 특정 key에 해당되는 데이터를 가져오는 &lt;code&gt;findById&lt;/code&gt; 메서드를 지니며,
싱글톤으로 관리되고 있다.&lt;/p&gt;&lt;p&gt;때문에 &lt;code&gt;coins&lt;/code&gt; 객체에 대해 &lt;code&gt;Proxy&lt;/code&gt; 인스턴스를 생성하고,
&lt;code&gt;handler&lt;/code&gt; 객체의 &lt;code&gt;get&lt;/code&gt;으로 &lt;code&gt;findById&lt;/code&gt; 메서드를 사용하도록 하면
사실상 동일한 기능의 코드가 된다는 점을 알 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; fetchCoinWithDefaultCache&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetchCoinWithNoCache &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;../api&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CoinCache &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;../domains/CoinCache&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;FetchButtons&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cacheStorage&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Proxy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// cache 데이터: coinId를 key로 하는 CoinCache 인스턴스를 값으로 받음.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token function-variable function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; coin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;look for cache in application!&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;coin &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;coin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isExpired&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; coin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchCoinWithNoCache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;fetch data &amp;amp; generate new cache!&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;coin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;            obj&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CoinCache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; newData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          obj&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; newData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// onNoCacheClick 생략&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// onDefaultCacheClick 생략&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onCustomCacheClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; coinName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Get &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;coinName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; data : (custom cache)&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; startTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; cacheStorage&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;coinId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 일반적인 자바스크립트 객체에 접근하듯이 사용&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; endTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;It took &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;endTime &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startTime&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 생략&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; FetchButtons&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;사실 &lt;code&gt;Proxy&lt;/code&gt; 객체를 거쳐 캐쉬 객체에 간접적으로 접근하든(&lt;code&gt;cacheStorage[coinId]&lt;/code&gt;),
&lt;code&gt;CacheRepository&lt;/code&gt; 인스턴스 내부의 캐쉬 객체에 간접적으로 접근하든(&lt;code&gt;cacheRepository.findById(coinId)&lt;/code&gt;)
커스텀 캐쉬를 생성 및 관리하는 객체를 둔다는 점에서 근본적인 차이는 없다고 볼 수 있다.
물론 &lt;code&gt;Proxy&lt;/code&gt; 객체를 사용하는 경우 명시적으로 프록시 패턴임을 알 수 있거나
코드의 가독성이 높아진다고 생각할 수도 있다.
다만, 관리해야 하는 캐쉬의 종류가 늘어나고 로직이 복잡해지는 경우
&lt;code&gt;Proxy&lt;/code&gt; 객체보다는 자유롭게 다양한 속성과 메서드를 추가할 수 있도록 별도로 클래스를 생성하는 것이
유지보수 측면에서 더 장점이 많다고 생각된다.
또한 클래스에서도 get과 set 키워드를 사용하는 경우
프록시 객체와 같이 일반적인 자바스크립트 객체처럼 일련의 코드를 실행하도록 할 수 있다.&lt;/p&gt;&lt;h2&gt;맺으며&lt;/h2&gt;&lt;p&gt;이번 게시글은 프록시 패턴과 캐쉬라는 개념을 중점적으로 다뤘다.&lt;/p&gt;&lt;p&gt;애플리케이션 외부 대상이 존재하는 경우, 매번 외부 대상에 직접적으로 접근하는 것이 아니라
&lt;strong&gt;캐쉬 저장소(CacheRepository)라는 대리자를 통해 간접적으로 통신하는 것이 클라이언트와 백엔드 양측의 리소스 낭비를 줄일 수 있다&lt;/strong&gt;는
점이 이번 글의 핵심이라고 볼 수 있다.
캐쉬 기능은 브라우저만이 아니라 검색엔진 등 다양한 서비스와 라이브러리에 아주 일반적으로 존재하는 요소인 만큼
이에 대해 이해하는 것은 개발자로서 중요한 소양 중 하나라고 생각된다.&lt;/p&gt;&lt;p&gt;또한 자바와 자바스크립트의 &lt;code&gt;Proxy&lt;/code&gt; 클래스를
상황에 따라 나름 유용하게 사용할 수 있다는 점에 대해서도 이야기하였다.
다만, &lt;code&gt;Proxy&lt;/code&gt; 객체는 프록시 패턴을 구현하기 위한 필수 조건은 아니며
결국 애플리케이션 내부의 객체들 사이에서의 상호작용을 다루는 기능이기 때문에
일반적인 클래스로 충분히 대체될 수 있다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;참고문서&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Learning Patterns : &lt;a href=&quot;https://play.google.com/store/books/details/Learning_Patterns_Patterns_for_building_powerful_w?id=BnJLEAAAQBAJ&amp;amp;hl=en&amp;amp;gl=US&quot;&gt;책 링크&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;MDN: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy&quot;&gt;자바스크립트 Proxy 클래스&lt;/a&gt;
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields&quot;&gt;자바스크립트 접근제어자&lt;/a&gt;,
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get&quot;&gt;자바스크립트의 getter&lt;/a&gt;,
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Request/cache&quot;&gt;fetch의 cache 옵션&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;엄밀히 말하자면 get과 set 자체는 모든 자바스크립트 객체들에서 지원되는 기능으로,
클래스 문법만이 아니라 일반적인 객체들에서도 사용될 수 있다.
다만, 프록시의 &lt;code&gt;handler&lt;/code&gt; 객체에 get과 set을 설정하는 경우
마치 원본 객체를 직접 다루듯이 프록시를 다룰 수 있게 되므로
깊이(depth)라는 측면에서 구조적으로 다소 차이가 있다고 생각된다.&lt;/p&gt;&lt;/div&gt;&lt;div num=&quot;2&quot;&gt;&lt;p&gt;타입스크립트의 경우 자바와 같이 &lt;code&gt;private&lt;/code&gt;와 &lt;code&gt;public&lt;/code&gt;라는 키워드가 지원되지만,
순수 자바스크립트의 클래스 문법에서는 변수와 메서드명 앞에 접두사(prefix)로 &lt;code&gt;#&lt;/code&gt;를 추가함으로써
&lt;code&gt;private&lt;/code&gt;임을 표시한다. &lt;code&gt;#&lt;/code&gt;가 없는 경우 디폴트 접근제어자인 &lt;code&gt;public&lt;/code&gt;를 그대로 사용한다고 간주된다.&lt;/p&gt;&lt;p&gt;이 때문에 필자는 일반적으로 클래스를 사용할 일이 많으면 타입스크립트를 사용하여 개발을 한다.
다만, 해당 예제 코드는 tsconfig 작업 없이도
브라우저나 로컬 머신에서 쉽게 실행될 수 있도록 자바스크립트로 작성되었다.&lt;/p&gt;&lt;/div&gt;&lt;div num=&quot;3&quot;&gt;&lt;p&gt;과거 웹 브라우저들의 경우 싱글 쓰레드로 모든 사이트를 처리하는 등 다양한 방식으로 동작하였으나,
적어도 구글 크롬의 경우 마치 일반적인 운영체제와 같이 복수의 프로세스를 생성하고 관리하는 멀티 프로세스 애플리케이션이다.
이에 대해 자세히 알고 싶다면 구글 개발자들이 직접 만든 이 &lt;a href=&quot;https://www.google.com/googlebooks/chrome/&quot;&gt;만화&lt;/a&gt;를
참고하기를 바란다.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[[JS] 싱글톤 패턴과 React 상태 관리]]></title><description><![CDATA[자바스크립트의 클래스 문법은 다른 객체지향언어들을 흉내내기 위해 등장한 문법적 설탕일 뿐이다. 때문에 굳이 클래스를 정의하고, 클래스를 통해 인스턴스를 생성하는 등 자바에서의 싱글톤 패턴을 억지로 모방하는 것은 안티패턴이라고 볼 수 있다.]]></description><link>https://bugoverdose.github.io/development/singleton-and-react-state-management/</link><guid isPermaLink="false">https://bugoverdose.github.io/development/singleton-and-react-state-management/</guid><pubDate>Tue, 18 Jan 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;싱글톤 패턴(singleton pattern)&lt;/strong&gt;이란 하나의 인스턴스(객체)를
애플리케이션 전체에서 공유하는 디자인 패턴을 의미한다.&lt;/p&gt;&lt;p&gt;자바, C++과 같은 객체지향언어의 경우
클래스를 정의하고, 해당 클래스를 통해서 복수의 인스턴스를 생성할 수 있다.
이때 애플리케이션이 실행될 때 특정 클래스를 기반으로
&lt;em&gt;하나의 인스턴스만을 생성&lt;/em&gt;하여,
애플리케이션 전체에서 해당 인스턴스를 공유함으로써 싱글톤 패턴을 구현할 수 있다.&lt;/p&gt;&lt;p&gt;그렇다면 자바스크립트에서는 어떠할까?&lt;/p&gt;&lt;h2&gt;클래스 문법을 통한 싱글톤 패턴 구현&lt;/h2&gt;&lt;p&gt;엄밀히 말하자면 사실 자바스크립트에도 클래스 문법이 존재한다.
때문에 자바에서 싱글톤 패턴을 구현하는 방식을
자바스크립트에서 그대로 흉내내는 것도 가능하기는 하다.
아래 예시를 확인해보자.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;counter.js&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; instance&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 싱글톤으로 생성/관리되는 객체가 담기는 변수&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 전역 스코프에서 관리되는 데이터&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Counter&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;instance&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;생성된 인스턴스가 이미 존재합니다!&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    instance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// new Counter()로 최초로 생성된 인스턴스를 저장&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// count를 1만큼 증가시키고 그 값을 반환.&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;decrement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// count를 1만큼 감소시키고 그 값을 반환.&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; singletonCounter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;freeze&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Counter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; singletonCounter&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;counter.js&lt;/code&gt; 파일은 Counter 클래스를 선언하고,
이를 통해 하나의 Counter 인스턴스를 생성하여 export하고 있다.
이때 Counter 클래스 자체는 export되지 않고 있기 때문에
다른 자바스크립트 파일들에서는 &lt;code&gt;new Counter()&lt;/code&gt;를 실행하여
새로운 Counter 인스턴스를 생성할 수 없다.
만일 &lt;code&gt;new Counter()&lt;/code&gt;의 실행이 가능했더라도,
instance 변수가 이미 다른 Counter 인스턴스로 초기화되었는지를 체크해주는
방어로직이 constructor에서 실행되기 때문에 Counter 인스턴스는
싱글톤으로 유지될 수 있다.&lt;/p&gt;&lt;p&gt;그리고 let으로 선언된 &lt;code&gt;instance&lt;/code&gt;와 &lt;code&gt;count&lt;/code&gt;는 직접적으로 export되지 않고 있다.
때문에 논리적으로 다른 자바스크립트 파일들에서 &lt;code&gt;count&lt;/code&gt; 변수에 접근하고 그 값을 변경하는 방법은
singletonCounter 객체를 import받고 해당 객체의 메서드(함수)를 실행하는 방법밖에 없다.&lt;/p&gt;&lt;p&gt;마지막으로 &lt;code&gt;Object.freeze()&lt;/code&gt;는 해당 객체가 수정될 수 없도록 &lt;em&gt;얼리는&lt;/em&gt; 기능을 수행한다.
이제 해당 객체가 import되어 사용될 때 해당 객체를 변경시킬 방법은 없으므로
언제나 &lt;code&gt;counter.js&lt;/code&gt; 파일에서 정의된 객체가 그 자체로 일관되게 사용될 것임을 보장할 수 있다.&lt;/p&gt;&lt;p&gt;그런데 중요한 점은 자바스크립트의 클래스 문법이
다른 객체지향언어들의 클래스 문법을 흉내내기 위해 ES6에서 등장한
문법적 설탕(syntactic sugar)&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;일 뿐이라는 점이다.
때문에 이처럼 굳이 클래스를 정의하고, 클래스를 통해 인스턴스를 생성하는 등
자바에서의 싱글톤 패턴을 억지로 모방하는 것은 안티패턴이라고 볼 수 있다.&lt;div num=&quot;2&quot;&gt;&lt;/div&gt;
실제로 클래스 문법을 사용하지 않더라도 위와 동일한 기능을 구현할 수 있다.&lt;/p&gt;&lt;h2&gt;전역 스코프에서의 상태관리&lt;/h2&gt;&lt;p&gt;아래는 위의 코드를 클래스 문법 없이 구현한 결과이다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;counter.js&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; counter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;decrement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;freeze&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; counter &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;보면 알겠지만 다양한 클래스의 정의로 구성된 자바 코드와는 달리
자바스크립트는 기본적으로 객체를 그대로 정의할 수 있다.
때문에 위와 같이 &lt;code&gt;counter.js&lt;/code&gt; 파일에서 그냥 객체를 정의하고
이를 export하면 그 자체로 싱글톤이 구현되었다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;중요한 점은 다른 자바스크립트 파일들에서 &lt;code&gt;counter.js&lt;/code&gt;의
counter 객체를 import하여 사용하는 경우,
counter 객체의 값을 &lt;strong&gt;직접 가져오거나 이를 복사하는 것이 아니라&lt;/strong&gt;,
counter 객체의 메모리 주소값만을 &lt;strong&gt;참조하여 사용한다&lt;/strong&gt;는 점이다.
때문에 다양한 파일들에서 counter 객체를 import하여 사용하더라도
언제나 단 하나의 counter 객체만이 애플리케이션 전체에서 공유되어 사용된다.&lt;/p&gt;&lt;p&gt;그리고 다른 파일들에서는 &lt;code&gt;counter.js&lt;/code&gt;의 &lt;code&gt;count&lt;/code&gt; 변수 값에 직접 접근하는 것이 아니라
&lt;strong&gt;&lt;code&gt;counter&lt;/code&gt; 객체의 메서드를 그때마다 실행하여 해당 시점의 &lt;code&gt;count&lt;/code&gt; 변수 값을 읽거나 그 값을 변경시키기 때문에&lt;/strong&gt;
마찬가지로 애플리케이션 전체에서 단 하나의 &lt;code&gt;count&lt;/code&gt; 변수가 실시간으로 관리될 수 있음을 보장할 수 있다.&lt;/p&gt;&lt;p&gt;실제로 &lt;code&gt;Express&lt;/code&gt;, &lt;code&gt;Electron&lt;/code&gt; 등
다양한 &lt;code&gt;Node.js&lt;/code&gt; 기반의 프레임워크들에서 이런 방식만으로도
충분히 싱글톤 패턴의 상태 관리를 구현할 수 있다.&lt;/p&gt;&lt;p&gt;그런데 문제는 React와 같은 프런트엔드 프레임워크들에 있다.&lt;/p&gt;&lt;h2&gt;React 상태관리&lt;/h2&gt;&lt;p&gt;React에서 상태관리는 굉장히 중요한 요소 중 하나이다.
상태(state)란 기본적으로 특정 컴포넌트에서 사용되고 있는 데이터를 의미한다.
기본적으로 이 데이터는 컴포넌트 라이프사이클 과정에서
특정 값에서 다른 값으로 변할 수 있으며,
이러한 변화에 따라 해당 컴포넌트는 사용자의 화면에 다시 렌더링되도록 설정된다.
중요한 점은 &lt;strong&gt;하나의 컴포넌트에서 특정 상태를 변경하는 경우&lt;/strong&gt;, 해당 상태를 공유하는
&lt;strong&gt;다른 컴포넌트들에서 이 변화를 실시간으로 감지하고 동일한 시점에 새로운 상태 값에 맞게 재렌더링되어야 한다는 점이다.&lt;/strong&gt;
그리고 이를 위해서는 복수의 컴포넌트에서 공유되는 특정 상태를 단 하나의 변수로 생성하고 관리하는 과정이 필요하다.
특히 애플리케이션 전체에서 공유되는 전역 상태(global state)는 싱글톤 패턴으로 관리된다고 말할 수 있다.&lt;/p&gt;&lt;p&gt;Redux, Recoil, MobX 등 각종 상태관리 도구들을 사용하는 경우도 흔하지만
React에서의 상태관리는 이러한 도구가 없더라도 충분히 가능하다.&lt;/p&gt;&lt;p&gt;과거 React 개발자들은 기본적으로
각종 속성과 메서드를 지닌 &lt;code&gt;React.Component&lt;/code&gt;라는 클래스를 상속받아 &lt;em&gt;클래스 컴포넌트&lt;/em&gt;를 생성하였다.
이러한 클래스 컴포넌트들은 상속 받은 속성과 메서드들을 사용함으로써
해당 컴포넌트의 상태와 라이프사이클에 관여하였고,
이 때문에 클래스 컴포넌트는 stateful하다고 평가받았다.
&lt;em&gt;함수형 컴포넌트&lt;/em&gt;의 경우 기본적으로 stateless하지만
useState, useEffect, useContext 등 다양한 hook 문법을 import받아 사용함으로써 동일한 기능을 더 간단한 문법을 통해 구현할 수 있게 되었다.
사용하지도 않을 속성과 메서드를 언제나 무지성으로 상속받는 클래스 컴포넌트에 비해
필요에 따라 기능을 추가해가는 함수형 컴포넌트가 더 가벼우며,
기본적으로 코드의 가독성도 더 높다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;본 예제에서는 useState와 Context를 통해
어떻게 React 애플리케이션에서의 전역 상태관리를 어떻게 구현할 수 있는
방법 중 한 가지를 가볍게 탐구해보고자 한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;index.js&lt;/code&gt;: 기본적으로 애플리케이션의 최상위 컴포넌트는 App이며, 별도의 코드는 불필요.&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ReactDOM &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react-dom&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; App &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./App&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;StrictMode&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;App &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;StrictMode&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;root&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;utils/nerdpoint-context.js&lt;/code&gt;: 컨텍스트를 생성. 컴포넌트들에서 공유할 데이터의 형식 지정.&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; NerdPointContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;nerdPoint&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 전달할 state&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// state를 변경시키는 메서드들&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;decrement&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 해당 메서드들로만 state 변경 가능하도록 지정&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;App.js&lt;/code&gt;&lt;ul&gt;&lt;li&gt;useState를 통해 애플리케이션 전체에서 공유될 state 생성.&lt;/li&gt;&lt;li&gt;Provider를 통해 하위의 모든 컴포넌트들에서 실질적으로 공유될 컨텍스트를 제공.&lt;/li&gt;&lt;li&gt;Provider 내부의 Router의 모든 컴포넌트들은 깊이와 무관하게 주입받은 컨텍스트 사용 가능.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Router &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./Router&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; NerdPointContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./utils/nerdpoint-context&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 최상위 컴포넌트인 App에서 단 하나의 state를 생성&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nerdPoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setNerdPoint&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 실제로 하위 컨텍스트들에 제공할 컨텍스트 정보 구성. 형식은 자유.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; nerdPointContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 공유될 state 값 전달&lt;/span&gt;
    nerdPoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// setState를 직접 전달하지 않고 정해진 메서드들로만 state 변경 가능하도록 지정&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setNerdPoint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nerdPoint &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;decrement&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setNerdPoint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nerdPoint &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;NerdPointContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;nerdPointContext&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Router &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;NerdPointContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; App&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;Router.js&lt;/code&gt;: 서로 다른 컴포넌트를 사용하는 서로 다른 라우트를 2개 설정.&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; BrowserRouter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Routes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Route &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react-router-dom&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ContextConsumerComponent &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./components/consumer&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UseContextComponent &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./components/use-context&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Router&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;BrowserRouter&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Routes&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Route path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/use-context&amp;quot;&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;UseContextComponent &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Route path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ContextConsumerComponent &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Routes&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;BrowserRouter&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Router&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;components/consumer.js&lt;/code&gt;: 제공받은 Context를 Context.Consumer 내부에서 받아서 사용.&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react-router-dom&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; NerdPointContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;../utils/nerdpoint-context&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;ContextConsumerComponent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;NerdPointContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; nerdPoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; increment&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; decrement &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;nerdPoint&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;nerdPoint&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;increment&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;증가시키기&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;decrement&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;감소시키기&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/use-context&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; useContext&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;NerdPointContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; ContextConsumerComponent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;components/use-context.js&lt;/code&gt;: useContext 훅으로 현재 context 값을 그대로 받아서 사용.&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset:linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react-router-dom&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; NerdPointContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;../utils/nerdpoint-context&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;UseContextComponent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; nerdPoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; increment&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; decrement &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NerdPointContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;nerdPoint&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;nerdPoint&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;increment&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;증가시키기&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;decrement&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;감소시키기&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; Context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; UseContextComponent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space:normal;width:auto;left:0&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;최종 결과물&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;/7a4f853b6ed1b1d270733af0138e8a65/context-demo.gif&quot; alt=&quot;예제 데모&quot;/&gt;&lt;/p&gt;&lt;p&gt;코드가 많아보이지만 다루고 있는 내용은 전반적으로 굉장히 간단하다.
핵심은 애플리케이션 내 모든 컴포넌트의 부모가 되는
최상위 컴포넌트 &lt;code&gt;App&lt;/code&gt;에서 useState 훅으로 공유될 상태를 생성하고,
이를 &lt;code&gt;context&lt;/code&gt;라는 형식으로 하위 컴포넌트들에 Provider로 제공하는 것이다.
하위 컴포넌트들에서는 깊이와 무관하게 전부 제공받은 &lt;code&gt;context&lt;/code&gt;에 접근할 수 있는데,
Consumer를 통해 접근하는 방법과 보다 간단하게 useContext 훅을 사용하는 방법이 존재한다.
중요한 점은 어떤 방식으로 접근하든, 또 어떠한 컴포넌트 및 라우트에서 접근하든,
페이지가 새로고침되지 않는 이상 &lt;strong&gt;컨텍스트에 담긴 상태 및 각종 데이터는 그 값을 서로 공유한다&lt;/strong&gt;는 점이다.&lt;/p&gt;&lt;p&gt;그리고 이처럼 공유되는 상태와 컨텍스트는 전부 컴포넌트들 &lt;code&gt;App&lt;/code&gt;, &lt;code&gt;ContextConsumerComponent&lt;/code&gt;,
&lt;code&gt;UseContextComponent&lt;/code&gt; 내부에서만 선언 및 사용되고 있다.
&lt;code&gt;utils/nerdpoint-context.js&lt;/code&gt;에서 createContext로 생성한 데이터의 경우
생성할 컨텍스트의 &lt;em&gt;형식&lt;/em&gt;에 대한 정보일 뿐이며, &lt;code&gt;const&lt;/code&gt;로 선언되었기 때문에 변경될 수 없다.
그 외에도 위의 코드에는 전역 스코프에서 &lt;code&gt;let&lt;/code&gt;으로 선언된 변수가 전혀 없음을 알 수 있다.
즉, 전역 스코프에서의 상태관리가 가져올 수 있는 문제를 제대로 회피하고 있다는 것이다.&lt;/p&gt;&lt;p&gt;물론 useState로 생성된 state 변수와 setState 함수를
하위 컴포넌트들에 prop으로 전달하는 경우,
결과적으로 위와 동일한 기능을 구현할 수도 있다.
그러나 &lt;strong&gt;각 컴포넌트는 전달받은 prop을 해당 컴포넌트 내에서만 사용할 수 있다.&lt;/strong&gt;
때문에 이 경우 하위 컴포넌트1에서 다시 하위 컴포넌트2에 prop으로 state를 전달하고,
하위 컴포넌트2는 다시 하위컴포넌트3에 prop으로 state를 전달해야 하는 상황이 발생할 수 있다.
이 때문에 어느 정도 규모가 있는 프로젝트에서는 이와 같은 방식으로 상태관리를 하거나,
별도의 상태관리 라이브러리를 사용하는 것이 일반적이다.&lt;/p&gt;&lt;p&gt;실제로 위와 같은 구조는 styled-components의 ThemeProvider와 같이
각종 라이브러리들에서 흔하게 접할 수 있다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;참고문서&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Learning Patterns : &lt;a href=&quot;https://play.google.com/store/books/details/Learning_Patterns_Patterns_for_building_powerful_w?id=BnJLEAAAQBAJ&amp;amp;hl=en&amp;amp;gl=US&quot;&gt;책 링크&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;React 공식문서: &lt;a href=&quot;https://reactjs.org/docs/context.html&quot;&gt;Context&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;syntactic sugar: 개발자가 특정 기능을 간편하게 구현할 수 있도록 도와주기 위한 보조 문법.
개인적으로 &lt;em&gt;달달한 문법&lt;/em&gt;이라고 부르고 싶다.&lt;/p&gt;&lt;/div&gt;&lt;div num=&quot;2&quot;&gt;&lt;p&gt;물론 클래스 문법을 필요로 하는 경우도 많으며,
동일한 코드를 클래스 문법을 통해 리팩토링하는 것이 효과적인 경우도 매우 흔하다.
다만, 자바에서 클래스를 통해 인스턴스를 하나만 생성하는 방식으로 싱글톤 패턴을 구현하는 것은
애초에 자바 문법 자체가 클래스를 기반으로 동작하기 때문이다.
자바스크립트에서
&lt;strong&gt;클래스 문법을 사용함으로써 딱히 얻을 수 있는 이점이 없음에도 무지성으로 자바 스타일을 억지로 모방하는 것은 분명 안티패턴이라고 볼 수 있다.&lt;/strong&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[메모리 회로의 핵심: 플립플롭의 이해]]></title><description><![CDATA[오늘은 입력값으로부터 0과 1이라는 출력값을 만들어내고, 외부로부터의 입력이 사라지더라도 그 출력값을 그대로 유지하는 구조의 회로에 대해 이야기해보고자 한다. 다양한 구조의 래치를 차근차근 살펴보며 최종적으로 D 플립플롭을 자세히 이해해보자.]]></description><link>https://bugoverdose.github.io/computer-science/latch-and-flip-flop/</link><guid isPermaLink="false">https://bugoverdose.github.io/computer-science/latch-and-flip-flop/</guid><pubDate>Thu, 13 Jan 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;&lt;div to=&quot;/computer-science/analog-and-digital&quot;&gt;지난 게시글&lt;/div&gt;&lt;/strong&gt;에서
우리는 안정성을 위해 입력되는 자극을
0과 1이라는 데이터로 간주하여 연산에 사용하는 것이
회로의 기본 원리라고 이야기하였다.
또한 &lt;strong&gt;&lt;div to=&quot;/computer-science/bit-and-logic-operation&quot;&gt;그 이전 게시글&lt;/div&gt;&lt;/strong&gt;에서는
이러한 0과 1이라는 데이터를 적절히 조합함으로써
보다 복잡한 데이터를 표현하고 다양한 연산을 수행할 수 있음을 설명하였다.
그러나 실제로 연산을 수행하기 위해서는
여전히 풀어야 할 과제가 존재한다.&lt;/p&gt;&lt;h2&gt;메모리의 필요성&lt;/h2&gt;&lt;p&gt;회로를 구성하는 개별 부품이 0 혹은 1이라는 출력값을 꾸준히 내기 위해서는
그에 해당되는 입력이 각 부품에 꾸준히 들어와야 한다.
그렇다면 예를 들어 &lt;code&gt;5+1&lt;/code&gt;라는 연산을 회로가 어떻게 처리할 수 있을까?
기본적으로 &lt;code&gt;5&lt;/code&gt;, &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;1&lt;/code&gt;에 해당되는 데이터를
3가지 입력 장치를 통해 &lt;em&gt;동시에&lt;/em&gt; 생성하고 연산의 결과가 나올 때까지
입력을 유지하는 방법을 생각해볼 수 있다.&lt;/p&gt;&lt;p&gt;단순히 두 수를 더하는 상황에서는 이 방법을 오답이라고 보기는 힘들다.
그러나 예를 들어 &lt;code&gt;5-1&lt;/code&gt;라는 연산을 수행하려는 경우에는 어떠할까?
덧셈과 달리 뺄셈과 나눗셈은 두 피연산자의 &lt;em&gt;순서&lt;/em&gt;가 굉장히 중요하다.
&lt;code&gt;5-1&lt;/code&gt;과 &lt;code&gt;1-5&lt;/code&gt;는 서로 다른 결과이니 말이다.
위와 같은 방법을 고수하고 싶다면 예를 들어
&lt;code&gt;5&lt;/code&gt;라는 데이터를 &lt;code&gt;좌측 5&lt;/code&gt;, &lt;code&gt;우측 5&lt;/code&gt;라는 두 가지로 구분하는 방법을 생각해볼 수 있다.
즉, &lt;code&gt;5-1&lt;/code&gt;라는 연산을 위해 &lt;code&gt;좌측 5&lt;/code&gt;, &lt;code&gt;-&lt;/code&gt;, &lt;code&gt;우측 1&lt;/code&gt;라는 데이터를
&lt;em&gt;동시에&lt;/em&gt; 3가지 입력 장치를 통해 회로에 생성한다는 것이다.
뭔가 찝찝하지만 이 방법을 도입한다고 해보자.
그렇다면 &lt;code&gt;5-4+1&lt;/code&gt;라는 연산은 어떻게 수행될 수 있을까?
여전히 &lt;code&gt;첫번째 5&lt;/code&gt;, &lt;code&gt;첫번째 -&lt;/code&gt;, &lt;code&gt;두번째 4&lt;/code&gt;, &lt;code&gt;두번째 +&lt;/code&gt;, &lt;code&gt;세번째 1&lt;/code&gt;이라는
데이터를 생성하기 위해 5가지 입력장치를 &lt;em&gt;동시에&lt;/em&gt; 사용해야 한다고 생각하는가?
딱 보아도 범용성이 떨어진다는 점을 느낄 수 있을 것이다.&lt;/p&gt;&lt;p&gt;실제 계산기의 경우 &lt;code&gt;5-1&lt;/code&gt;이라는 연산을 위해
&lt;code&gt;5&lt;/code&gt;, &lt;code&gt;-&lt;/code&gt;, &lt;code&gt;1&lt;/code&gt;라는 데이터를 &lt;em&gt;순차적으로&lt;/em&gt; 입력한다.
즉, &lt;code&gt;5&lt;/code&gt;, &lt;code&gt;-&lt;/code&gt;, &lt;code&gt;1&lt;/code&gt;라는 버튼을 단 한번만 눌러도
회로 내에 각각에 대응되는 데이터가 순차적으로 생성되며,
이렇게 &lt;strong&gt;생성된 데이터가 회로 내에 유지된다&lt;/strong&gt;는 것이다.&lt;/p&gt;&lt;p&gt;오늘은 입력값으로부터 0과 1이라는 출력값을 만들어내고,
외부로부터의 입력이 사라지더라도
그 출력값을 그대로 유지하는 구조의 회로에 대해 이야기해보고자 한다.&lt;/p&gt;&lt;h2&gt;래치&lt;/h2&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:299px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/9c4c401041cbe1d47f69c5670e1f7987/aeb78/or-gate-latch.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:54.72972972972974%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABY0lEQVQoz31SyarCQBCcb/dD/AoPHlTEDXHFuIseIihJXBNU3OtRDR1G5aWgmWEyXVNdFQMA7/dbirhcLjgcDjgejz8VhqEU91EUxT26EsY+eDweyGazGAwGGA6HH9XtdtHpdGR1HAeZTEaIEwmpjg232w2r1Qq+78PzPGy3W3xjOp1it9slE57PZ1HX6/WQy+Uwn88xHo/RbrdRLpflQQXv7fd72JaxfkauVCpoNpuo1+sfithcKBRi0n6//6FQOYzNTtB013VRrVZxv9/l/Pl8yjcS8EFiNptJMDZ43+AfMACSqwKqJxqNhqhPpVJIp9PiLy3K5/OYTCYwr9dLQlAlbOS+1WqJpwTvKOjlZrORKdbrNa7XK06nk/xq7DVBEKBUKsklmk9varUaisXij2qeL5dLJMFwbr6iStVwklMxVTIQKlssFrFiLTuDOGWFBjMajYSApEycvukvouPbQdoK/wCMl0GS/TtwWQAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;OR 게이트 래치&quot; title=&quot;OR 게이트 래치&quot; src=&quot;/static/9c4c401041cbe1d47f69c5670e1f7987/aeb78/or-gate-latch.png&quot; srcSet=&quot;/static/9c4c401041cbe1d47f69c5670e1f7987/12f09/or-gate-latch.png 148w,/static/9c4c401041cbe1d47f69c5670e1f7987/e4a3f/or-gate-latch.png 295w,/static/9c4c401041cbe1d47f69c5670e1f7987/aeb78/or-gate-latch.png 299w&quot; sizes=&quot;(max-width: 299px) 100vw, 299px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위와 같은 구조의 회로를 한번 보자.
초기 상태로 in에는 0이라는 값이 입력되며 이 때문에
OR 게이트의 출력값은 0이 된다고 가정하자(&lt;code&gt;0 OR 0 = 0&lt;/code&gt;).
이후 in에 1이라는 값이 입력되는 경우 OR 게이트의 출력값은 무조건 1이 되며,
out에는 1이라는 값이 출력된다.
그런데 이때 OR 게이트의 출력값인 1은 그대로 OR 게이트 자신의
입력값으로 들어오게 되며,
OR 게이트는 1과 1을 입력값으로 받아들이게 된다(&lt;code&gt;1 OR 1 = 1&lt;/code&gt;).
이렇게 출력값을 자신의 입력값으로 사용하는 순환구조를
피드백(feedback)이라고 한다.
그리고 이러한 피드백으로 인해 in의 입력값이 다시 0으로 변하더라도
OR 게이트의 출력값은 여전히 1로 유지될 수 있다(&lt;code&gt;0 OR 1 = 1&lt;/code&gt;).&lt;/p&gt;&lt;p&gt;이처럼 입력값을 외부로부터 꾸준히 입력받지 않더라도,
특정한 출력값을 유지할 수 있는 구조의 회로가 바로 &lt;strong&gt;래치(latch)&lt;/strong&gt;의 특성이다.
그러나 위와 같은 OR 게이트 래치로는
출력값을 1로 변경하고 이를 유지시키는 것은 가능하지만,
다시 출력값을 0으로 되돌리는 것은 불가능하다.
자유자재로 1로 값을 설정(set)하고 0으로 값을 리셋(reset)하기 위해서는
피드백 과정에 간섭할 수 있는 수단을 추가해야 한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/ce0eb5c7816f92b4addf0c24a6ac907c/d0c0e/and-or-gate-latch.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:30.405405405405407%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA2ElEQVQY03VQ1wrEMAzL//9c6UOfukv33pvqkCHlODiDSSLbiiz1PA+YDH3X767rUFWVZF3XKMsSRVHIyTfxLMvQNM07r35JdIERRRHCMESapkiSBOd5Cn7fN6ZpwnVdkqy/hJpk33d4nveSHschCnTzPM/ywbIsCIJAlFEtcW6iQ+mVWOSwZVnwfR+GYcBxHBn8JuQZxzGGYRDcdV2Ypom+7yUVG9Z1FU9s2xZ/WKCScRxFTZ7nklTStq1g7N+2Tch5pwXc8l2Z/mhz/wW9o09UR0/5+W98AOYGy9zyC5/xAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;AND-OR 게이트 래치&quot; title=&quot;AND-OR 게이트 래치&quot; src=&quot;/static/ce0eb5c7816f92b4addf0c24a6ac907c/fcda8/and-or-gate-latch.png&quot; srcSet=&quot;/static/ce0eb5c7816f92b4addf0c24a6ac907c/12f09/and-or-gate-latch.png 148w,/static/ce0eb5c7816f92b4addf0c24a6ac907c/e4a3f/and-or-gate-latch.png 295w,/static/ce0eb5c7816f92b4addf0c24a6ac907c/fcda8/and-or-gate-latch.png 590w,/static/ce0eb5c7816f92b4addf0c24a6ac907c/d0c0e/and-or-gate-latch.png 715w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위는 기존 구성에서 AND 게이트와 NOT 게이트(혹은 인버터)를 추가한 결과이다.
reset에 0이라는 값이 들어오는 동안 set의 입력값을 0에서 1로 변경하면
출력값은 0에서 1로 변하며, AND 게이트 역시 1을 출력함으로써(&lt;code&gt;1 AND 1 = 1&lt;/code&gt;)
OR 게이트에는 1이라는 값이 그대로 들어오게 된다.
그리고 set의 값이 다시 0으로 돌아가더라도
AND 게이트와 OR 게이트는 여전히 1을 출력하기 때문에(&lt;code&gt;1 AND 1 = 1&lt;/code&gt;; &lt;code&gt;1 OR 0 = 1&lt;/code&gt;)
out은 여전히 1로 유지된다.
이는 in이 set이라는 표현으로 변경되었을 뿐 이전과 동일한 논리라고 볼 수 있다.
다만, reset의 값이 1로 변할 경우 &lt;div&gt;reset&lt;/div&gt;의 값은 0이 되며,
AND 게이트와 OR 게이트는 0을 출력하도록 변하기 때문에(&lt;code&gt;1 AND 0 = 0&lt;/code&gt;; &lt;code&gt;0 OR 0 = 0&lt;/code&gt;)
최종적으로 out은 0이라는 값을 출력하게 된다.
이후 reset의 값이 0으로 돌아가더라도 피드백으로 인하여&lt;br/&gt;
AND 게이트와 OR 게이트는 0을 여전히 출력하게 된다(&lt;code&gt;0 AND 1 = 0&lt;/code&gt;; &lt;code&gt;0 OR 0 = 0&lt;/code&gt;).&lt;/p&gt;&lt;h2&gt;S-R 래치&lt;/h2&gt;&lt;p&gt;기본적으로 위와 같은 방식으로 우리는
회로 내에 비트 단위로 데이터를 자유롭게 저장할 수 있다.
그리고 이러한 논리는 다양한 방식으로 구현될 수 있는데,
그 중 가장 보편적으로 사용되는 방법이 바로 &lt;strong&gt;S-R 래치(set-reset latch)&lt;/strong&gt;라는 구조다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:372px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/7b643fcaceb7129332dd47c0b700ef88/98b6e/s-r-latch.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:83.1081081081081%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB+ElEQVQ4y3VUR8/qMBDM//8Z3BAXTnQBB4QA0Xvvoogqep+nWWnz8oWw0mISx+PZmbUNAPh8PnCK5XKJZrOJTqcjud1uzTldYx2Zhr44HA5YLBa43W643+94PB7I5XLYbDbY7XYy1ut1lEolE/T9fuP1eplgAsiXjEqlgmg0in6/j2q1inK5jEQi8cV6Mpmg1WrhV5gMyYhpjVqtJiyYBNLNw+EwstmsMI7H4yIF5+fzOQy7htb/ZM1nbkQNdS4UCgkgK3G5XDgej8J6NBr9Z8hRGVCzfD6PTCbzVdJsNhPmGr1e72/J1gcFHI/HKBaLkjSLSVPoOLXVYKlqEteKKVZAZXu9XtFoNMQkn88nbLvdLlarFS6Xi2kcwbSVTJftJdl7cr/fi17BYFAyEAhgOBxKezmtcWRI+tSGQOl0WjSjg2x06svS6TCrYDU/GaqGdIsfJ5NJWdhutwWEwHSbQYbcoFAo/CFjWNEVkFqlUilhaA8CDgaDL5dNU5zOMSfP57OYoX1IlhqRSETYshu8Xq85T20NdfV0OklaN2DZfKaz1uPm9/ulA6ivx+ORO4DMeVoEkKW53W7EYjEph0BkQA3tsV6v5QT9PMv84Y1BkTk+n08pl89kwIZmr9Hd6XQqm/MbXfd12/y6CxkE0PuQJVMjp3vQ2jb/AC91CV/1QJ8QAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;S-R 래치&quot; title=&quot;S-R 래치&quot; src=&quot;/static/7b643fcaceb7129332dd47c0b700ef88/98b6e/s-r-latch.png&quot; srcSet=&quot;/static/7b643fcaceb7129332dd47c0b700ef88/12f09/s-r-latch.png 148w,/static/7b643fcaceb7129332dd47c0b700ef88/e4a3f/s-r-latch.png 295w,/static/7b643fcaceb7129332dd47c0b700ef88/98b6e/s-r-latch.png 372w&quot; sizes=&quot;(max-width: 372px) 100vw, 372px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;해당 회로에서 사용되는 NAND 게이트&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;의 경우
두 가지 입력값이 모두 1인 경우에만 출력값이 0이 되며,
그 외에는 출력값이 1이 된다.
처음 보면 낯설 수도 있겠지만 기본적인 원리는 앞서 다룬 래치와 크게 다르지 않다.&lt;/p&gt;&lt;p&gt;입력값 set과 reset이 각각 1과 0일 때, &lt;div&gt;set&lt;/div&gt;과 &lt;div&gt;reset&lt;/div&gt;은
각각 0과 1이 된다.
S 게이트는 입력값 중 하나가 0이므로 무조건 출력값이 1이 되는데(&lt;code&gt;0 NAND ? = NOT (0 AND ?) = NOT 0 = 1&lt;/code&gt;),
이에 따라 출력값 Q는 1의 값을 지니게 된다.
한편 R 게이트의 경우 입력값으로 1과 1이 들어오게 되므로 출력값이 0이 되고, &lt;div&gt;Q&lt;/div&gt;의 값은 0이 된다.
그리고 S 게이트의 또 다른 입력값(&lt;div&gt;set&lt;/div&gt; 이외의 값)으로는 0이 들어오게 되면서
결과적으로 S 게이트는 &lt;code&gt;0 NAND 0 = 1&lt;/code&gt;, R 게이트는 &lt;code&gt;1 NAND 1 = 0&lt;/code&gt;의 값을 출력하게 된다.&lt;/p&gt;&lt;p&gt;이후 set의 값이 0으로 돌아가게 되면 &lt;div&gt;set&lt;/div&gt;의 값은 1로 변한다.
이에 따라 S 게이트의 입력값은 0과 0에서 1과 0로 변하게 되지만
그 출력값은 여전히 1로 유지되기 때문에(&lt;code&gt;1 NAND 0 = 1&lt;/code&gt;)
Q와 &lt;div&gt;Q&lt;/div&gt;의 값은 그대로 1과 0으로 유지됨을 알 수 있다.&lt;/p&gt;&lt;p&gt;그리고 S-R 래치는 기본적으로 대칭적인 설계를 지니고 있다.
때문에 set과 reset에 0과 1을 넣었을 때 위와 동일한 방식으로 동작하여
Q와 &lt;div&gt;Q&lt;/div&gt;이 0과 1이라는 값을 출력할 것임을 쉽게 예상할 수 있을 것이다.&lt;/p&gt;&lt;p&gt;결과적으로 S-R 래치는 대부분의 경우 set과 reset이 모두 0인 상태로 존재하며,
이전 입력값에 따라 정해진 Q와 &lt;div&gt;Q&lt;/div&gt;의 값을 그대로 출력값으로 유지하게 된다.
비트 단위로 데이터를 저장하는 것이 핵심 기능인 회로에 부합한다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;한편 set과 reset이 모두 1인 경우에는 어떠할까?
이 경우 &lt;div&gt;set&lt;/div&gt;과 &lt;div&gt;reset&lt;/div&gt;은 0과 0라는 입력값으로 회로에 들어오게 된다.
NAND의 입력값에 0이 존재하므로 출력값은 무조건 1이 되며,
이에 따라 Q와 &lt;div&gt;Q&lt;/div&gt; 모두 1이라는 값을 지니게 되는데, &lt;div&gt;Q&lt;/div&gt;은
Q를 반전시킨 값을 지녀야 하므로 논리적으로 옳지 않은 결과라고 볼 수 있다.
애초에 set과 reset이 1이라는 뜻은 데이터를 1로 설정하면서 동시에 0으로 초기화하라는
모순되는 지시를 넣은 것으로 볼 수 있다. 때문에 S-R 래치를 사용할 때
이러한 입력값이 존재할 수 없도록 유의해야 한다.&lt;/p&gt;&lt;h2&gt;안정성 문제&lt;/h2&gt;&lt;p&gt;비트 단위에서 생각했을 때 위와 같은 구조는 논리적으로 틀리지 않았다.
그런데 한 가지 고려해야 할 점은 회로란 철저히
물리적인 특성을 지닌 기계라는 점이다.&lt;/p&gt;&lt;h3&gt;데이터 변화 시점&lt;/h3&gt;&lt;p&gt;우선 현재 회로에서는 1이라는 데이터를 저장할 때에만 set에 1이라는 값이 들어오고,
0으로 데이터를 되돌릴 때에만 reset에 1이라는 값이 들어오는 것을 가정하고 있다.
그렇다면 혹시라도 데이터를 변경할 생각이 없음에도
순간적으로 set이나 reset에 1이라는 입력값이 들어온다면 어떻게 될까?
래치는 이를 문제라고 인식하지 못하고 당연히 1이나 0으로 출력값을 설정할 것이다.&lt;/p&gt;&lt;p&gt;이러한 가능성을 최소화하기 위해서는
저장하려는 데이터에 대한 입력값만이 아니라,
해당 정보를 사용하여 실제로 &lt;strong&gt;회로에 데이터를 저장하라고 명령을 내리는 입력값&lt;/strong&gt;도
함께 받아들이는 것이 가장 확실한 안전장치라고 볼 수 있다.
즉, 회로의 출력값을 변경하라는 명령이 들어오지 않는 동안에는
저장하려는 입력값이 0이 되든 1이 되든 회로에 아무런 영향도 미치지 못하게 하는 것이다.&lt;/p&gt;&lt;h3&gt;전파지연&lt;/h3&gt;&lt;p&gt;한편 입력값들에 부합하는 연산 결과가
게이트들을 지나 출력값으로 나올 때까지는 당연히 시간이 걸리며,
우리는 이를 &lt;strong&gt;전파지연(propagation delay)&lt;/strong&gt;이라고 부른다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/76fc055ece1232dbfcb614cee4de492f/18c13/propagation-delay.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:31.756756756756754%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+klEQVQY022QSWvDQAyF/f//RkNj55zk7nMcu2BIfUiNwfuO992vSGAT2gjEY+aNPkkjrOuKd0nRdR3iOIbruqx5niPLMlY627a936Vpyir8hbxG27YwTRNhFP3z5nmGZVnwfZ/BlGEYQqiqCmVZgpS6bAbBmqbBsiyIogiGYcDzPJ52gziOg2ma9iZUz0B6QCuQUkEQBDuwrmuodxUn6YS+7znJK4oC4lGErusMo3OSJBCogDoRhC5fgzyaSpZlHD4OuF6ucGyHPQKLn0dIooTL+cwTE0PAm9j+cxgGjOPIUyu3G+6Kgp/nk1ejRl+aBk1V8f148Oq07S8El8L2WsvHjgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;전파지연&quot; title=&quot;전파지연&quot; src=&quot;/static/76fc055ece1232dbfcb614cee4de492f/fcda8/propagation-delay.png&quot; srcSet=&quot;/static/76fc055ece1232dbfcb614cee4de492f/12f09/propagation-delay.png 148w,/static/76fc055ece1232dbfcb614cee4de492f/e4a3f/propagation-delay.png 295w,/static/76fc055ece1232dbfcb614cee4de492f/fcda8/propagation-delay.png 590w,/static/76fc055ece1232dbfcb614cee4de492f/efc66/propagation-delay.png 885w,/static/76fc055ece1232dbfcb614cee4de492f/18c13/propagation-delay.png 1005w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위의 그림을 보면 알 수 있겠지만
B라는 입력값이 변화했을 때 NOT 게이트의 출력값인 C가 변하는 데에는 시간이 걸리며,
다시 C를 입력값으로 받아 생성되는 D라는 출력값이 변하는 데에도 시간이 걸린다.
문제는 이 시간이 확실하게 고정된 값이 아니라 회로의 구성 등을 토대로
계산된 통계적인 예측값이라는 점이다.
이로 인해 회로에 입력값이 변경되었을 때
위의 회색 구간처럼 실제 출력값을 &lt;strong&gt;예측할 수 없는 구간&lt;/strong&gt;이 생겨나게 된다.&lt;/p&gt;&lt;p&gt;이러한 구간이 구체적으로 어떠한 문제를 발생시킬 수 있을까?
예를 들어 메모리에 &lt;code&gt;1&lt;/code&gt;과 &lt;code&gt;1&lt;/code&gt;을 저장하고
해당 비트 데이터에 대해 덧셈 연산을 수행하도록 지시를 내린다고 생각해보자.
만일 두 비트 데이터 중 하나가 아직 &lt;code&gt;0&lt;/code&gt;에서 &lt;code&gt;1&lt;/code&gt;로 변하기 전에
연산이 실행된다면 &lt;code&gt;1 + 1 = 2&lt;/code&gt; 대신 &lt;code&gt;1 + 0 = 1&lt;/code&gt;이라는 결과가 출력될 것이다.&lt;/p&gt;&lt;p&gt;때문에 회로가 안정적으로 동작하기 위해서는
하나의 작업을 수행했을 때마다 가급적 최악의 경우를 가정하고
&lt;strong&gt;예상되는 지연 시간의 최댓값만큼 다음 연산의 수행을 지연&lt;/strong&gt;해야 한다.&lt;/p&gt;&lt;p&gt;바로 이러한 두 가지 목적을 달성하기 위해 일반적인 메모리 회로에서는
&lt;strong&gt;클록(clock)&lt;/strong&gt;이라는 개념을 활용한다.&lt;/p&gt;&lt;h2&gt;클록&lt;/h2&gt;&lt;p&gt;클록이란 무엇인가.
이름만 보면 회로 내에서 시계와 같은 기능을 하는 부품이라고 생각할 수 있겠지만
정확히는 &lt;strong&gt;시간의 경과를 알려주는 데이터 입력값&lt;/strong&gt; 자체를 의미한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:359px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/701fcfc84d754e0048fda11b68711098/f5eb6/oscillator.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:44.5945945945946%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABUElEQVQoz41SXYuCUBD1//+D/kMvPUYQRZqoUKlRlIRlVg+aGaFlX2c5A1d2oWV3YJj7Mffcc2ZG2263mE6nWCwWmM1mmM/ndeR5WZagvd9v/Me0yWSCNE1xPp9RVRWKohC/3+8IggD7/V4SX69XDcr4m2tkFscx2u02brdb/Zi22+1qQGV/MRVAPiSb0WgkTJUlSYIsy2TNz/I8l/X1epU9P6YaRnWmeZ6H8XgsLGm2bcMwDERRBF3XZU1Wz+ezBhwMBjBNU950u11sNhvZU412PB7R7/exWq0keTgcotlswnEcdDodKQVZXC4XqTVBSMJ1Xfmc+16vJ40UyUoa0ZnErn8ySucd88j0dDphvV7j8XggDMO6/poqfqvVwuFw+NFFyqR/bwTrxWmg845AHC0y5JkAUo4CUx3+NBK8Wy6X8H1fZpSR82pZFhqNhij9AlUVpVknaddWAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;발진자&quot; title=&quot;발진자&quot; src=&quot;/static/701fcfc84d754e0048fda11b68711098/f5eb6/oscillator.png&quot; srcSet=&quot;/static/701fcfc84d754e0048fda11b68711098/12f09/oscillator.png 148w,/static/701fcfc84d754e0048fda11b68711098/e4a3f/oscillator.png 295w,/static/701fcfc84d754e0048fda11b68711098/f5eb6/oscillator.png 359w&quot; sizes=&quot;(max-width: 359px) 100vw, 359px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;주기적으로 0과 1 사이의 출력을 오가는 회로 내의 부품을 발진자(oscillator)라고 하는데,
이러한 부품의 출력값을
&lt;strong&gt;입력값으로 받음으로써 주기적으로 값이 1이 되었을 때에만 특정 작업을 반복하여 수행하도록 설정&lt;/strong&gt;할 수 있다.
그리고 이렇게 사용되는 입력값이 바로 클록(clock)이다.
물론 위와 같이 NOT 게이트를 사용하는 경우 다시 전파 지연이라는 문제로 인해
0이 되고 1이 되는 시점이 불확실해진다.
때문에 실제로는 크리스탈과 같이 별도의 부품을 활용하여
안정적이고 적은 비용으로 발전기를 만들어내고, 이를 통해 클록이라는 자극을 구현한다.&lt;/p&gt;&lt;p&gt;우리는 이제 이 클록을 래치의 입력값으로 받아 적절하게 사용함으로써
위에서 이야기한 문제점들을 해결할 수 있다.
드디어 우리는 이 게시물의 핵심인 D 플립플롭에 대해 이야기할 준비가 끝났다.&lt;/p&gt;&lt;h2&gt;플립플롭&lt;/h2&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/828c51e178ab2af439055368e686c483/1cfc2/d-flip-flop.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:72.97297297297297%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABaklEQVQ4y5WU2YrCQBRE/f8fUxREVHxwiQtuiUvivlvDudAhE3vCeKFJTNrqU3W7U1Km3u93Op7Ppy6XizabjbbbrT1zc4qqlBekbrebwjDUfD7XarXS/X5Xv9/X4XD4tfC/Bc/ns06nkxaLhdbrtR6PhwaDgZbL5YdgXtgriNX9fq8kSVSpVFStVk0Ycl882d+FhNPpVKPRyOwPh8OUMo5j+f6XEubxIYQOKoSpTqejcrlslNfrVd1u195z7yXM4tME8pvNZnalIVAiCh0L8ozBbvgQdEKv18u6ikir1TLLkBIBxTvyrNfrtgNcpoWWEcVGFEXq9XrWHAbFAlBjdTwe25X52QZ5LbMylM1m06xikeZgmXts4iAIAh2Px78tZzPEXq1Ws65CDFGj0Uj3psvOa9l3/Kjdbmd5ITSZTNKO++YW7kNyoaByew8y7H99UvI5ug632237SHx9lt1EcuNLQ2ch9G0Rn+APpO+L3dioMPgAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;D 플립플롭&quot; title=&quot;D 플립플롭&quot; src=&quot;/static/828c51e178ab2af439055368e686c483/fcda8/d-flip-flop.png&quot; srcSet=&quot;/static/828c51e178ab2af439055368e686c483/12f09/d-flip-flop.png 148w,/static/828c51e178ab2af439055368e686c483/e4a3f/d-flip-flop.png 295w,/static/828c51e178ab2af439055368e686c483/fcda8/d-flip-flop.png 590w,/static/828c51e178ab2af439055368e686c483/efc66/d-flip-flop.png 885w,/static/828c51e178ab2af439055368e686c483/1cfc2/d-flip-flop.png 900w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;핵심만 말하자면 플립플롭은 비트 단위로 데이터를 저장하는 회로 구조이다.
그 중에서 특히 D 플립플롭이 메모리 회로를 구성하기 위해 흔하게 사용되며
위와 같은 구조를 지닌다.
그러나 엄밀히 말하자면 플립플롭이란
&lt;strong&gt;에지에 의해 데이터 변화가 촉발되는 래치(edge-triggered latch)&lt;/strong&gt;이며,
D 플립플롭은 &lt;strong&gt;양의 에지에 의해 변화가 촉발되는(positive edge-triggered) 플립플롭&lt;/strong&gt;을
의미한다.
대체 이게 무슨 의미일까?
위의 구조를 한 번 자세히 들여다봐보자.&lt;/p&gt;&lt;p&gt;우선 D 플립플롭의 우측 부분만 보았을 때 위에서 다룬
S-R 래치와 동일함을 알 수 있다.
Q와 &lt;div&gt;Q&lt;/div&gt;는 플립플롭의 최종적인 출력값으로 사용되며,
clock과 D라는 입력값을 토대로
정해지는 &lt;div&gt;S&lt;/div&gt;와 &lt;div&gt;R&lt;/div&gt;라는 데이터는
S-R 래치의 두 입력값 &lt;div&gt;set&lt;/div&gt;와 &lt;div&gt;reset&lt;/div&gt;에 대응된다.
그렇다면 clock과 D라는 입력값의 변화와 그 조합에 따라 S와 R의 값이
어떻게 정해지는지만 파악하면 이 회로를 완전히 파악할 수 있다.&lt;/p&gt;&lt;h3&gt;클록이 변할 때 D의 값이 저장된다&lt;/h3&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/67b2e6e9336cfced888421b1b4cc68ee/2d2d6/edge-triggering-process.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:41.21621621621622%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABEklEQVQoz1WSV47DMAxEff/r+TPuDe69NwaPgYBdAkJEajgzZGy97yvzPP87x3HIuq4yjqNM0yQmqBVFIfu+a/2+b8nzXO/LsmhuPc+jyefzEd/3leS6LgWa3ASNVVVJEATSNI0SIEBeluWPECCu6rqWLMskjmN1CIBmiE2A6/teiTFA3rat1hCHw8INjSjyCBnEphFVE+AMFueM7nme1oZhEKa1aEjTVA93CMMwVBBi5AAJHDAeuwTLqmzbVnGwHB0ZdkZjTNQB4pL9cEz8dYSB8zzFdV29d10n27b9CHGAMg+oE0mSqFPzLxuXCDqOo3iCCdh7FEUqqIQw08gvqlgnh5wGE3xi7BkM74gYHFNS/wK26GSsLNOFcgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;에지에 따른 변화&quot; title=&quot;에지에 따른 변화&quot; src=&quot;/static/67b2e6e9336cfced888421b1b4cc68ee/fcda8/edge-triggering-process.png&quot; srcSet=&quot;/static/67b2e6e9336cfced888421b1b4cc68ee/12f09/edge-triggering-process.png 148w,/static/67b2e6e9336cfced888421b1b4cc68ee/e4a3f/edge-triggering-process.png 295w,/static/67b2e6e9336cfced888421b1b4cc68ee/fcda8/edge-triggering-process.png 590w,/static/67b2e6e9336cfced888421b1b4cc68ee/efc66/edge-triggering-process.png 885w,/static/67b2e6e9336cfced888421b1b4cc68ee/c83ae/edge-triggering-process.png 1180w,/static/67b2e6e9336cfced888421b1b4cc68ee/2d2d6/edge-triggering-process.png 1205w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위의 회로도를 한번 봐보자. 굵은 색은 1에 해당되는 값의 전파가 흐르고 있음을 의미한다.&lt;/p&gt;&lt;p&gt;좌측의 두 회로도를 보면 D의 값이 1로 고정되었을 때
clock이 0에서 1로 변하자 S의 값이 0에서 1로 변함을 알 수 있다(&lt;div&gt;S&lt;/div&gt;은 1에서 0으로 변화).
이는 플립플롭의 출력값이 1로 설정되었음을 의미한다.&lt;/p&gt;&lt;p&gt;우측의 두 회로도의 경우 D의 값이 0으로 고정되었을 때
clock이 0에서 1로 변하자 R의 값이 0에서 1로 변함을 알 수 있다(&lt;div&gt;R&lt;/div&gt;은 1에서 0으로 변화).
이는 출력하는 값이 0으로 설정되었음을 의미한다.&lt;/p&gt;&lt;p&gt;그렇다. &lt;strong&gt;D라는 입력값은 회로에 저장하고 싶은 데이터를 의미한다.&lt;/strong&gt;
그리고 클록이 0에서 1로 변하는 순간이 바로 이 D라는 입력값을 회로에 저장하라는 신호이다.
이러한 신호를 우리는 &lt;strong&gt;에지(edge)&lt;/strong&gt;라고 부르며,
이것이 바로 위에서 우리가 희망하던 &lt;strong&gt;회로에 데이터를 저장하라고 명령을 내리는 입력값&lt;/strong&gt;이라고 볼 수 있다.&lt;/p&gt;&lt;p&gt;이제야 우리는 위에서 언급한 &lt;strong&gt;에지에 의해 데이터 변화가 촉발&lt;/strong&gt;된다는
플립플롭의 정의를 이해할 수 있게 되었다.
특히 D 플립플롭은 &lt;em&gt;양의 에지&lt;/em&gt;에 의해 변화가 촉발된다고 하였는데,
그 의미가 바로 클록이 0에서 1로 변화할 때 D의 값을 저장한다는 의미이다.
만약 클록이 1에서 0으로 변할 때 변화가 촉발될 경우
&lt;em&gt;음의 에지&lt;/em&gt;에 의해 변화가 촉발(negative edge-triggered)된다고 정의되었을 것이다.&lt;/p&gt;&lt;h3&gt;클록이 일정할 때 D는 영향력이 없다&lt;/h3&gt;&lt;p&gt;이번에는 클록이 고정되어있을 때 D의 변화가 출력값에 미치는 영향에 대해 알아보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/545905e6ff2ef894d2f911879ce9b420/2e694/d-powerless.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:34.45945945945946%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA8klEQVQoz02Rh6oFMQhE8//fuLCV7Y3t3csZyOMJkmTUcTRu2zZb19Xu+zaMc5omYdd16Zzn2Y7jUPx9X72XZbF935XPyZuYa9vW0jQVgFFY17UwiMdx1J087Hkea5rGsiyzvu/tPE8rikKOAEe3siwFYCgisaoqy/PchmGwrussSRKR4cQgBUcIdxwxDjJIkIuhKIqivzWEYagGfiUUEfcr8MTf9+nt6AaAEowRIGFEdsNoqGd8mlIYx7FU0hycOE2lECLGYXRvYBSRzF6IQ+CnIB4EgXaNct+Uu4P1/y9j/udRC86ewPxY1HiMnZKLE/8Bwa0ZZ+gBQkcAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;D의 무력함&quot; title=&quot;D의 무력함&quot; src=&quot;/static/545905e6ff2ef894d2f911879ce9b420/fcda8/d-powerless.png&quot; srcSet=&quot;/static/545905e6ff2ef894d2f911879ce9b420/12f09/d-powerless.png 148w,/static/545905e6ff2ef894d2f911879ce9b420/e4a3f/d-powerless.png 295w,/static/545905e6ff2ef894d2f911879ce9b420/fcda8/d-powerless.png 590w,/static/545905e6ff2ef894d2f911879ce9b420/efc66/d-powerless.png 885w,/static/545905e6ff2ef894d2f911879ce9b420/2e694/d-powerless.png 1048w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;좌측의 회로도는 클록이 0으로 고정된 경우를 나타낸다.
이때 클록의 값은 각각 &lt;div&gt;S&lt;/div&gt;와 &lt;div&gt;R&lt;/div&gt;의 값을 결정하는
두 NAND 게이트의 입력값으로 사용된다는 점에 유의하자.
NAND 게이트는 입력값이 모두 1인 경우에만 0을 출력하기 때문에
클록값이 0이라면 D의 값이 어떻든지와는 무관하게
언제나 1이라는 값을 일관되게 출력할 것임을 쉽게 예상할 수 있다.&lt;/p&gt;&lt;p&gt;중앙에 있는 두 회로도의 경우 클록이 1이고, &lt;div&gt;S&lt;/div&gt;와 &lt;div&gt;R&lt;/div&gt;의 값이
1과 0일 때 D가 변화하는 경우를 다루고 있다.
이 경우 &lt;div&gt;S&lt;/div&gt;와 &lt;div&gt;R&lt;/div&gt;의 값은 그대로 1과 0으로 유지된다.
이는 D가 0인 상태로 클록이 1이 되었을 때 촉발된 &lt;em&gt;데이터를 0으로 설정하라&lt;/em&gt;는 지시는
이후 D의 값이 변화하더라도 그대로 수행될 것임을 알 수 있다.&lt;/p&gt;&lt;p&gt;마지막으로 우측에 있는 두 회로도의 경우 클록이 1이고, &lt;div&gt;S&lt;/div&gt;와 &lt;div&gt;R&lt;/div&gt;의 값이
0과 1일 때 D가 변화하는 경우를 다루고 있다.
이 경우에도 마찬가지로 &lt;div&gt;S&lt;/div&gt;와 &lt;div&gt;R&lt;/div&gt;의 값은 그대로 0과 1으로 유지된다.&lt;/p&gt;&lt;p&gt;이를 통해 우리는 클록이 0에서 1로 변하는 시점(에지)에서의 D의 값만이
회로에 변화를 일으킬 뿐,
&lt;strong&gt;D의 변화 자체는 아무런 영향도 미치지 못함&lt;/strong&gt;을 알 수 있다.
이는 클록이 0과 1 사이를 오가는 주기를 적절하게 설정함으로써
회로에 변화가 일어나는 시점을 온전히 통제할 수 있음을 의미한다.
이에 따라 우리는 위에서 이야기한 &lt;strong&gt;예상되는 지연 시간의 최댓값만큼 다음 연산의 수행을 지연&lt;/strong&gt;한다는
목적을 이룰 수 있게 되었다.&lt;/p&gt;&lt;h3&gt;클록 에지 시점에 D는 고정되어야 한다&lt;/h3&gt;&lt;p&gt;다만, 오해하면 안 되는 점이 한 가지 있다.
바로 클록 에지가 발생하는 시점에는 D의 값이 마음대로 변해서는 안 된다는 점이다.
클록의 값이 0에서 1로 변화하는 시점에 D의 값이 안정적으로 유지되어야만
의도한 방식으로 회로의 출력값을 변화시킬 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/a506178f665aa746ffad61322470e3b4/42d54/setup-and-hold-time.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:22.972972972972975%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABCklEQVQY0z2O3Y6CMBSEef/3WUlW/EGglcINSAGlXtkCATQahdvZ9CTrxZeZ007OHOf5fOKmNbqug9aaMG1Lc9u2X/q+pzfLvzem/Wa7vscwDHCyLEMQRYhFgt+1h7W3QRCGEGmKIIyQJCmiiCEWAr5/wG7vI2QMe/+AleviZ+Vis93RDsaPcGzb6/XC5/Mh5nnGsiyk7/cbyzzjfr/DGIPH44FpmjCOI8ZhIG//LNbbXU5+OlHrMRaIGMfa86h5s92CxzH4MaZrpCxRFBJpkiLPTzifL8jyHIxzMMYhRIJClnC0NqiqGup6RaMUBau6JrWzUlfySik0jUJVVaSXpiEvyxJSShRSUuYPU81h1Q+xWNYAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;셋업타임과 홀드타임&quot; title=&quot;셋업타임과 홀드타임&quot; src=&quot;/static/a506178f665aa746ffad61322470e3b4/fcda8/setup-and-hold-time.png&quot; srcSet=&quot;/static/a506178f665aa746ffad61322470e3b4/12f09/setup-and-hold-time.png 148w,/static/a506178f665aa746ffad61322470e3b4/e4a3f/setup-and-hold-time.png 295w,/static/a506178f665aa746ffad61322470e3b4/fcda8/setup-and-hold-time.png 590w,/static/a506178f665aa746ffad61322470e3b4/42d54/setup-and-hold-time.png 858w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위의 그림을 통해 이에 대해 자세히 알 수 있다.
CK의 값이 0에서 1로 변화하는 시점을 기준으로 그 직전과 직후에 D의 값이
안정적으로 유지되어야만 하는 기간을 각각 셋업타임과 홀드타임이라고 불린다.
이 기간 동안 D 값이 유지되어야 이를 제대로 사용하여 NAND 게이트들이 동작할 수 있다.
그리고 NAND 게이트들의 출력값이 변하고 Q와 &lt;div&gt;Q&lt;/div&gt;의 값이
최종적으로 결정될 때까지의 기간이 바로 그동안 지겹도록 이야기한 전파 지연의 기간이다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;참고문서&lt;/div&gt;&lt;ul&gt;&lt;li&gt;컴퓨터 과학 총론: &lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9788993712629&quot;&gt;링크&lt;/a&gt;&lt;/li&gt;&lt;li&gt;한 권으로 읽는 컴퓨터 구조와 프로그래밍: &lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9791189909284&quot;&gt;링크&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;NAND 게이트의 경우 이전 게시글들에서 설명하지 않은 개념이지만
그 명칭이나 회로도만 보더라도 그 기능을 어느 정도 유추할 수 있을 것이다.
NOT 게이트의 세모 부분은 입력값을 그대로 반환한다는 의미이며,
출력부의 작은 동그라미는 출력값을 반전시킨다는 의미이다.
그리고 NAND 게이트는 기본적으로 AND 게이트의 출력부에
바로 이 동그라미가 추가된 구조라고 볼 수 있다.
때문에 NAND 게이트는 일반적인 &lt;strong&gt;AND 연산을 수행한 이후,&lt;/strong&gt;
&lt;strong&gt;그 결과에 대해 NOT 연산을 수행한다&lt;/strong&gt;는 의미를 지닌다.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[아날로그에서 디지털로: 회로의 기초]]></title><description><![CDATA[회로란 안정성을 위해 현실에 존재하는 아날로그적인 자극을 디지털적인 동작으로 바꿔주는 도구라고 볼 수 있다. 이산적인 데이터를 일관된 논리에 따라 적절하게 활용하면 매번 동일한 입력값에 대해 동일한 출력값을 안정적으로 도출해낼 수 있게 된다.]]></description><link>https://bugoverdose.github.io/computer-science/analog-and-digital/</link><guid isPermaLink="false">https://bugoverdose.github.io/computer-science/analog-and-digital/</guid><pubDate>Mon, 10 Jan 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;아날로그(analog)와 디지털(digital)의 차이는 정확히 어디에 있을까?
일반적으로 우리는 오래된 기술을 의미하기 위해 아날로그라는 표현을,
동작하는 데 전기를 필요로 하는 기계에 대해서는 디지털이라는 표현을 사용한다.
현실에서 이러한 용법은 틀리지 않는 경우가 일반적이지만,
이는 결과론일뿐 해당 용어의 정의에 부합한다고 보기는 어렵다.
오늘은 해당 용어를
중심으로 &lt;strong&gt;&lt;div to=&quot;/computer-science/bit-and-logic-operation&quot;&gt;지난 게시글&lt;/div&gt;&lt;/strong&gt;에서
언급한 회로(circuit)에 대해 조금만 더 이야기해보고자 한다.&lt;/p&gt;&lt;h2&gt;아날로그와 디지털의 정의&lt;/h2&gt;&lt;p&gt;결론부터 말하자면 아날로그와 디지털은 다루는 데이터의 성격에 대한 이야기이다.
간단히 말해
&lt;strong&gt;아날로그는 연속적인 데이터를, 디지털은 이산적인 데이터를 다룬다는 의미다.&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;간단한 예를 들어보자,
30cm 자가 있을 때 우리는 cm 단위로만 길이를 측정하지 않는다.
눈금 사이의 값을 토대로 우리는 대상의 길이를
0.5cm, 0.1cm, 0.15cm 정도라고 유추할 수 있다.
이는 자의 0cm와 1cm 사이에 소수 값들이 무한하게 존재하고 있기 때문이다.
그리고 세상의 존재하는 모든 물건들의 높이, 넓이 등은 0.00001cm보다도 더
작은 단위로 측정될 수 있는데,
바로 이러한 측면에서 길이란 &lt;strong&gt;연속적인 데이터&lt;/strong&gt;라고 볼 수 있다.
현실에 존재하는 모든 물질이 지닌 길이, 부피, 무게와 같은 성질들은
이처럼 연속적인 데이터로 표현될 수 있다.&lt;/p&gt;&lt;p&gt;그렇다면 이산적인 데이터란 무엇일까?
간단히 말해 &lt;strong&gt;정수만을 다룬다&lt;/strong&gt;는 의미이다.
0과 1 사이에 다른 값이 존재하지 않는다고 간주하는 것이 바로 이산적인 데이터의 핵심이다.
그렇다. 연속적인 데이터에 비해 이산적인 데이터는
&lt;strong&gt;다루는 값의 범위가 실수에서 정수로 줄어든 것에 불과하다&lt;/strong&gt;는 것이다.&lt;/p&gt;&lt;p&gt;&lt;em&gt;엥? 범위가 줄어들었다면 정확도가 떨어지지 않나?&lt;/em&gt;라는 의문이 드는 것이 정상일 것이다.
실제로 1.5cm를 1cm나 2cm로 표현하는 것을 정확하다고 보기는 어렵다.
그러나 디지털은 단순히 아날로그적인 방식으로 도출한 결과물을 그대로 반올림하는 것을 의미하지 않는다.&lt;/p&gt;&lt;p&gt;아날로그란 현실에 존재하는 연속적인 데이터를
있는 그대로 나타내는 것이라 볼 수 있다.
다만, 이처럼 연속적인 값을 그대로 측정할 경우
누가 언제 측정하였느냐에 따라 매번 결과가 달라질 수 있다는 문제점을 내포하고 있다.
이 때문에 디지털은 0과 1 사이에 존재하는 무한한 값을 완전히 버림으로써
안정성을 추구한다고 볼 수 있다.
즉, 디지털이란 &lt;strong&gt;내부적으로 이산적인 데이터를 활용하여&lt;/strong&gt;
물리적인 현실을 나타내는 데이터를 &lt;strong&gt;안정적이고 일관되게 도출&lt;/strong&gt;해내는 것을 의미한다.&lt;/p&gt;&lt;h2&gt;회로의 필요성&lt;/h2&gt;&lt;p&gt;이산적인 데이터가 안정적이라는 것은 알겠다.
그런데 한 가지 문제가 있다.
숫자라는 것은 추상화된 개념일 뿐이며,
물리적인 실체를 지닌 도구를 만들려면 물리적인 대상과 현상을 활용해야 한다는 점이다.
그리고 현실에 존재하는 모든 물리적인 실체는
(양자역학의 세계로 들어가지 않는 한) 아날로그, 연속적이라는 특성을 지닌다.&lt;/p&gt;&lt;p&gt;바로 이 지점에서 회로가 등장한다.
회로란 전류가 흐르는 길 혹은 그러한 구조를 포괄적으로 지칭한다.
컴퓨터 자체를 하나의 회로라고 정의하는 경우도 있으며,
컴퓨터를 구성하는 개별 부품의 가장 작은 구성 단위를 회로라고 부르기도 한다.&lt;/p&gt;&lt;p&gt;그러나 회로가 지니는 의미는 본질적으로 간단하다.
회로란 안정성을 위해
&lt;strong&gt;현실에 존재하는 아날로그적인 자극을 디지털적인 동작으로 바꿔주는 도구&lt;/strong&gt;라고
볼 수 있다.
그리고 이산적인 데이터를 일관된 논리에 따라 적절하게 활용하면 우리는
매번 동일한 입력값에 대해 동일한 출력값을 안정적으로 도출해낼 수 있게 된다.&lt;/p&gt;&lt;h2&gt;전이함수&lt;/h2&gt;&lt;p&gt;그렇다면 구체적으로 어떠한 방식으로 회로가 동작하며 구성되는지를 한 번 알아보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/9e15258daf0af0505b88fc9d814d8723/d0cc0/transfer-function.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:48.64864864864865%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABHklEQVQoz3VSSY6EMAzk/+/hFRw5cYADIIY9kGZfPSprHEUMbckK2HG5XLFz3zfB1nWlYRhonmeapumfj+PIJ/LwoigoTVOq65ratqWu6xjHoT/bto3O86RvNgwfyn8yUq0ipRQ3EDKwZVn439Fak/hxHJxEwr5sN/V9nxnhW5iDcVmWlGUZOZ7nkeu6FASBAYNd10UfrVmGvu9ZEhTBkbMdNQDGhMwQeqDIHhkXoQsAi6KkJEl4gn3fOfc0sOWR7XFw+c2apjHNUCiAtjQGUAIQVTREAQDQAOylEeLQ601fiRtABAAqRVEUsV5P1mCCZk8d5dUdew/xelgJsMIJYMTjOKYwDNnzPDe7KC77afbwbQTb0AhAVVUxk28Ghr9SwAqTLNM+fgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;전이함수&quot; title=&quot;전이함수&quot; src=&quot;/static/9e15258daf0af0505b88fc9d814d8723/fcda8/transfer-function.png&quot; srcSet=&quot;/static/9e15258daf0af0505b88fc9d814d8723/12f09/transfer-function.png 148w,/static/9e15258daf0af0505b88fc9d814d8723/e4a3f/transfer-function.png 295w,/static/9e15258daf0af0505b88fc9d814d8723/fcda8/transfer-function.png 590w,/static/9e15258daf0af0505b88fc9d814d8723/d0cc0/transfer-function.png 732w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;전이함수란 외부에서 들어오는 자극의 정도에 따라
데이터가 어떻게 수치화되는지에 대한 함수이다.
기본적으로 외부에서 들어오는 자극, 즉 입력값이
직선부(linear region)의 범위를 벗어나지 않을 경우
출력값은 입력값의 정도에 1대1로 대응되는 데이터로 변환된다고 볼 수 있다.
이처럼 입력값을 그대로 데이터화하는 것이 바로 아날로그적인 방식이라고 볼 수 있다.
그렇다면 어떻게 해야 디지털적인 방식으로 입력을 데이터화할 수 있을까?&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:496px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/7f8f19b3c583b94eff40ae1028566494/bb630/clipping.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABkElEQVQ4y41T6crCQAzs+z+SUsFfgojoJ4jF1qOt1R5e2Najx8jkc0u9wEDY7W4ym5mkGn60JElwuVxkjeMYRVEgSWI4to0oDKs4LcsyCbxer29+Pp9h2zYMw0Cj0UC73Yau62g2mxiNRtjtdvgbDtHr9bBer5GmKTQm5lmGsixRFoWsfJ12OBxgmaZUxTM+XjximExbeR6CIIDjOP8V3m63CkAZE2jH4xGe573d05hHm8/nCMNQQCvAPM8rIOXy+moF3/elUiUBnRKdTiep2LIsiVsul58B6yuDoyjCdrsVIFKnE3yxWIiGs9lM7tko5omGdUrcq+/xeFx199WoGQE3m82TVNJlVqjo1G0ymQjYJ0DXdbHf758AhTIPO50OWq0WBoOBlE/dTNNEt9uVpvCMlVI3Oh9mM6bTqchClgpcKLOb1EAlEJBzRUoEJT0y4agoJnQ2i3n1hmn1cgOf8+TKBR+h8KyC+19Nq8akLB+/Viprv9+XUeBeDXF9rL659jrMqtOky/niWJHSa8y3Cu9FHeq763Ng9gAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;클리핑&quot; title=&quot;클리핑&quot; src=&quot;/static/7f8f19b3c583b94eff40ae1028566494/bb630/clipping.png&quot; srcSet=&quot;/static/7f8f19b3c583b94eff40ae1028566494/12f09/clipping.png 148w,/static/7f8f19b3c583b94eff40ae1028566494/e4a3f/clipping.png 295w,/static/7f8f19b3c583b94eff40ae1028566494/bb630/clipping.png 496w&quot; sizes=&quot;(max-width: 496px) 100vw, 496px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위는 곡선의 가파른 정도, 즉 게인(gain)을 최대한으로 설정했을 때의 그래프를 보여준다.
해당 그래프의 핵심은 &lt;strong&gt;입력값의 범위가 직선부를 넘어선다는 점&lt;/strong&gt;이다.
이러한 구조는 더 이상 외부 자극에 1대1로 대응되는 값을 출력하는 것을 목표로 하지 않는다.
기본적으로 모든 입력값은 기본적으로
포화(saturation)라고 불리는 상단부 영역 혹은
차단(cutoff)이라고 불리는 하단부 영역의 데이터 중 하나를 출력하게 된다.
&lt;strong&gt;바로 이 값이 개별 비트에 담기는 0 혹은 1이라는 데이터의 물리적인 형태&lt;/strong&gt;라고 볼 수 있다.&lt;/p&gt;&lt;p&gt;그리고 회로를 구성하는 모든 요소들은 전기를 입력받아
이처럼 0 혹은 1의 해당되는 데이터를 전기의 형태로 출력하고,
다시 서로로부터 해당 출력값을 입력값으로 받음으로써
&lt;em&gt;0과 1의 세계&lt;/em&gt;가 만들어지게 된다.&lt;/p&gt;&lt;h3&gt;어째서 0과 1만 다루는가&lt;/h3&gt;&lt;p&gt;사실 위의 내용을 읽으면 의문이 들어야 정상이다.
이산적인 데이터를 정수라고 설명해놓고는 왜 0과 1만을 다루는 것일까?&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/4413cefa6932a6439e1d0871c4f4d199/3fca6/possibilities.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:31.08108108108108%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA1klEQVQY002QWwqFMAxE3f/i9E9FEAVFQfGJWm3VuUwg3gbSlrSdnEnwPA/u+4a/n+eJfd9xHAecc3jfF9ZaOTP1zPq6rui6Tt7zb8CFF37oJetMNmIyWNeo6xpJkqBpGlRVhW3bECiVkBmD67rkQol9eg0SZlmGKIpQlqUQcidIoB2NMVKgID+TTCl9F9M0iVAYhojjGHmeo23bvyBnwZkty/LZUavOOhG3zmEYBrGWpimKoviSYvM8o+97masQkoo21LoS8YFaZne6YGMKjOMoTTgeP35kPdBDSLdMjQAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;가능성들&quot; title=&quot;가능성들&quot; src=&quot;/static/4413cefa6932a6439e1d0871c4f4d199/fcda8/possibilities.png&quot; srcSet=&quot;/static/4413cefa6932a6439e1d0871c4f4d199/12f09/possibilities.png 148w,/static/4413cefa6932a6439e1d0871c4f4d199/e4a3f/possibilities.png 295w,/static/4413cefa6932a6439e1d0871c4f4d199/fcda8/possibilities.png 590w,/static/4413cefa6932a6439e1d0871c4f4d199/efc66/possibilities.png 885w,/static/4413cefa6932a6439e1d0871c4f4d199/3fca6/possibilities.png 1112w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;사실 위와 같은 방법으로 3진법이나 10진법을 구현하는 것도 가능은 할 것이다.
그러나 보면 알겠지만 3진법부터는 전이함수의 중앙에 있는 범위에
값을 유지시킬 수 있어야 모든 값을 제대로 사용할 수 있게 된다.
이는 입력값을 단순히 최대 혹은 최소로 지정하는 것에 비해
안정성이 떨어진다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;뿐만 아니라 두 가지 종류의 데이터만으로도
비트 단위에 대해 논리연산을 조합함으로써
보다 복잡한 연산을 구현해내는 것이 충분히 가능하다.
이에 대해서는 &lt;strong&gt;&lt;div to=&quot;/computer-science/bit-and-logic-operation&quot;&gt;지난 게시글&lt;/div&gt;&lt;/strong&gt;에서 다루었다.&lt;/p&gt;&lt;h2&gt;잡음내성과 글리치&lt;/h2&gt;&lt;p&gt;아날로그에서 디지털로 넘어온 것도,
이산적인 데이터 중에서도 오직 0과 1만을 사용하는 것도
전부 &lt;strong&gt;안정성&lt;/strong&gt;을 추구하기 때문이었다.
그러나 이것만으로는 안정성이 충분히 확보되었다고 보기 어렵다.
다양한 문제점 중 대표적인 예가 바로 잡음(noise)으로 인한 글리치(glitch) 현상이다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/4c39ee28c27426fe4dab31a8afc311dc/2b2c6/glitch.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:36.486486486486484%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/klEQVQoz11QXW+DMAzM//9vCKTupX1oM0GRMkggQMI3ns7FaNpJkWL7fD5bbdtG67pebxgGGseRmqahIs85Rn7fd1qWhYQvPGctFUXBMeoqDIEJCGKMpLWmvu+p6zom/xjDtTFGmqaJhZ1zVJYli7Rty8OzLKMQAimICCBiraX1dAJyXdd0HAeLCZAHD+LzPHNfkiT8Z0E0AMYYdgciIA4ArCd5DIErAIOhkabpR9B7zwRMfD2flJ93Awk5NOIPXlVVPOBxv9PX7cauYQC5b63J+44UJttTsHy/L0f/wTd17roXtgFkO4HCGnILuMAKshrI0iA8uIVT/KX+9/0CLk4cN6bgjlYAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;글리치&quot; title=&quot;글리치&quot; src=&quot;/static/4c39ee28c27426fe4dab31a8afc311dc/fcda8/glitch.png&quot; srcSet=&quot;/static/4c39ee28c27426fe4dab31a8afc311dc/12f09/glitch.png 148w,/static/4c39ee28c27426fe4dab31a8afc311dc/e4a3f/glitch.png 295w,/static/4c39ee28c27426fe4dab31a8afc311dc/fcda8/glitch.png 590w,/static/4c39ee28c27426fe4dab31a8afc311dc/2b2c6/glitch.png 869w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;일반적으로 우리는 회로에서 입력값이 0에서 1로 변화할 때 (느리든 빠르든)
&lt;code&gt;0 -&amp;gt; 0.5 -&amp;gt; 1&lt;/code&gt;과 같은 느낌으로 매끄럽게 값이 변화한다고 생각하기 쉽다.
그러나 입력값에 잡음이 포함되는 경우도 분명 존재하며
특히 0에서 1로 느리게 변화할 때 잡음으로 인해
역치(threshold)를 여러번 오가게 될 위험이 존재한다.
이 경우 출력값은 &lt;code&gt;0 -&amp;gt; 1 -&amp;gt; 0 -&amp;gt; 1&lt;/code&gt;과 같이 양극단을 여러번 오가게 된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:368px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/e71772c6848c4bb8f876f093f5d28ce7/2b727/hysteresis.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:69.5945945945946%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABz0lEQVQ4y4VU7Y6iQBDk/R/F+MMXMHtRc6iLaySuIIqAgBJPhQERxY/adF9gPVe9TirTMxTFdHeptN1usdvtEEURYiE4T+KY95Qvl0so7+8YfY4gyzIajQYmkwksy4Jt23AchzGbzeD7PqQkSfAqVFWF53nI8xy9Xu8lly4g0Q0pLpcLrtdrCdpTGIaB1WqF/X6PbrfLZ+fzmZ8XID6dbTYbSFEYMqkQKqIQrFar0DQNp9MJnU7nH+7tO8QPw/C75GeCtVqN+3g4HDAcDn9wb1fSkkQkHpKKfDAY8GqaZnnD4mO3gnRGgyx7+EyQpkrRarVQqVTKHj4S/NvDKCoP7kHRbDZ5JVsQHg2wGKKgG2ZZ9tQGNIh+v8/5dDotBZ8F95B6Qya9B5m23W6jXq/DdV38envj4RyPR8RxzEjTlMF7IbBeryFR3WRccvk9eoqC37LMQiQ6ty2EkWARMjF5k0A5gT4mvSqB+yJEme/TFP8LyZ3P8aEo0HUDrmOziU1zitFIw6c6wJ/1piQ71gy6rsO2HVjmFOPxBObEgKaNofb7SLOMjB0jCAIs/AUc2+bRU7lU5nKxQJLsvpseC/4Z0p+B7/ncM9/zECwD5ub5CV+gmSwhmIJS0wAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;이력 전이 함수&quot; title=&quot;이력 전이 함수&quot; src=&quot;/static/e71772c6848c4bb8f876f093f5d28ce7/2b727/hysteresis.png&quot; srcSet=&quot;/static/e71772c6848c4bb8f876f093f5d28ce7/12f09/hysteresis.png 148w,/static/e71772c6848c4bb8f876f093f5d28ce7/e4a3f/hysteresis.png 295w,/static/e71772c6848c4bb8f876f093f5d28ce7/2b727/hysteresis.png 368w&quot; sizes=&quot;(max-width: 368px) 100vw, 368px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;이런 글리치를 방지하는 기법 중 하나가 바로 이력 현상(hysteresis)을
사용하는 것이다.
이력 현상을 사용한다는 의미는
이력, 즉 과거에 일어난 사건을 토대로 역치를 다르게 설정한다는 의미이다.
실제로 위의 그림을 보면 0에서 1로 갈 때와 1에서 0으로 갈 때
서로 다른 전이함수를 적용된다는 것을 확인할 수 있다.&lt;/p&gt;&lt;p&gt;이처럼 추가적인 기법을 통해
잡음내성 즉, 외부의 잡음 및 간섭이 있더라도 제대로 작동할 수 있는 능력을 높일 수 있다.&lt;/p&gt;&lt;h3&gt;성능과 안정성&lt;/h3&gt;&lt;p&gt;대부분의 경우 효율성, 생산성과 같은 가치는 종종 안정성과
트레이드 오프(trade-off) 관계를 지닌다.
이 점은 하드웨어도 크게 다르지 않은 것으로 보인다.&lt;/p&gt;&lt;p&gt;하드웨어의 경우 기본적으로 안정성이 충분히 확보되었다는
전제 하에서 성능 개선을 추구한다고 볼 수 있다.
그렇다면 하드웨어는 어떠한 방식으로 성능을 개선할 수 있을까?&lt;/p&gt;&lt;p&gt;회로의 구조나 부품의 재질을 변경하지 않은 상황에서는
전기가 회로 내의 특정 부품에서 다음 부품으로 도달하는 데
걸리는 시간을 줄이는 방법이 가장 확실하다.
다만 전기 자체의 속도를 가속화하거나
전기보다 빠르면서 전기를 대체하기에 적절한 매개체는 아직 존재하지 않는다.
때문에 기업들은 꾸준히 회로의 물리적인 크기를 줄이는 것을 추구하였다.&lt;/p&gt;&lt;p&gt;그러나 문제는 회로의 소형화로 인해 성능이 개선되었을 뿐만 아니라
자연스럽게 회로의 온도가 상승한다거나,
잡음이 증가하는 등의 부작용도 함께 따라오게 되었다고 한다.
이 점을 생각했을 때 안정성에 대한 추구는
하드웨어의 발전에 있어 끝나지 않는 숙제가 아닌가 생각된다.&lt;/p&gt;&lt;h2&gt;맺으며&lt;/h2&gt;&lt;p&gt;세상에 존재하는 모든 것은 물리적인 실체를 지니고 있다.
그리고 물리적인 실체를 있는 그대로 측정할 경우 연속적인 데이터가 되며
이러한 방식으로 연속적인 데이터를 다루는 것을 보고 아날로그라고 부른다.
이에 반해 디지털이란 아날로그적인 성질을 지닌 대상을 토대로
연속적인 데이터를 이산적인 데이터로 변환하여 사용하는 것을 의미한다.&lt;/p&gt;&lt;p&gt;회로란 전기가 지닌 아날로그적인 성질을 활용하여
0과 1이라는 이산적인 데이터를 만들어내는 대표적인 디지털 도구라고 볼 수 있다.
특히 회로는 실수 대신 정수를, 정수 중에서도 0과 1만을 사용하는 등
경우의 수를 최소화함으로써 안정성을 극대화시켰다고 볼 수 있다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;컴퓨터 과학 총론: &lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9788993712629&quot;&gt;링크&lt;/a&gt;&lt;/li&gt;&lt;li&gt;한 권으로 읽는 컴퓨터 구조와 프로그래밍: &lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9791189909284&quot;&gt;링크&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[컴퓨터는 어떻게 사고하는가: 비트와 논리연산]]></title><description><![CDATA[논리 게이트란 입력값들에 대해 일정한 불리언 연산을 수행한 결과를 출력하는 장치라고 볼 수 있다. 기본적으로 AND, OR, XOR, NOT 연산을 수행하며, 이러한 게이트가 기본 단위로 모여 더욱 복잡한 기능을 수행하는 회로를 구성하게 된다.]]></description><link>https://bugoverdose.github.io/computer-science/bit-and-logic-operation/</link><guid isPermaLink="false">https://bugoverdose.github.io/computer-science/bit-and-logic-operation/</guid><pubDate>Thu, 06 Jan 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;논리연산(logic operation)이란 기본적으로 불리언 값,
즉 참 혹은 거짓 중 하나의 값을 반환하는 연산을 의미한다.
예를 들어 자바스크립트 및 JSX 문법을 기준으로
&lt;code&gt;if (a &amp;gt; 5) return true&lt;/code&gt;의 &lt;code&gt;a &amp;gt; 5&lt;/code&gt; 부분,
&lt;code&gt;a === 1 ? &amp;quot;1이다&amp;quot; : &amp;quot;1이 아니다&amp;quot;&lt;/code&gt;의 &lt;code&gt;a === 1&lt;/code&gt; 부분,
&lt;code&gt;{!loading &amp;amp;&amp;amp; &amp;lt;Component /&amp;gt;}&lt;/code&gt;의 &lt;code&gt;!loading&lt;/code&gt; 부분과 같이
조건문에 해당되는 코드들에서는 전부 논리연산이 발생한다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;그러나 논리연산은 이처럼 프로그래밍 언어에서 조건문을
수행하도록 명시적으로 지정하는 경우에만 일어난다고 볼 수 없다.
하드웨어 레벨에서 보았을 때 컴퓨터에서 일어나는 모든 처리는
본질적으로 논리연산에 기반을 두고 동작하는 것으로 보인다.&lt;/p&gt;&lt;h2&gt;컴퓨터의 개념과 기계어&lt;/h2&gt;&lt;p&gt;사실 컴퓨터라는 용어는 기계로서의 컴퓨터가 발명되기 이전부터 존재했다.
당시 컴퓨터는 계산 도구를 활용하여 숫자와 관련된 단순 계산 작업을 하는 사람들, 즉 직종을 의미하였다.
물론 현대에 와서 기계로서의 컴퓨터는 극한으로 고도화되었고,
인간 컴퓨터라는 직무를 대체하게 되었다. 그러나 과거와 마찬가지로
&lt;em&gt;상황에 따라 들어온 입력에 대해 적절한 계산을 수행하고 그 값을 출력한다&lt;/em&gt;는 점에서
그 본질은 크게 변하지 않았다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;그렇다면 인간과 기계로서의 컴퓨터의 차이는 어디에 있을까?
다양한 측면이 있겠지만 필자는 가장 큰 차이가 바로 &lt;strong&gt;언어 체계&lt;/strong&gt;에 있다고 생각한다.
인간의 언어는 &lt;em&gt;텍스트&lt;/em&gt;에 기반하는데 반해
컴퓨터의 언어인 기계어(machine language)는 &lt;em&gt;비트와 논리연산&lt;/em&gt;에 기반을 두고 있다.&lt;/p&gt;&lt;h3&gt;인간의 언어: 텍스트&lt;/h3&gt;&lt;p&gt;.js, .py, .java 등 어떤 확장자를 사용하든지 간에
대부분의 경우 프로그래머가 파일에 작성하는 코드는 결국 본질적으로 텍스트에 불과하다.
각 프로그래밍 언어의 문법을 기준으로
각 텍스트는 변수의 선언, 값 할당, 제어문 등 다양한 의미를 지닐 수 있지만
이는 인간의 기준에서만 그러하다.
컴퓨터의 입장에서 이 모든 코드는 그저 텍스트일 뿐이며,
이러한 텍스트가 컴파일러에 의해 기계어로 변환되어야 비로소 컴퓨터는 이를 이해하고 실행할 수 있게 된다.&lt;/p&gt;&lt;p&gt;별도의 IDE 없이 메모장으로 만든 텍스트 파일에 자바 문법 코드를 작성하고
.java 확장자로 저장하면 컴파일러로 해당 파일의 코드를 실행할 수 있다는 점이
이러한 과정을 명시적으로 보여준다.
마찬가지로 url의 쿼리나 해쉬 값 혹은 input 태그의 값으로 특정한 형식의 텍스트를 입력하여
서버에 요청을 보냄으로써
애플리케이션에 코드를 주입하는 종류의 웹공격이 가능한 것도 바로 이 점 때문이다.&lt;/p&gt;&lt;h3&gt;기계어: 비트와 연산&lt;/h3&gt;&lt;p&gt;그렇다면 컴파일러에 의해 변환된 코드를 컴퓨터는 어떻게 이해할까?
결론부터 말하자면 &lt;strong&gt;컴퓨터의 세계는 수학의 세계&lt;/strong&gt;라고 볼 수 있다.
다만, 인간은 일반적으로 10진법을 사용하는 데 반해 컴퓨터는 2진법을 사용하여 계산을 한다.
이는 컴퓨터가 모든 데이터를 비트로써 &lt;em&gt;물리적으로&lt;/em&gt; 저장하고 다룬다는 점을 뜻한다.&lt;/p&gt;&lt;p&gt;비트(bit)란 binary digit의 줄임말로 0 혹은 1 중 하나의 값을 지니는 단위라고 이해하면 편하다.
그리고 복수의 비트를 하나의 단위로 간주할 경우
각 비트가 지니는 0 혹은 1의 &lt;em&gt;값&lt;/em&gt;과 각 비트의 &lt;em&gt;위치&lt;/em&gt;를 기준으로
각 단위는 2진법 체계의 값을 나타낼 수 있게 된다.
대표적인 예로 8비트로 구성된 하나의 바이트(byte)는 0부터 2&lt;sup&gt;8&lt;/sup&gt;-1까지의 값들을
나타낼 수 있다.&lt;/p&gt;&lt;p&gt;그렇다면 여기서 우리는 의문을 가져보아야 한다.
대체 왜 컴퓨터는 모든 것을 10진법이 아닌
2진법으로 나타내고 비트로 데이터를 다루는 것일까?
바로 이 지점에서 우리는 드디어 &lt;strong&gt;로우 레벨에서의 논리연산&lt;/strong&gt;과
&lt;strong&gt;전자회로&lt;/strong&gt;에 대한 이야기를 시작해볼 수 있다.&lt;/p&gt;&lt;h2&gt;논리연산의 본질&lt;/h2&gt;&lt;p&gt;논리연산이란 &lt;em&gt;입력된 비트들의 값&lt;/em&gt;을 토대로
&lt;em&gt;새로운 비트&lt;/em&gt;를 &lt;strong&gt;만들어내는 동작&lt;/strong&gt;이라고 볼 수 있다.
위에서 우리는 논리연산을 참 혹은 거짓 중 하나의 값을 반환하는 연산이라고 정의하였다.
그리고 비트에 담기는 1 혹은 0의 값이 바로 이 참과 거짓에 해당된다고 볼 수 있다.&lt;/p&gt;&lt;p&gt;이해를 위해 &lt;code&gt;if (a &amp;gt; 5) return true&lt;/code&gt;라는 코드를 보면
&lt;code&gt;a &amp;gt; 5&lt;/code&gt;는 a의 값이 5보다 큰 지 확인하고
그 값이 참이면 참을, 거짓이면 거짓을 반환하라는 의미이다.
즉 해당 연산의 결과로 인해
&lt;strong&gt;참 혹은 거짓이라는 값이 컴퓨터 내에 물리적으로 생성&lt;/strong&gt;되고
해당 값을 조건절로 감싸고 있는 if 문은 해당 값에 따라 조건문 내부의 코드를
실행할지 말지에 대해 결정하게 되는 것이다.
그리고 해당 코드가 실행되는 과정에서
변수 a에 담긴 값과 5라는 리터럴은 해당 위치에서 호출되었지만
컴퓨터의 메모리에서 사라지지 않으며 이후 다른 코드들에서 그대로 쓸 수 있다.&lt;/p&gt;&lt;h2&gt;불리언 연산&lt;/h2&gt;&lt;p&gt;그동안 참 혹은 거짓의 값이라고 말한 데이터는
각종 프로그래밍 언어들에서 boolean이라는 자료형으로 불린다.
해당 명칭은 영국의 수학자 George Boole에 이름에서 나온 것이며
그는 불리언 대수(Boolean algebra)라는 4가지 연산 규칙을 고안한 사람이다.&lt;/p&gt;&lt;p&gt;그는 NOT, AND, OR, XOR라는 불리언 연산자를 제안하였는데
바로 이 연산자들이 논리연산, 회로의 뼈대라고 볼 수 있다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;NOT : 논리적 반대를 의미한다. 유일하게 단일 비트에 대해 적용된다.&lt;ul&gt;&lt;li&gt;이해: 비트의 값이 거짓인 경우 참을, 참인 경우 거짓을 출력&lt;/li&gt;&lt;li&gt;본질: 입력의 상태를 반대로 반전시킨 결과를 출력&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;AND : 둘 이상의 비트에 대해 적용되지만 프로그래밍 문법에서는 두 개의 입력값만을 받는다.&lt;ul&gt;&lt;li&gt;이해: 2비트 연산의 경우 a AND b에서 a와 b가 모두 참일 때만 참을, 그 외에는 거짓을 출력&lt;/li&gt;&lt;li&gt;본질: 입력된 모든 비트가 참일 때만 참을 출력&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;OR : 둘 이상의 비트에 대해 적용되지만 프로그래밍 문법에서는 두 개의 입력값만을 받는다.&lt;ul&gt;&lt;li&gt;이해: 2비트 연산의 경우 a OR b에서 a와 b가 모두 거짓일 때만 거짓을, 그 외에는 참을 출력&lt;/li&gt;&lt;li&gt;본질: 입력된 모든 비트 중 하나만이라도 참이면 참을 출력&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;XOR : 배타적 OR(exclusive OR)의 줄임말이다. NOT, AND, OR 연산의 조합으로 구현될 수 있다.&lt;ul&gt;&lt;li&gt;첫번째 비트와 두번째 비트가 서로 다른 경우에 참. 같은 경우 거짓을 출력&lt;/li&gt;&lt;li&gt;구현 예시: (a XOR b) == (a OR b) AND (NOT(a AND b))&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;사실 XOR 외에는 전부 일반적인 프로그래밍 언어들에 기초 문법으로
존재하는 기능들이기 때문에 개념을 이해하는 데 어려움은 없을 것이다.
그런데 앞서 언급했듯이 컴퓨터는 이처럼 프로그래밍 문법으로 명시적으로
작성하지 않은 코드에 대해서도 논리연산을 적용하여 실행한다.
그리고 위의 불리언 연산자들은 바로 이러한 연산을 이해하기 위한 핵심이라고 볼 수 있다.&lt;/p&gt;&lt;h3&gt;예제: 컴퓨터의 사칙연산&lt;/h3&gt;&lt;p&gt;누구나 쉽게 이해할 수 있도록 사칙연산 중에서도 덧셈을 예제로 준비해보았다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/b9e4c95e61067a2b1f51bb8a3875789d/d93d9/decimal-add.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:22.2972972972973%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA10lEQVQY012P22qDQBRF/f+f6ZO0tGkriUovJioZDY29QB7siLQGxwvFqas4LRK64TzsxWafcyz+5Ps+WZZxqpXrceMGjOM4M/tqySYWsz82X1xcu8RRaLzVdR1KKYQQpGlq4MTatiWKYm69NVNd3/e0TYPjr4m2O5PTeuCQl6zuQ7L9k1lsSSnJ85wkScxM5UVRMPFNGHJmL6hrRVmWSPnO+cJl6d3RKMWx+mS7e8a+dAgeH6iqCot/On1vGDR+IND6e2bJ/mAuHMdfVnzUOF7A2+uLyf0Amc0pBQ+aEJcAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;십진법 덧셈&quot; title=&quot;십진법 덧셈&quot; src=&quot;/static/b9e4c95e61067a2b1f51bb8a3875789d/fcda8/decimal-add.png&quot; srcSet=&quot;/static/b9e4c95e61067a2b1f51bb8a3875789d/12f09/decimal-add.png 148w,/static/b9e4c95e61067a2b1f51bb8a3875789d/e4a3f/decimal-add.png 295w,/static/b9e4c95e61067a2b1f51bb8a3875789d/fcda8/decimal-add.png 590w,/static/b9e4c95e61067a2b1f51bb8a3875789d/efc66/decimal-add.png 885w,/static/b9e4c95e61067a2b1f51bb8a3875789d/c83ae/decimal-add.png 1180w,/static/b9e4c95e61067a2b1f51bb8a3875789d/d93d9/decimal-add.png 1243w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;먼저 우리가 초등학교에서 배운 10진법에서의 덧셈 방식을 한번 봐보자.
우리는 두 수가 있을 때 각 자릿수의 값을 더한 개별 결과에 대해
해당 값이 10 이상인 경우 한 자리 위에 1의 값을 더하는 올림 작업을 수행하고,
해당 자릿수의 1의 자리 값은 그대로 해당 자릿수에 할당한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;1의 자리는 &lt;code&gt;5 + 0 = 5&lt;/code&gt;이므로 올림 작업을 수행하지 않고 5를 그대로 할당한다.&lt;/li&gt;&lt;li&gt;10의 자리는 &lt;code&gt;8 + 3 = 11&lt;/code&gt;이므로 올림 작업을 수행하여 일단은 1만을 할당한다.&lt;/li&gt;&lt;li&gt;100의 자리는 &lt;code&gt;1 + 1 = 2&lt;/code&gt;이지만 올림을 적용받으므로 &lt;code&gt;2 + 1 = 3&lt;/code&gt;이 된다.&lt;/li&gt;&lt;li&gt;결국 100의 자리에서는 올림 작업을 수행하지 않으므로 3을 할당하고 &lt;code&gt;315&lt;/code&gt;가 답이 된다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;즉, 각 자릿수에 대해 개별적으로 덧셈을 적용하고
&lt;em&gt;올림 작업 수행 여부&lt;/em&gt;와 &lt;em&gt;해당 자릿수에 할당할 값을 결정&lt;/em&gt;하는 두 가지 연산이
실행된다는 점이다.
이때 올림 작업의 경우 2진법이든 10진법이든
언제나 한 자리 위에 1을 더하는 방식으로 적용되며
10진법이기 때문에 10을 기준으로 적용 여부를 결정하게 된다.&lt;/p&gt;&lt;p&gt;이러한 원리는 10진법이든, 2진법이든, 16진법이든 동일하게 적용된다. 아래 예시를 한번 봐보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/803f2e975a072aedbc03fc5e6c5c9bd3/27e9a/binary-add.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:22.2972972972973%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA0klEQVQY012QX0vDMBxF+/0/kU+CDzpxTsM61FC6dja2tX8TREnT2SOJTsH7di+Hk/CL+IkxhqqqcM6dJoZh5EZIrJ1+t0y17J5SWD5Df7cz+6IlzzKWZSGy1gaJF9Z1HSDf/a614TZOcG4Om5smMtUg0+fAHY8zr50mL3uUKr6FTdNQliVFUZAkSRD3vQcU+eHA2fkVbdsxDAPli2KzlazWAqNHtB55kCl3uwQhBF3XEfEv/pVT/M8uVvfY6e8Mcq+4vN54MnT99sFaPBLH29C/AJRvLr+dshN4AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;이진법 덧셈&quot; title=&quot;이진법 덧셈&quot; src=&quot;/static/803f2e975a072aedbc03fc5e6c5c9bd3/fcda8/binary-add.png&quot; srcSet=&quot;/static/803f2e975a072aedbc03fc5e6c5c9bd3/12f09/binary-add.png 148w,/static/803f2e975a072aedbc03fc5e6c5c9bd3/e4a3f/binary-add.png 295w,/static/803f2e975a072aedbc03fc5e6c5c9bd3/fcda8/binary-add.png 590w,/static/803f2e975a072aedbc03fc5e6c5c9bd3/efc66/binary-add.png 885w,/static/803f2e975a072aedbc03fc5e6c5c9bd3/c83ae/binary-add.png 1180w,/static/803f2e975a072aedbc03fc5e6c5c9bd3/27e9a/binary-add.png 1253w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위의 &lt;code&gt;11 + 11 = 110&lt;/code&gt;은 10진법을 기준으로 &lt;code&gt;3 + 3 = 6&lt;/code&gt;으로 표현되는 매우 간단한 연산이다.
10진법과의 차이점은 각 자릿수에 할당될 수 있는 값의 범위가 0과 1로 줄어들었다는 점밖에 없다.
그런데 이처럼 값의 범위가 두 가지로 줄어들었다는 점은 너무나도 큰 의미를 지닌다.
바로 &lt;strong&gt;불리언 연산을 통해 덧셈 작업을 수행&lt;/strong&gt;할 수 있는 조건이 마련되었다는 것이다.
위에서 수행한 덧셈 작업을 불리언 연산을 통해 수행하면 다음과 같다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/ab9f3bba1fb2e47ac4621c24eb2f9ac2/4b446/boolean-add.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:81.75675675675677%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACPklEQVQ4y5WTW1PaUBSF+f9/oy996EuttqVTW62iIMpFNBSRS4BwT07ugZPL1yGClUGtXTOZ7LMmZ++1zsrJ8EYkSfL43tTTuYHt+lt85qXNTxvEcfyXW/MrHB6f0Wj10zqOH/jMW1Q9RbxSZggi4KxYoaWO/k+h6wW01QEzwyT0PMLpkE7pArtZ58tBlvNihTgKH/e92DBeN+xqU959yFIoK0zGBrM7gXHZwc63+fmtRKmmrC3HL1heq0vWdRQn+DJCAtJfYis9bGOJGYA6tHC8Z0LZLHaeh9Ewn8NoBIoCMkgbhGHI58MThDC2Gz538I9YLEBVwXVBCNAGKR0EAb6MOc5X8Tx3K8DMw7QIXViYtpt+vJRLgsBHNu8JXIeVpmAwIDJNFoFP6/Yardfn49cjVLWbqt0KxXY8rq4b1O9Vard1Dr7nyJ0XqRQuqV3XyRWuKJ3mGY+m6E0V+1ue7mWf93s/qCu3r1v2/AW94RTdtBFCELgBQljYfoA0TbyGitBjVE3SaA3wPW/X8uY2bKJ/FlJCtwtxlC4HM5NypYplWf8OZZNwsjqb8Rg0Ddpt6PdTXhgmnaHgRqnjOM6uQilDhOVgOR5yuUyVRmFI1Gqz1HVkkhCOx8SWjYwknU6T2p3Kef6CQb+/G4pumFxUFG5+tylXa3zKHnNymqecL1KpKvw6K1DKFdA6PcYTh8kEskcV9vb3aa+Uv2Z5pbSlDtHGc3Rdx7PddODK5sIPcL0Iw4DRzGE+n6e/2VPLfwD7icw7vI9cZQAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;불리언 연산을 통한 이진법 덧셈&quot; title=&quot;불리언 연산을 통한 이진법 덧셈&quot; src=&quot;/static/ab9f3bba1fb2e47ac4621c24eb2f9ac2/fcda8/boolean-add.png&quot; srcSet=&quot;/static/ab9f3bba1fb2e47ac4621c24eb2f9ac2/12f09/boolean-add.png 148w,/static/ab9f3bba1fb2e47ac4621c24eb2f9ac2/e4a3f/boolean-add.png 295w,/static/ab9f3bba1fb2e47ac4621c24eb2f9ac2/fcda8/boolean-add.png 590w,/static/ab9f3bba1fb2e47ac4621c24eb2f9ac2/4b446/boolean-add.png 877w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위의 과정은 처음 보면 복잡해보일 수 있겠지만 핵심은 간단하다.
바로 각 자릿수에 있는 1을 참으로, 0을 거짓으로 간주하고
각 자릿수의 숫자들에 대해 AND 연산과 XOR 연산을 수행하는 것이다.
이때 &lt;strong&gt;AND 연산 결과는 다음 자릿수에 올림을 적용 여부를 결정하며,&lt;/strong&gt;
&lt;strong&gt;XOR 연산 결과는 해당 자릿수의 값 존재 여부를 결정한다.&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;혹시 &lt;em&gt;엥? 그냥 더하면 되는 것을 왜 이렇게 작업하는거지?&lt;/em&gt;라는 생각이 드는가?
놀랍게도 뇌가 없는 고철 덩어리들은 그 &lt;em&gt;그냥 더하는 행위&lt;/em&gt;를 할 줄을 모른다.
즉, 인간의 지능으로 수행할 수 있는 작업들을 어떻게 해야
고철 덩어리들이 그럴듯하게 모방할 수 있을지에 대해 고민한 결과가 바로
2진법 체계와 논리연산에 기반을 둔 컴퓨터라고 볼 수 있다.&lt;/p&gt;&lt;p&gt;그리고 이처럼 기계만의 방식으로 각종 작업을 수행하기 위해 사용되는 도구가 바로
컴퓨터의 핵심 요소인 &lt;strong&gt;회로&lt;/strong&gt;라고 볼 수 있다.&lt;/p&gt;&lt;h2&gt;논리연산의 물리적 구현&lt;/h2&gt;&lt;p&gt;회로(circuit)라는 단어를 들으면 뭔지도 잘 모르겠지만
일단 머리가 갑자기 지끈거리는 것이 정상적인 반응일 것이다.
만일 그렇다면 지금 본인이 있는 방의 전등을 한 번 껐다 켜보자.
그대는 스위치에 물리적인 조작을 가함으로써 회로를 조작한 것이다.
물론 현대 사회의 컴퓨터는 그대가 조작한 스위치에 비해 훨씬 복잡한 구조를 지니고 있다.
해당 게시물에서는 위에서 언급한 내용을 중심으로 이에 대해 아주 가볍게만 다루고자 한다.&lt;/p&gt;&lt;p&gt;앞서 우리는 컴퓨터가 덧셈 작업을 수행하기 위해 XOR 연산과 AND 연산을
활용한다는 점에 대해 이야기하였다.
그렇다면 컴퓨터는 어떠한 물리적 장치를 사용하여 이러한 연산을 수행할 수 있을까?&lt;/p&gt;&lt;p&gt;또한 예를 들어 계산기에 &lt;code&gt;3 + 4&lt;/code&gt;라는 내용을 입력했을 때
우리가 &lt;code&gt;=&lt;/code&gt;를 눌러 실제로 연산을 실행하기 전까지
계산기는 어떻게 3과 4라는 값을 기억할 수 있을까?
그리고 계산이 끝나고 화면에 출력되는 &lt;code&gt;7&lt;/code&gt;이라는 값은 어떻게 그대로 유지될 수 있을까?&lt;/p&gt;&lt;h3&gt;논리 게이트&lt;/h3&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/5ae9e4bc74b9997000840acee978d0ac/63a68/logic-gate.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:51.35135135135135%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABV0lEQVQoz3VSXW+CQBDk//8l+1RN6kMLmgpaEoFDqEbxW0FBmGbWHAVtNyF73M3Nzc6uUVUVGN9xhP5bH6ZlIc8L2eOZPmeejB2Y1gDN0BiNM/Qi8D10u68YDIdIswzX67UG3S+WsEefeP8w5Z/neZ4/kRtclGUpG0mSYLvdYrVaYb/f43g84nK5IE3T+lIYhoKLokjy6XQSnMYYTbmWZcHzPCFlLJdLzOdzbDabmtA0TcxmM6zXa8GRlLjD4XAn1FIZ5/NZPhLwy7KsJirLO4ZKbrebEO12uwdbql8PWcpkMoYKFZqPNCsIlYJt2wiC4M/GiELtn22P0Hnp4Mt1/+0gy+32enDGzhNhqylN2QyW2vTt0RY2ik2hh1qQzq2m0GillGR6NJ1OEcdxa4SokiUTx0ngRBCjBbQUFkUhl3m4WCxECdVyX2N835cuu64rj1Ix51F7+AN7BgIfT1w+mwAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;논리 게이트&quot; title=&quot;논리 게이트&quot; src=&quot;/static/5ae9e4bc74b9997000840acee978d0ac/fcda8/logic-gate.png&quot; srcSet=&quot;/static/5ae9e4bc74b9997000840acee978d0ac/12f09/logic-gate.png 148w,/static/5ae9e4bc74b9997000840acee978d0ac/e4a3f/logic-gate.png 295w,/static/5ae9e4bc74b9997000840acee978d0ac/fcda8/logic-gate.png 590w,/static/5ae9e4bc74b9997000840acee978d0ac/63a68/logic-gate.png 629w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;논리 게이트(logic gate)란 입력값들에 대해
일정한 불리언 연산을 수행한 결과를 출력하는 장치라고 볼 수 있다.
릴레이, 진공관, 트랜지스터, 집적회로 등 다양한 기술을 이용하여 구현될 수 있으며,
기본적으로 전압 수준에 따라 1 혹은 0을 나타내는 전자회로로 구성된다.
그리고 이러한 게이트가 기본 단위로 모여
더욱 구체적이고 복잡한 기능을 수행하는 회로를 구성하게 된다.
그러한 회로 중 하나가 바로 메모리 회로의 핵심 부품이 되는 플립플롭(flip-flop)이다.&lt;/p&gt;&lt;p&gt;플립플롭은 다양한 구조를 띠지만 핵심 원리는 자체는 간단하다.&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;출력값으로 0 혹은 1의 값이 유지된다.&lt;/li&gt;&lt;li&gt;특정 입력값이 &lt;strong&gt;일시적으로&lt;/strong&gt; 변화하는 경우, 출력값은 변화한다.&lt;/li&gt;&lt;li&gt;해당 입력값이 다시 기존값으로 돌아가더라도 &lt;strong&gt;변화한 출력값은 그대로 유지된다.&lt;/strong&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;이해를 위해 매우 간략화된 플립플롭 구조를 한번 살펴보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/5e44e90a71d57e2ba0dad4abd8ce1870/bb3ba/flip-flop-example.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:33.78378378378378%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABL0lEQVQoz2WR646CMBCFff9nWxP/yKUCLRWLgAa5Cg3lmBkXN7s7SUNnOPNl5nSHPzEMAx+KxTn0Q495nn9ppnnGbO0nt9Z+NLuu63A6nWCMQV3XaJsGWimIIECRpoijiGtSSj63qsLteoWKIgRhiPv9DmMu/GVg3/fY77+gtcbhcOBimqYMLI2BlhKrtfwvy3Mcj0dM44iyKOD7PpRS8DyP+9Z1xW6aJvieByEEQynyPIfWKYJQoCpLOOeg4hjd+YwwDFmTZRnOlAuBoih+gHSh/auq4pW2eD6fuNJqSr19It/6gYGbX6Qh8DYIA8nDJEl4zQ1IU8VxzBOQt8uyvPNLhiiK+BHIMymT/0ASPx41mqbhRp54mviBxnHE6hyv3LYta+z365JVBKX61kfAF+7FEsGyAlZhAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;플립플롭&quot; title=&quot;플립플롭&quot; src=&quot;/static/5e44e90a71d57e2ba0dad4abd8ce1870/fcda8/flip-flop-example.png&quot; srcSet=&quot;/static/5e44e90a71d57e2ba0dad4abd8ce1870/12f09/flip-flop-example.png 148w,/static/5e44e90a71d57e2ba0dad4abd8ce1870/e4a3f/flip-flop-example.png 295w,/static/5e44e90a71d57e2ba0dad4abd8ce1870/fcda8/flip-flop-example.png 590w,/static/5e44e90a71d57e2ba0dad4abd8ce1870/efc66/flip-flop-example.png 885w,/static/5e44e90a71d57e2ba0dad4abd8ce1870/bb3ba/flip-flop-example.png 1121w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;해당 플립플롭에서 두 입력값이 모두 0일 때 출력값은 0으로 유지된다.
이때 아래쪽의 입력값이 0으로 고정된 상태로
위쪽의 입력값이 1로 변하면 출력값은 1로 변하게 된다.
이때 변한 출력값은 입력값이 다시 0으로 되돌아가더라도 그대로 유지된다는 특성을 띤다.
즉, 입력값 중 하나가 순간적으로 &lt;code&gt;0-&amp;gt;1-&amp;gt;0&lt;/code&gt;로 깜빡임으로써 &lt;em&gt;디폴트 출력값&lt;/em&gt;이 &lt;code&gt;0-&amp;gt;1&lt;/code&gt;로 변했다는 것이다.
한편 반대로 위의 입력값이 0으로 고정된 상태에서
아래쪽의 입력값이 &lt;code&gt;0-&amp;gt;1-&amp;gt;0&lt;/code&gt;으로 깜빡이는 경우 &lt;em&gt;디폴트 출력값&lt;/em&gt;은 다시 &lt;code&gt;1-&amp;gt;0&lt;/code&gt;로 변하게 된다.&lt;/p&gt;&lt;p&gt;바로 이러한 성질을 활용함으로써 우리는 비트 단위의 데이터를
회로 구조상 특정 물리적인 위치에 &lt;em&gt;얼려놓을&lt;/em&gt; 수 있게 된다.
그리고 이처럼 저장해놓은 데이터를 우리는 보다 복잡한 연산의 입력값으로 사용하고,
해당 연산의 출력값을 다시 다른 위치에 저장해놓을 수 있다.
이는 마치 인간의 뇌의 작업기억(working memory)에서 각종 정보를 실시간으로 관리하고
별도의 작업에 활용하는 것과 마찬가지이다.&lt;/p&gt;&lt;h3&gt;가산기&lt;/h3&gt;&lt;p&gt;그렇다면 플립플롭 회로와 같은 방식으로 저장된 데이터를 활용하여
실제로 어떻게 덧셈 연산을 수행할 수 있을까?
아래는 반가산기(half adder)와 전가산기(full adder)의 기본 구조다.
이때 출력값의 Carry는 올림 여부를, Sum은 특정 자릿수에 실제로 저장하는 값을 의미한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/21c0cedd0264d1e5073835cf35a8b19e/33e10/adders.png&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:35.810810810810814%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA9UlEQVQoz4VRy26EMBDj//9re15uIBAIOBDCM7zfrjxqqu4etpZGIYnHYwcHH3Df90sR13Vh33dM04TzPGVv7wiHGxKO48CyLOi6DsMwvJDYpJRCmqZwXRdxHMP3fTRNgzAMUSglPeSJoDEGfd/j6/EQQtu2KIpCGqwwzyjkPl1EUYQgCJDnufTSCN2S6/yNmGUZkiRBVVWytySLcRxlYF3XMrAsS8zzLAl/I9MmD+nA8zwpxitLLQIW27YhS1MZxiKHDhld6wK9MSIskWmZgnay+bnku1rwm4601rIyCbnrusoddeQN8Q9sZK5Mwrfmj2NR7B3fZssbqHDSYj4AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;반가산기와 전가산기&quot; title=&quot;반가산기와 전가산기&quot; src=&quot;/static/21c0cedd0264d1e5073835cf35a8b19e/fcda8/adders.png&quot; srcSet=&quot;/static/21c0cedd0264d1e5073835cf35a8b19e/12f09/adders.png 148w,/static/21c0cedd0264d1e5073835cf35a8b19e/e4a3f/adders.png 295w,/static/21c0cedd0264d1e5073835cf35a8b19e/fcda8/adders.png 590w,/static/21c0cedd0264d1e5073835cf35a8b19e/33e10/adders.png 844w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;좌측의 반가산기의 구조는 이해하기 쉬울 것이다.
각 자릿수의 입력값 두 개를 받아
AND 연산 결과로 올림 여부를 결정하고,
XOR 연산 결과를 해당 자릿수의 값으로 저장한다는
위에서 설명한 불리언 연산을 통해 덧셈 작업의 핵심 원리에 정확히 대응된다.
그런데 반가산기는 오직 2&lt;sup&gt;0&lt;/sup&gt; 자리에서의 연산에만 사용이 가능하다.
2&lt;sup&gt;1&lt;/sup&gt; 자리부터는 바로 아래 자릿수에서 올림 여부가 결정되었는지를 고려해야 하기 때문이다.
즉, 2&lt;sup&gt;1&lt;/sup&gt; 자리부터는 각 자릿수의 입력값 두 개만이 아니라 올림 여부까지 포함하여
총 3가지의 입력값을 받아 처리해야 하며, 우측의 전가산기를 통해 이러한 연산을 처리할 수 있게 된다.&lt;/p&gt;&lt;p&gt;실제 컴퓨터에 들어가는 칩(chip) 하나 하나는
초고밀도 집적회로(VLSI) 기술을 통해 이처럼 다양하고 세부적인 구성을 띤 수백만 개의 회로로 구성된다.&lt;/p&gt;&lt;h2&gt;맺으며&lt;/h2&gt;&lt;p&gt;해당 게시글은 최대한 다양한 주제를 겉핥기식으로 다루고 있다.
그러나 전달하고자 하는 핵심은 간단하다.
컴퓨터와 프로그래밍 언어는 전부 인간이 특정한 의도를 지니고 만들어낸 것이며,
컴퓨터는 복잡하지만 체계적으로 설계된 &lt;strong&gt;물리적인 도구&lt;/strong&gt;라는 것이다.&lt;/p&gt;&lt;p&gt;그리고 논리연산의 결과와 비트에 담기는 데이터가 참/거짓 혹은
1/0와 같이 두 가지 값으로 구분된다는 점은
우연의 일치가 아니라 바로 컴퓨터의 구조에 대해
옅볼 수 있는 중요한 힌트라고 볼 수 있다.&lt;/p&gt;&lt;p&gt;보다 체계적이고 깊이 있는 지식을 원한다면 컴퓨터 구조에 관한
서적을 찾아보는 것을 권장한다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9788993712629&quot;&gt;컴퓨터 과학 총론&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9791189909284&quot;&gt;한 권으로 읽는 컴퓨터 구조와 프로그래밍&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;엄밀히 말해서 이는 플립플롭보다는 래치(latch)의 특성이다.
플립플롭은 특정한 조건을 충족한 래치라고 볼 수 있다.
실제 메모리 회로에서 사용되는 플립플롭의 구조와 그 의미에 대해 알아보고 싶다면
&lt;strong&gt;&lt;div to=&quot;/computer-science/latch-and-flip-flop&quot;&gt;이 게시글&lt;/div&gt;&lt;/strong&gt;을
참고하기를 바란다.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[개발 블로그를 시작하며]]></title><description><![CDATA[블로그 버전 1의 개발을 완료하였다. 10일 정도 작업을 하였고 현재 도메인을 구글과 네이버에 각각 등록한 상황이다. 수정 및 추가하고 싶은 기능들이 아직도 꾸준히 생겨나고 있으나 이대로는 끝이 없을 듯 하여 일단 나의 첫 글을 남기고자 한다.]]></description><link>https://bugoverdose.github.io/essay/starting-a-dev-blog/</link><guid isPermaLink="false">https://bugoverdose.github.io/essay/starting-a-dev-blog/</guid><pubDate>Wed, 05 Jan 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;지난 해 12월 23일에 깃헙에 저장소를 생성한 이후 올해 1월 4일을 기준으로
블로그 v1.0.0을 완료하였다.
실질적으로 약 10일 정도 작업을 하였고,
&lt;code&gt;github.io&lt;/code&gt; 도메인으로 현재 구글과 네이버에 각각 등록한 상황이다.&lt;/p&gt;&lt;p&gt;수정 및 추가하고 싶은 기능들이 아직도 꾸준히 생겨나고 있으나
이대로는 끝이 없을 듯 하여 일단 나의 첫 글을 남기고자 한다.&lt;/p&gt;&lt;h2&gt;나는 왜 블로그를 시작하였는가&lt;/h2&gt;&lt;p&gt;나는 온라인에 글을 올리는 취미가 딱히 없는 사람이다.
트위터 등 SNS에 글을 올리는 사람들의 심리도 이해는 되지만 딱히 공감하지는 않는다.&lt;/p&gt;&lt;p&gt;다만, 나는 공부한 내용을 체계적으로 정리하는 작업을 대학생활 동안 꾸준히 해왔다.
동일한 내용도 나만의 언어로 다시 한번 정리함으로써
기존에 알던 정보들과 새로운 지식들이 통합되고
특정 주제에 대해 보다 깊이 있는 이해가 가능해지기 때문이다.&lt;/p&gt;&lt;p&gt;2020년부터는 프로그래밍과 관련하여 공부한 것들을 텍스트 파일 및 마크다운 파일로 정리하고
&lt;code&gt;~-study-note&lt;/code&gt;라는 명칭의 깃헙 저장소들에서 관리하기 시작하였다.
그러나 시간이 지난 후, 몇 달 전에 내가 열심히 정리한 글들을 다시 보았을 때
도저히 내용을 이해할 수가 없다는 문제가 확인되었다.
이 때문에 현재는 대부분의 저장소들을 private으로 바꾼 상태이다.
이 상황에 대해 고민해본 결과, 해당 글들이 타인이 읽는 것을 염두에 두지 않고
작성되었기 때문에 가독성이 낮은 것이라는 결론에 도달하였다.
해당 저장소들에 별을 주신 분들도
내가 작성해놓은 내용들을 실제로 읽고 있지는 않을 것이라고 생각한다.&lt;/p&gt;&lt;p&gt;때문에 나는 앞으로 내가 공부한 내용들을 독자를 염두에 두고 정리하고자 하며,
이를 위해 실제로 독자가 존재하는 환경에 글을 올리고자 한다.&lt;/p&gt;&lt;h2&gt;나는 왜 블로그를 직접 개발하였는가&lt;/h2&gt;&lt;p&gt;사실 단순히 글을 올릴 수 있는 환경은 참 많다. SNS나 네이버 블로그 외에도
개발 블로그에 특화된 플랫폼들도 꽤 존재하는 것으로 안다.
특히 &lt;a href=&quot;https://velog.io/&quot;&gt;벨로그&lt;/a&gt;를 사용하면 이미 훌륭하게 개발된 템플릿을 토대로
글을 쓰는 작업에 온전히 몰두할 수 있으며
보다 많은 사람들에게 내가 작성한 글이 전달될 것이라고 생각한다.&lt;/p&gt;&lt;p&gt;그러나 나의 주변 사람들 중에는 &lt;code&gt;gatsby-starter-bee&lt;/code&gt;&lt;div num=&quot;1&quot;&gt;&lt;/div&gt;
혹은 &lt;code&gt;gatsby-starter-blog&lt;/code&gt;&lt;div num=&quot;2&quot;&gt;&lt;/div&gt;
와 같은 템플릿을 활용하여 개발 블로그를 만든 사람들이 상당히 많다.
그들이 있었기 때문에 나도 당연히 Gatsby로 직접 개발 및 배포해야 한다고 생각했었고
종강하자마자 바로 공식 사이트의 튜토리얼을 읽기 시작하였다.&lt;/p&gt;&lt;h2&gt;나는 왜 템플릿을 사용하지 않았는가&lt;/h2&gt;&lt;p&gt;다만 나의 경우 템플릿을 사용하지 않고 &lt;code&gt;gatsby new&lt;/code&gt;를 실행하여 만들어지는
디폴트 프로젝트를 기반으로 필요에 따라 플러그인들을 하나하나
설치 및 설정해나가면서 개발을 진행하였다.
디자인의 경우에도 &lt;code&gt;gatsby-plugin-styled-components&lt;/code&gt;를 설치한 이후,
프로젝트 전체에 reset css를 먹이고 컴포넌트별로
css 속성들을 전부 하나 하나 작성하면서 디자인해나갔다.&lt;/p&gt;&lt;p&gt;수많은 템플릿이 존재한다는 점이 개츠비의 장점 중 하나인데
내가 왜 굳이 이처럼 제로베이스에서 시작하였는지에 대해 한번 설명하고자 한다.&lt;/p&gt;&lt;h3&gt;가오&lt;/h3&gt;&lt;p&gt;첫째는 당연히 가오 때문이다. 이것은 무척 중요하다.
현재 나는 굳이 따지자면 백엔드로 분류되지만
일단은 웹 프론트엔드로 소프트웨어 개발에 입문한 사람이다.
내가 하나부터 열까지 전부 직접 구현할 수 있는데 굳이 다른 사람의 코드에 의존하고 싶지 않았다.&lt;/p&gt;&lt;h3&gt;공부&lt;/h3&gt;&lt;p&gt;둘째는 공부 목적이다.
개발과정에서 SEO(검색엔진 최적화), Open Graph 프로토콜 등 다양한 주제를 공부하고
그 지식을 실제 프로젝트에 적용해볼 기회가 생겨서 무엇보다도 좋았다.
해당 사이트가 활성화되면 Google Analysis 등 다른 도구들도 본격적으로 활용해보고자 한다.&lt;/p&gt;&lt;p&gt;또한 Gatsby에 이번 기회에 입문하였는데 BFF(Backend For Frontend) 프레임워크답게
mdx, yaml, json 파일의 형식으로 자료를 효율적으로 구조화하고
GraphQL 쿼리로 이를 조회하는 경험을 할 수 있어서 굉장히 좋았다.
관계형 데이터베이스와 SQL문이라는 고정된 형식에서 벗어남으로써
백엔드 개발자로서의 전체적인 시야가 더 넓어질 수 있었다고 생각한다.&lt;/p&gt;&lt;h3&gt;통제&lt;/h3&gt;&lt;p&gt;무엇보다도 프로젝트에 대한 통제력을 확보하는 것이 가장 중요한 이유였다.&lt;/p&gt;&lt;p&gt;프로젝트 내에 존재하는 모든 코드에 대해 개발자 본인이 이해를 하고 있어야
각종 기능, 디자인적인 요소, 라우팅 등을 자유자제로 수정 및 추가할 수 있지 않은가.&lt;/p&gt;&lt;p&gt;만일 &lt;code&gt;gatsby-starter-blog&lt;/code&gt;와 같은 탬플릿의 전반적인 디자인과 기능들이
내 마음에 들었다면 해당 탬플릿을 그냥 사용하고 일부 코드만 적절하게 수정하는 것이
가장 효율적이었을지도 모른다.
그러나 해당 템플릿의 디자인과 라우팅은 내 취향에 전혀 맞지 않았다.&lt;/p&gt;&lt;p&gt;탬플릿을 기반으로 코드를 전부 뜯어고칠 바에야
차라리 모든 디자인과 기능을 제로베이스에서 직접 구현하는 것은 당연한 선택지였다고 볼 수 있다.
현재 결과물은 만족스럽고 꾸준한 리팩토링으로 인해 유지보수도 용이하게 관리되고 있다.&lt;/p&gt;&lt;h3&gt;버전 이슈&lt;/h3&gt;&lt;p&gt;나는 현재 릴리즈된 버전들 중 가장 최신인 Gatsby v4.4를 사용하여 프로젝트를 셋업하였다.
물론 버전이라는 것이 높으면 높을수록 무조건 좋은 것만은 아니다.
실제로 &lt;code&gt;gatsby-starter-bee&lt;/code&gt;의 경우
Gatsby v2를 사용하는 올-드한 프로젝트임에도 많은 이들의 사랑을 꾸준히 받고 있다.&lt;/p&gt;&lt;p&gt;그렇지만 Gatsby는 현재 빠른 속도로 발전하는 프레임워크이기 때문에
일단은 최신 버전을 사용하는 것이 유지보수 측면에서 장기적으로 적절하다고 생각한다.
2021년 3월과 10월에 각각 v3.0.0과 v4.0.0이 릴리즈된 것만 보아도
버전 업데이트 속도가 실로 정신나갔다고밖에 말할 수 없다.&lt;/p&gt;&lt;p&gt;Gatsby의 프로젝트 구조 및 플러그인 설정 방법에 대한 이해가 부족한
사람이 별 생각 없이 탬플릿을 사용할 경우,
향후 플러그인 중 하나가 deprecate되거나 버전 마이그레이션이 필요한 상황이 생겼을 때
과연 문제 상황에 원활하게 대처할 수 있을지 솔직히 의구심이 든다.&lt;/p&gt;&lt;h2&gt;나는 어떤 글을 쓸 것인가&lt;/h2&gt;&lt;p&gt;솔직히 잘 모르겠다. 거 뭐 해본적이 있어야지 말이다.
스스로를 &amp;#x27;필자&amp;#x27;라고 지칭해야 할지 &amp;#x27;나&amp;#x27;라고 지칭하는 것이 적절한지도 현재 고민하는 중이다.
전반적으로 문어체를 추구할지 구어체에 가깝게 작성할지도 생각 중이다.&lt;/p&gt;&lt;p&gt;그렇지만 일단 현재 블로그 결과물이 생각보다 잘 나왔고,
이왕 이렇게 된거 한 번 제대로 관리해보고자 한다.
현재 구현해놓은 페이지네이션, 태그 사전 등의 기능이 제대로 동작하려면
적어도 11개 이상의 글은 존재해야 하기 때문에 일단은 뭐라도 쓰기는 할 생각이다.&lt;/p&gt;&lt;h3&gt;글쓰기 윤리에 대하여&lt;/h3&gt;&lt;p&gt;기본적으로 모든 게시글은 개발, 실험 등 개인적인 경험과 독서 내용에 기반을 두고 작성하고자 한다.
다만, 참고자료가 조금이라도 존재할 경우 본문에 최소한의 언급을 하고,
각 게시글 하단에 관련 링크를 추가하고자 한다.&lt;/p&gt;&lt;hr/&gt;&lt;div&gt;&lt;div num=&quot;1&quot;&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/JaeYeopHan/gatsby-starter-bee&quot;&gt;gatsby-starter-bee&lt;/a&gt;: 오픈소스 블로그 탬플릿&lt;/p&gt;&lt;/div&gt;&lt;div num=&quot;2&quot;&gt;&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-blog/&quot;&gt;gatsby-starter-blog&lt;/a&gt;: Gatsby Starter Library에 등록된 개츠비 공식 블로그 탬플릿&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded></item></channel></rss>